'use strict';const a65_0x2d2ae1=a65_0x41a4;function a65_0x2d8d(){const _0x5ba7b4=['/source/getsourceslocked/:id','decrypt','/server/setsshconnection/:id','/server/find','put','registerChat','Router','getSourceInfo','getUriInfo','getEncryptSystemData','/mail/delete/:id','Utf8','statusServer','licensefile','update','crypto-js','361580IrFBTI','hasOwnProperty','__esModule','/source/sourceunlock','getSourcesLocked','__createBinding','./controllers/servers.controller','upload','getServers','then','enc','login','company','498969RoHGcm','/server/list','/.SQD','getConnectionsData','/serverldap/getsourceinfo','1218936KRhGxJ','time','homedir','connection','/bot/deletechat','getThemePrefers','./controllers/bot.controller','deleteServer','SQDKEY333','Lo\x20sentimos\x20no\x20se\x20pudo\x20procesar\x20el\x20archivo\x20de\x20licencia','23586JgyLuA','/mail/register','apply','/loadconfig','moment','register','18qGaYeA','/serverldap/delete/:id','getSource','delete','call','default','/server/deletesshconnection/:id','loadConfig','Lo\x20sentimos\x20este\x20archivo\x20no\x20es\x20válido','__setModuleDefault','getLdapServers','software-license-key','794941hRrYFC','unlinkSync','/getthemeprefers','/server/delete/:id','getSystemData','License','express','single','findOne','/source/connectiontosite','./controllers/mail.controller','post','done','8257073CdVmFE','updateConfig','create','/source/sourcelock','date','./controllers/app.controller','deleteSSHConnection','data','668110wBcYsI','value','license','/server/register','/proxy/delete/:id','/quota/register','/bot/getbot','./controllers/quota.controller','Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia','setDefault','__importStar','/proxy/registerproxy','/quota/linksource','/source/getsource','sourceLock','20quJRTn','/quota/setdefault/:id','sourceUnlock','/server/status/:id','encrypt','toString','license.sqdlic','getBot','/server/update/:id','/updateconfig','3kpQvlI','AES','get','usetime','SQDKEY111','/server/getconnectionsdata','/getencryptsystemdata','_id','getQuotas','existsSync','defineProperty','registerProxy','/geturinfo','deleteChat','./controllers/proxy.controller','7oxZopO','/.SQD/license.sqdlic','getLicenceData','index','json','./controllers/license.controller','./models/License','Lo\x20sentimos\x20esta\x20licencia\x20no\x20es\x20válida\x20o\x20ha\x20expirado','./controllers/serversldap.controller','/quota/getquotas','/login','/serverldap/linkproxyserver'];a65_0x2d8d=function(){return _0x5ba7b4;};return a65_0x2d8d();}(function(_0x13ef5f,_0x54013f){const _0x47f1ab=a65_0x41a4,_0x472da8=_0x13ef5f();while(!![]){try{const _0x2b6420=parseInt(_0x47f1ab(0x190))/0x1*(-parseInt(_0x47f1ab(0x1c8))/0x2)+-parseInt(_0x47f1ab(0x181))/0x3*(-parseInt(_0x47f1ab(0x1ac))/0x4)+parseInt(_0x47f1ab(0x168))/0x5+parseInt(_0x47f1ab(0x1ce))/0x6*(-parseInt(_0x47f1ab(0x1da))/0x7)+-parseInt(_0x47f1ab(0x1be))/0x8+parseInt(_0x47f1ab(0x1b9))/0x9*(-parseInt(_0x47f1ab(0x177))/0xa)+parseInt(_0x47f1ab(0x160))/0xb;if(_0x2b6420===_0x54013f)break;else _0x472da8['push'](_0x472da8['shift']());}catch(_0x24316c){_0x472da8['push'](_0x472da8['shift']());}}}(a65_0x2d8d,0x465ab));var __createBinding=this&&this[a65_0x2d2ae1(0x1b1)]||(Object[a65_0x2d2ae1(0x162)]?function(_0x258118,_0x3616b2,_0x4038d2,_0x3d6894){const _0x595c79=a65_0x2d2ae1;if(_0x3d6894===undefined)_0x3d6894=_0x4038d2;Object[_0x595c79(0x18b)](_0x258118,_0x3d6894,{'enumerable':!![],'get':function(){return _0x3616b2[_0x4038d2];}});}:function(_0x1df827,_0xf83eb4,_0x487cd0,_0xe60672){if(_0xe60672===undefined)_0xe60672=_0x487cd0;_0x1df827[_0xe60672]=_0xf83eb4[_0x487cd0];}),__setModuleDefault=this&&this[a65_0x2d2ae1(0x1d7)]||(Object[a65_0x2d2ae1(0x162)]?function(_0xbd1621,_0x359540){Object['defineProperty'](_0xbd1621,'default',{'enumerable':!![],'value':_0x359540});}:function(_0x12bf5c,_0x1a22ba){const _0x5abeee=a65_0x2d2ae1;_0x12bf5c[_0x5abeee(0x1d3)]=_0x1a22ba;}),__importStar=this&&this[a65_0x2d2ae1(0x172)]||function(_0x568ad1){const _0x74f80b=a65_0x2d2ae1;if(_0x568ad1&&_0x568ad1['__esModule'])return _0x568ad1;var _0x50d8ee={};if(_0x568ad1!=null){for(var _0x12356b in _0x568ad1)if(_0x12356b!=='default'&&Object['prototype'][_0x74f80b(0x1ad)][_0x74f80b(0x1d2)](_0x568ad1,_0x12356b))__createBinding(_0x50d8ee,_0x568ad1,_0x12356b);}return __setModuleDefault(_0x50d8ee,_0x568ad1),_0x50d8ee;},__awaiter=this&&this['__awaiter']||function(_0xb542db,_0x3a994b,_0x42f274,_0x4a9339){function _0x4eb9d7(_0x1205b5){return _0x1205b5 instanceof _0x42f274?_0x1205b5:new _0x42f274(function(_0x9d5d81){_0x9d5d81(_0x1205b5);});}return new(_0x42f274||(_0x42f274=Promise))(function(_0x170825,_0x353bd4){const _0x28109b=a65_0x41a4;function _0x4b42b4(_0x1ed11b){try{_0x553cb3(_0x4a9339['next'](_0x1ed11b));}catch(_0x2b4f58){_0x353bd4(_0x2b4f58);}}function _0x441a68(_0x384307){try{_0x553cb3(_0x4a9339['throw'](_0x384307));}catch(_0x20d0e2){_0x353bd4(_0x20d0e2);}}function _0x553cb3(_0x40f830){const _0x359796=a65_0x41a4;_0x40f830[_0x359796(0x1e6)]?_0x170825(_0x40f830[_0x359796(0x169)]):_0x4eb9d7(_0x40f830[_0x359796(0x169)])[_0x359796(0x1b5)](_0x4b42b4,_0x441a68);}_0x553cb3((_0x4a9339=_0x4a9339[_0x28109b(0x1ca)](_0xb542db,_0x3a994b||[]))['next']());});};function a65_0x41a4(_0x406c58,_0x40fcfe){const _0x2d8d40=a65_0x2d8d();return a65_0x41a4=function(_0x41a4eb,_0x56f7c9){_0x41a4eb=_0x41a4eb-0x160;let _0x34f146=_0x2d8d40[_0x41a4eb];return _0x34f146;},a65_0x41a4(_0x406c58,_0x40fcfe);}Object['defineProperty'](exports,a65_0x2d2ae1(0x1ae),{'value':!![]});const express_1=require(a65_0x2d2ae1(0x1e0)),ServerController=__importStar(require(a65_0x2d2ae1(0x1b2))),ServerLdapController=__importStar(require(a65_0x2d2ae1(0x198))),AppController=__importStar(require(a65_0x2d2ae1(0x165))),BotController=__importStar(require(a65_0x2d2ae1(0x1c4))),ProxyController=__importStar(require(a65_0x2d2ae1(0x18f))),MailController=__importStar(require(a65_0x2d2ae1(0x1e4))),QuotaController=__importStar(require(a65_0x2d2ae1(0x16f))),SourceController=__importStar(require('./controllers/source.controller')),LicenseController=__importStar(require(a65_0x2d2ae1(0x195))),License_1=require(a65_0x2d2ae1(0x196)),auth=require('./middleware/auth'),multer=require('multer'),os=require('os'),fs=require('fs'),SoftwareLicenseKey=require(a65_0x2d2ae1(0x1d9)),CryptoJS=require(a65_0x2d2ae1(0x1ab)),moment=require(a65_0x2d2ae1(0x1cc)),router=express_1[a65_0x2d2ae1(0x1a2)]();router[a65_0x2d2ae1(0x183)]('/',auth,AppController[a65_0x2d2ae1(0x193)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x1cb),auth,AppController[a65_0x2d2ae1(0x1d5)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x18d),auth,AppController[a65_0x2d2ae1(0x1a4)]),router[a65_0x2d2ae1(0x1a0)](a65_0x2d2ae1(0x180),auth,AppController[a65_0x2d2ae1(0x161)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x1dc),AppController[a65_0x2d2ae1(0x1c3)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x19a),AppController[a65_0x2d2ae1(0x1b7)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x199),auth,QuotaController[a65_0x2d2ae1(0x189)]),router['post'](a65_0x2d2ae1(0x16d),auth,QuotaController[a65_0x2d2ae1(0x1cd)]),router[a65_0x2d2ae1(0x1d1)]('/quota/delete/:id',auth,QuotaController['deleteQuota']),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x174),auth,QuotaController['linkSource']),router[a65_0x2d2ae1(0x1a0)](a65_0x2d2ae1(0x178),auth,QuotaController[a65_0x2d2ae1(0x171)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x175),auth,SourceController[a65_0x2d2ae1(0x1d0)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x163),auth,SourceController[a65_0x2d2ae1(0x176)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x1af),auth,SourceController[a65_0x2d2ae1(0x179)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x19c),auth,SourceController[a65_0x2d2ae1(0x1b0)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x1e3),auth,SourceController['connectionToSite']),router['post'](a65_0x2d2ae1(0x1c9),auth,MailController[a65_0x2d2ae1(0x1cd)]),router[a65_0x2d2ae1(0x1d1)](a65_0x2d2ae1(0x1a6),auth,MailController[a65_0x2d2ae1(0x1c5)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x16e),auth,BotController[a65_0x2d2ae1(0x17e)]),router[a65_0x2d2ae1(0x1e5)]('/bot/register',auth,BotController[a65_0x2d2ae1(0x1cd)]),router[a65_0x2d2ae1(0x1a0)]('/bot/registerchat',auth,BotController[a65_0x2d2ae1(0x1a1)]),router[a65_0x2d2ae1(0x1a0)](a65_0x2d2ae1(0x1c2),auth,BotController[a65_0x2d2ae1(0x18e)]),router['delete']('/bot/delete/:id',auth,BotController['deleteBot']),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x173),auth,ProxyController[a65_0x2d2ae1(0x18c)]),router[a65_0x2d2ae1(0x1d1)](a65_0x2d2ae1(0x16c),auth,ProxyController['deleteProxy']),router['post'](a65_0x2d2ae1(0x16b),auth,ServerController[a65_0x2d2ae1(0x1cd)]),router[a65_0x2d2ae1(0x1a0)](a65_0x2d2ae1(0x17f),auth,ServerController[a65_0x2d2ae1(0x1aa)]),router['put']('/server/activate/:id',auth,ServerController['activate']),router[a65_0x2d2ae1(0x1a0)](a65_0x2d2ae1(0x19e),auth,ServerController['setSSHConnection']),router['put'](a65_0x2d2ae1(0x1d4),auth,ServerController[a65_0x2d2ae1(0x166)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x1ba),auth,ServerController[a65_0x2d2ae1(0x1b4)]),router['delete'](a65_0x2d2ae1(0x1dd),auth,ServerController[a65_0x2d2ae1(0x1c5)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x17a),auth,ServerController[a65_0x2d2ae1(0x1a8)]),router[a65_0x2d2ae1(0x1e5)]('/server/restart/:id',auth,ServerController['restartServer']),router['post'](a65_0x2d2ae1(0x19f),auth,ServerController['getServersById']),router['post'](a65_0x2d2ae1(0x186),ServerController[a65_0x2d2ae1(0x1bc)]),router[a65_0x2d2ae1(0x1e5)]('/serverldap/list',auth,ServerLdapController[a65_0x2d2ae1(0x1d8)]),router[a65_0x2d2ae1(0x1e5)]('/serverldap/register',auth,ServerLdapController[a65_0x2d2ae1(0x1cd)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x19b),auth,ServerLdapController['linkProxyServer']),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x1bd),auth,ServerLdapController[a65_0x2d2ae1(0x1a3)]),router[a65_0x2d2ae1(0x1d1)](a65_0x2d2ae1(0x1cf),auth,ServerLdapController[a65_0x2d2ae1(0x1c5)]),router[a65_0x2d2ae1(0x1e5)](a65_0x2d2ae1(0x187),LicenseController[a65_0x2d2ae1(0x1a5)]),router[a65_0x2d2ae1(0x1e5)]('/uploadlicensefile',function(_0x315301,_0x3d3034){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3a8117=a65_0x41a4,_0x23b325=multer['diskStorage']({'destination':(_0x4eade3,_0x1a5644,_0x14e4d0)=>{const _0x4c2ab4=a65_0x41a4;_0x14e4d0(null,os[_0x4c2ab4(0x1c0)]()+_0x4c2ab4(0x1bb));},'filename':(_0x5cb880,_0x1a8607,_0x2156da)=>{const _0xbbfac6=a65_0x41a4;_0x2156da(null,_0xbbfac6(0x17d));}}),_0x2b6fa1=multer({'storage':_0x23b325})[_0x3a8117(0x1e1)](_0x3a8117(0x1a9));yield _0x2b6fa1(_0x315301,_0x3d3034,function(_0x5b2f48){const _0x2cad30=_0x3a8117;if(_0x5b2f48)return _0x3d3034[_0x2cad30(0x194)]({'errors':[{'location':_0x2cad30(0x1b3),'msg':_0x2cad30(0x1c7)}]});else{let _0x1934b7=new License_1[(_0x2cad30(0x1df))]();if(_0x1934b7[_0x2cad30(0x192)]()){let _0x4aca1d=_0x1934b7[_0x2cad30(0x192)](),_0x473f96=JSON['parse'](CryptoJS[_0x2cad30(0x182)][_0x2cad30(0x19d)](CryptoJS[_0x2cad30(0x182)]['decrypt'](CryptoJS['AES'][_0x2cad30(0x19d)](_0x4aca1d,_0x2cad30(0x1c6))[_0x2cad30(0x17c)](CryptoJS[_0x2cad30(0x1b6)]['Utf8']),'SQDKEY222')[_0x2cad30(0x17c)](CryptoJS[_0x2cad30(0x1b6)][_0x2cad30(0x1a7)]),_0x2cad30(0x185))[_0x2cad30(0x17c)](CryptoJS['enc']['Utf8'])),_0x160212=moment(),_0x534b77=moment(_0x473f96[_0x2cad30(0x164)]),_0x2c25b5=_0x160212['diff'](_0x534b77,'days');if(_0x473f96['systemData']==_0x1934b7[_0x2cad30(0x1de)]())License_1[_0x2cad30(0x1df)][_0x2cad30(0x1e2)]()['then'](_0x3e55a3=>{const _0x5135e3=_0x2cad30;_0x3e55a3&&License_1[_0x5135e3(0x1df)]['findByIdAndDelete'](_0x3e55a3[_0x5135e3(0x188)])['catch'](_0x33b3d7=>{const _0x43e2e9=_0x5135e3;return _0x3d3034[_0x43e2e9(0x194)]({'errors':[{'location':'license','msg':_0x43e2e9(0x170),'param':_0x43e2e9(0x1c1)}]});}),_0x473f96[_0x5135e3(0x184)]=_0x2c25b5,_0x1934b7[_0x5135e3(0x167)]=CryptoJS[_0x5135e3(0x182)][_0x5135e3(0x17b)](CryptoJS[_0x5135e3(0x182)][_0x5135e3(0x17b)](CryptoJS[_0x5135e3(0x182)][_0x5135e3(0x17b)](JSON['stringify'](_0x473f96),'SQDKEY111')[_0x5135e3(0x17c)](),'SQDKEY222')[_0x5135e3(0x17c)](),_0x5135e3(0x1c6))[_0x5135e3(0x17c)](),License_1[_0x5135e3(0x1df)][_0x5135e3(0x162)](_0x1934b7,(_0x15100a,_0x157e34)=>{const _0xc435b5=_0x5135e3;if(_0x15100a)return fs[_0xc435b5(0x18a)](os[_0xc435b5(0x1c0)]()+_0xc435b5(0x191))&&fs[_0xc435b5(0x1db)](os[_0xc435b5(0x1c0)]()+'/.SQD/license.sqdlic'),_0x3d3034[_0xc435b5(0x194)]({'errors':[{'location':_0xc435b5(0x16a),'msg':_0xc435b5(0x170)}]});else return _0x3d3034[_0xc435b5(0x194)]({'status':'ok','company':_0x473f96[_0xc435b5(0x1b8)],'time':_0x473f96[_0xc435b5(0x1bf)]-_0x473f96['usetime']});});});else return fs['existsSync'](os['homedir']()+_0x2cad30(0x191))&&fs[_0x2cad30(0x1db)](os[_0x2cad30(0x1c0)]()+'/.SQD/license.sqdlic'),_0x3d3034['json']({'errors':[{'location':_0x2cad30(0x16a),'msg':_0x2cad30(0x197)}]});}else return fs[_0x2cad30(0x18a)](os['homedir']()+_0x2cad30(0x191))&&fs[_0x2cad30(0x1db)](os[_0x2cad30(0x1c0)]()+_0x2cad30(0x191)),_0x3d3034[_0x2cad30(0x194)]({'errors':[{'location':'license','msg':_0x2cad30(0x1d6)}]});}});});}),exports[a65_0x2d2ae1(0x1d3)]=router;