'use strict';const a32_0x3a5a64=a32_0x478f;function a32_0x361c(){const _0x2e54f9=['./controllers/serversldap.controller','deleteQuota','throw','create','activate','/.SQD/license.sqdlic','Lo\x20sentimos\x20este\x20archivo\x20no\x20es\x20vÃ¡lido','json','homedir','License','existsSync','next','/serverldap/register','/login','upload','/loadconfig','getSource','call','toString','/server/register','unlinkSync','loadConfig','sourceLock','getBot','/updateconfig','post','/quota/register','/server/setsshconnection/:id','./controllers/license.controller','__awaiter','/server/deletesshconnection/:id','put','/bot/register','connection','company','parse','getServersById','getLicenceData','684186HEmcBH','./controllers/source.controller','698019ACfdus','express','usetime','statusServer','110hmyChn','SQDKEY222','./controllers/mail.controller','13696hBISPa','/quota/linksource','/serverldap/list','SQDKEY333','getSourceInfo','catch','multer','SQDKEY111','get','decrypt','/serverldap/delete/:id','license','register','./controllers/quota.controller','stringify','Utf8','getLdapServers','Lo\x20sentimos\x20no\x20se\x20pudo\x20procesar\x20el\x20archivo\x20de\x20licencia','/source/sourceunlock','./controllers/proxy.controller','getServers','value','/proxy/delete/:id','data','software-license-key','getThemePrefers','/bot/deletechat','./models/License','getSystemData','getConnectionsData','/serverldap/getsourceinfo','AES','./middleware/auth','registerChat','linkProxyServer','registerProxy','118267KmarcY','delete','/source/connectiontosite','license.sqdlic','crypto-js','sourceUnlock','apply','74892axTvec','Router','/server/update/:id','then','setSSHConnection','findOne','/server/list','554092DHGEey','/quota/getquotas','/getencryptsystemdata','/bot/delete/:id','getUriInfo','/geturinfo','__importStar','default','encrypt','findByIdAndDelete','login','/source/getsourceslocked/:id','/mail/delete/:id','deleteBot','5Lgtksb','Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia','getEncryptSystemData','linkSource','days','2wggiqT','defineProperty','/source/getsource','/serverldap/linkproxyserver','deleteServer','_id','systemData','/quota/setdefault/:id','139850qmqEbq','enc','hasOwnProperty','9NWePGH','/.SQD'];a32_0x361c=function(){return _0x2e54f9;};return a32_0x361c();}(function(_0x25a001,_0x2c0a7a){const _0x1fea65=a32_0x478f,_0x4c9016=_0x25a001();while(!![]){try{const _0x1aa26b=-parseInt(_0x1fea65(0x7a))/0x1+parseInt(_0x1fea65(0x9b))/0x2*(-parseInt(_0x1fea65(0x81))/0x3)+parseInt(_0x1fea65(0x88))/0x4+-parseInt(_0x1fea65(0x96))/0x5*(parseInt(_0x1fea65(0xce))/0x6)+parseInt(_0x1fea65(0xd0))/0x7+parseInt(_0x1fea65(0xd7))/0x8*(parseInt(_0x1fea65(0xa6))/0x9)+parseInt(_0x1fea65(0xa3))/0xa*(parseInt(_0x1fea65(0xd4))/0xb);if(_0x1aa26b===_0x2c0a7a)break;else _0x4c9016['push'](_0x4c9016['shift']());}catch(_0x152218){_0x4c9016['push'](_0x4c9016['shift']());}}}(a32_0x361c,0x1deac));function a32_0x478f(_0x2a4797,_0x15e706){const _0x361cc1=a32_0x361c();return a32_0x478f=function(_0x478f8e,_0x45fcf7){_0x478f8e=_0x478f8e-0x6e;let _0x5b6bf5=_0x361cc1[_0x478f8e];return _0x5b6bf5;},a32_0x478f(_0x2a4797,_0x15e706);}var __createBinding=this&&this['__createBinding']||(Object[a32_0x3a5a64(0xab)]?function(_0x1872a4,_0x2218da,_0x435088,_0x36d044){if(_0x36d044===undefined)_0x36d044=_0x435088;Object['defineProperty'](_0x1872a4,_0x36d044,{'enumerable':!![],'get':function(){return _0x2218da[_0x435088];}});}:function(_0x1cb124,_0x52fb90,_0x4b2c7b,_0x1e055e){if(_0x1e055e===undefined)_0x1e055e=_0x4b2c7b;_0x1cb124[_0x1e055e]=_0x52fb90[_0x4b2c7b];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x110ac9,_0x4d992a){const _0x425262=a32_0x3a5a64;Object[_0x425262(0x9c)](_0x110ac9,'default',{'enumerable':!![],'value':_0x4d992a});}:function(_0x244d95,_0x188ae0){const _0x33b11c=a32_0x3a5a64;_0x244d95[_0x33b11c(0x8f)]=_0x188ae0;}),__importStar=this&&this[a32_0x3a5a64(0x8e)]||function(_0x1d409b){const _0x178c6a=a32_0x3a5a64;if(_0x1d409b&&_0x1d409b['__esModule'])return _0x1d409b;var _0x433bdf={};if(_0x1d409b!=null){for(var _0x1f7167 in _0x1d409b)if(_0x1f7167!==_0x178c6a(0x8f)&&Object['prototype'][_0x178c6a(0xa5)][_0x178c6a(0xb9)](_0x1d409b,_0x1f7167))__createBinding(_0x433bdf,_0x1d409b,_0x1f7167);}return __setModuleDefault(_0x433bdf,_0x1d409b),_0x433bdf;},__awaiter=this&&this[a32_0x3a5a64(0xc5)]||function(_0x52b430,_0x266615,_0x31431a,_0xc994f8){function _0x157186(_0x2fff07){return _0x2fff07 instanceof _0x31431a?_0x2fff07:new _0x31431a(function(_0xc17baf){_0xc17baf(_0x2fff07);});}return new(_0x31431a||(_0x31431a=Promise))(function(_0x5769f3,_0x32cfbe){const _0x51ca49=a32_0x478f;function _0x27a282(_0x4aafa2){const _0x33794a=a32_0x478f;try{_0x5b4650(_0xc994f8[_0x33794a(0xb3)](_0x4aafa2));}catch(_0x369c50){_0x32cfbe(_0x369c50);}}function _0x4e1bfd(_0x10804f){const _0x1b923c=a32_0x478f;try{_0x5b4650(_0xc994f8[_0x1b923c(0xaa)](_0x10804f));}catch(_0x41ab93){_0x32cfbe(_0x41ab93);}}function _0x5b4650(_0x350531){const _0x17b0c0=a32_0x478f;_0x350531['done']?_0x5769f3(_0x350531[_0x17b0c0(0xec)]):_0x157186(_0x350531[_0x17b0c0(0xec)])[_0x17b0c0(0x84)](_0x27a282,_0x4e1bfd);}_0x5b4650((_0xc994f8=_0xc994f8[_0x51ca49(0x80)](_0x52b430,_0x266615||[]))[_0x51ca49(0xb3)]());});};Object[a32_0x3a5a64(0x9c)](exports,'__esModule',{'value':!![]});const express_1=require(a32_0x3a5a64(0xd1)),ServerController=__importStar(require('./controllers/servers.controller')),ServerLdapController=__importStar(require(a32_0x3a5a64(0xa8))),AppController=__importStar(require('./controllers/app.controller')),BotController=__importStar(require('./controllers/bot.controller')),ProxyController=__importStar(require(a32_0x3a5a64(0xea))),MailController=__importStar(require(a32_0x3a5a64(0xd6))),QuotaController=__importStar(require(a32_0x3a5a64(0xe4))),SourceController=__importStar(require(a32_0x3a5a64(0xcf))),LicenseController=__importStar(require(a32_0x3a5a64(0xc4))),License_1=require(a32_0x3a5a64(0x71)),auth=require(a32_0x3a5a64(0x76)),multer=require(a32_0x3a5a64(0xdd)),os=require('os'),fs=require('fs'),SoftwareLicenseKey=require(a32_0x3a5a64(0x6e)),CryptoJS=require(a32_0x3a5a64(0x7e)),moment=require('moment'),router=express_1[a32_0x3a5a64(0x82)]();router[a32_0x3a5a64(0xdf)]('/',auth,AppController['index']),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0xb7),auth,AppController[a32_0x3a5a64(0xbd)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0x8d),auth,AppController[a32_0x3a5a64(0x8c)]),router[a32_0x3a5a64(0xc7)](a32_0x3a5a64(0xc0),auth,AppController['updateConfig']),router[a32_0x3a5a64(0xc1)]('/getthemeprefers',AppController[a32_0x3a5a64(0x6f)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0xb5),AppController[a32_0x3a5a64(0x92)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0x89),auth,QuotaController['getQuotas']),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0xc2),auth,QuotaController[a32_0x3a5a64(0xe3)]),router['delete']('/quota/delete/:id',auth,QuotaController[a32_0x3a5a64(0xa9)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0xd8),auth,QuotaController[a32_0x3a5a64(0x99)]),router[a32_0x3a5a64(0xc7)](a32_0x3a5a64(0xa2),auth,QuotaController['setDefault']),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0x9d),auth,SourceController[a32_0x3a5a64(0xb8)]),router[a32_0x3a5a64(0xc1)]('/source/sourcelock',auth,SourceController[a32_0x3a5a64(0xbe)]),router['post'](a32_0x3a5a64(0xe9),auth,SourceController[a32_0x3a5a64(0x7f)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0x93),auth,SourceController['getSourcesLocked']),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0x7c),auth,SourceController['connectionToSite']),router[a32_0x3a5a64(0xc1)]('/mail/register',auth,MailController[a32_0x3a5a64(0xe3)]),router[a32_0x3a5a64(0x7b)](a32_0x3a5a64(0x94),auth,MailController[a32_0x3a5a64(0x9f)]),router[a32_0x3a5a64(0xc1)]('/bot/getbot',auth,BotController[a32_0x3a5a64(0xbf)]),router['post'](a32_0x3a5a64(0xc8),auth,BotController[a32_0x3a5a64(0xe3)]),router['put']('/bot/registerchat',auth,BotController[a32_0x3a5a64(0x77)]),router[a32_0x3a5a64(0xc7)](a32_0x3a5a64(0x70),auth,BotController['deleteChat']),router[a32_0x3a5a64(0x7b)](a32_0x3a5a64(0x8b),auth,BotController[a32_0x3a5a64(0x95)]),router[a32_0x3a5a64(0xc1)]('/proxy/registerproxy',auth,ProxyController[a32_0x3a5a64(0x79)]),router[a32_0x3a5a64(0x7b)](a32_0x3a5a64(0xed),auth,ProxyController['deleteProxy']),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0xbb),auth,ServerController[a32_0x3a5a64(0xe3)]),router[a32_0x3a5a64(0xc7)](a32_0x3a5a64(0x83),auth,ServerController['update']),router[a32_0x3a5a64(0xc7)]('/server/activate/:id',auth,ServerController[a32_0x3a5a64(0xac)]),router[a32_0x3a5a64(0xc7)](a32_0x3a5a64(0xc3),auth,ServerController[a32_0x3a5a64(0x85)]),router[a32_0x3a5a64(0xc7)](a32_0x3a5a64(0xc6),auth,ServerController['deleteSSHConnection']),router['post'](a32_0x3a5a64(0x87),auth,ServerController[a32_0x3a5a64(0xeb)]),router[a32_0x3a5a64(0x7b)]('/server/delete/:id',auth,ServerController[a32_0x3a5a64(0x9f)]),router[a32_0x3a5a64(0xc1)]('/server/status/:id',auth,ServerController[a32_0x3a5a64(0xd3)]),router[a32_0x3a5a64(0xc1)]('/server/restart/:id',auth,ServerController['restartServer']),router['post']('/server/find',auth,ServerController[a32_0x3a5a64(0xcc)]),router[a32_0x3a5a64(0xc1)]('/server/getconnectionsdata',ServerController[a32_0x3a5a64(0x73)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0xd9),auth,ServerLdapController[a32_0x3a5a64(0xe7)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0xb4),auth,ServerLdapController[a32_0x3a5a64(0xe3)]),router['post'](a32_0x3a5a64(0x9e),auth,ServerLdapController[a32_0x3a5a64(0x78)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0x74),auth,ServerLdapController[a32_0x3a5a64(0xdb)]),router[a32_0x3a5a64(0x7b)](a32_0x3a5a64(0xe1),auth,ServerLdapController[a32_0x3a5a64(0x9f)]),router[a32_0x3a5a64(0xc1)](a32_0x3a5a64(0x8a),LicenseController[a32_0x3a5a64(0x98)]),router[a32_0x3a5a64(0xc1)]('/uploadlicensefile',function(_0x2b7aa8,_0x105bc0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x373794=multer['diskStorage']({'destination':(_0x5250cf,_0x3a8b91,_0x2b32b7)=>{const _0x53571b=a32_0x478f;_0x2b32b7(null,os[_0x53571b(0xb0)]()+_0x53571b(0xa7));},'filename':(_0x2d2949,_0x10f8c8,_0x266e40)=>{const _0x2b168b=a32_0x478f;_0x266e40(null,_0x2b168b(0x7d));}}),_0x526a14=multer({'storage':_0x373794})['single']('licensefile');yield _0x526a14(_0x2b7aa8,_0x105bc0,function(_0x288d79){const _0x5cc8ea=a32_0x478f;if(_0x288d79)return _0x105bc0[_0x5cc8ea(0xaf)]({'errors':[{'location':_0x5cc8ea(0xb6),'msg':_0x5cc8ea(0xe8)}]});else{let _0x3a1eb3=new License_1[(_0x5cc8ea(0xb1))]();if(_0x3a1eb3[_0x5cc8ea(0xcd)]()){let _0x5853ca=_0x3a1eb3[_0x5cc8ea(0xcd)](),_0x2fb174=JSON[_0x5cc8ea(0xcb)](CryptoJS[_0x5cc8ea(0x75)]['decrypt'](CryptoJS[_0x5cc8ea(0x75)][_0x5cc8ea(0xe0)](CryptoJS[_0x5cc8ea(0x75)][_0x5cc8ea(0xe0)](_0x5853ca,_0x5cc8ea(0xda))[_0x5cc8ea(0xba)](CryptoJS[_0x5cc8ea(0xa4)][_0x5cc8ea(0xe6)]),_0x5cc8ea(0xd5))[_0x5cc8ea(0xba)](CryptoJS[_0x5cc8ea(0xa4)][_0x5cc8ea(0xe6)]),_0x5cc8ea(0xde))[_0x5cc8ea(0xba)](CryptoJS[_0x5cc8ea(0xa4)][_0x5cc8ea(0xe6)])),_0x3ceeb3=moment(),_0x582bf3=moment(_0x2fb174['date']),_0x25402f=_0x3ceeb3['diff'](_0x582bf3,_0x5cc8ea(0x9a));if(_0x2fb174[_0x5cc8ea(0xa1)]==_0x3a1eb3[_0x5cc8ea(0x72)]())License_1[_0x5cc8ea(0xb1)][_0x5cc8ea(0x86)]()[_0x5cc8ea(0x84)](_0x44d323=>{const _0x174a29=_0x5cc8ea;_0x44d323&&License_1[_0x174a29(0xb1)][_0x174a29(0x91)](_0x44d323[_0x174a29(0xa0)])[_0x174a29(0xdc)](_0x10560f=>{const _0x8cd73f=_0x174a29;return _0x105bc0[_0x8cd73f(0xaf)]({'errors':[{'location':'license','msg':_0x8cd73f(0x97),'param':_0x8cd73f(0xc9)}]});}),_0x2fb174[_0x174a29(0xd2)]=_0x25402f,_0x3a1eb3[_0x174a29(0xee)]=CryptoJS[_0x174a29(0x75)][_0x174a29(0x90)](CryptoJS['AES'][_0x174a29(0x90)](CryptoJS[_0x174a29(0x75)][_0x174a29(0x90)](JSON[_0x174a29(0xe5)](_0x2fb174),_0x174a29(0xde))[_0x174a29(0xba)](),'SQDKEY222')[_0x174a29(0xba)](),_0x174a29(0xda))[_0x174a29(0xba)](),License_1[_0x174a29(0xb1)][_0x174a29(0xab)](_0x3a1eb3,(_0x9d1d58,_0x1817f7)=>{const _0x3396e0=_0x174a29;if(_0x9d1d58)return fs['existsSync'](os[_0x3396e0(0xb0)]()+_0x3396e0(0xad))&&fs[_0x3396e0(0xbc)](os['homedir']()+'/.SQD/license.sqdlic'),_0x105bc0[_0x3396e0(0xaf)]({'errors':[{'location':'license','msg':_0x3396e0(0x97)}]});else return _0x105bc0[_0x3396e0(0xaf)]({'status':'ok','company':_0x2fb174[_0x3396e0(0xca)],'time':_0x2fb174['time']-_0x2fb174[_0x3396e0(0xd2)]});});});else return fs[_0x5cc8ea(0xb2)](os[_0x5cc8ea(0xb0)]()+_0x5cc8ea(0xad))&&fs[_0x5cc8ea(0xbc)](os['homedir']()+_0x5cc8ea(0xad)),_0x105bc0[_0x5cc8ea(0xaf)]({'errors':[{'location':_0x5cc8ea(0xe2),'msg':'Lo\x20sentimos\x20esta\x20licencia\x20no\x20es\x20vÃ¡lida\x20o\x20ha\x20expirado'}]});}else return fs[_0x5cc8ea(0xb2)](os[_0x5cc8ea(0xb0)]()+_0x5cc8ea(0xad))&&fs['unlinkSync'](os[_0x5cc8ea(0xb0)]()+_0x5cc8ea(0xad)),_0x105bc0['json']({'errors':[{'location':_0x5cc8ea(0xe2),'msg':_0x5cc8ea(0xae)}]});}});});}),exports[a32_0x3a5a64(0x8f)]=router;