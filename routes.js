'use strict';const a32_0x4ad564=a32_0x27ba;(function(_0x28acf3,_0x4d6285){const _0x56a9a3=a32_0x27ba,_0x584d58=_0x28acf3();while(!![]){try{const _0xd793da=parseInt(_0x56a9a3(0x1c7))/0x1*(-parseInt(_0x56a9a3(0x21c))/0x2)+-parseInt(_0x56a9a3(0x204))/0x3*(parseInt(_0x56a9a3(0x1e6))/0x4)+parseInt(_0x56a9a3(0x1d7))/0x5*(-parseInt(_0x56a9a3(0x1dc))/0x6)+-parseInt(_0x56a9a3(0x1d6))/0x7*(parseInt(_0x56a9a3(0x23a))/0x8)+-parseInt(_0x56a9a3(0x208))/0x9*(-parseInt(_0x56a9a3(0x1e3))/0xa)+parseInt(_0x56a9a3(0x22a))/0xb+parseInt(_0x56a9a3(0x20e))/0xc*(parseInt(_0x56a9a3(0x1c8))/0xd);if(_0xd793da===_0x4d6285)break;else _0x584d58['push'](_0x584d58['shift']());}catch(_0x145b6a){_0x584d58['push'](_0x584d58['shift']());}}}(a32_0x5147,0xc214e));var __createBinding=this&&this[a32_0x4ad564(0x1bf)]||(Object[a32_0x4ad564(0x245)]?function(_0xf59615,_0x2b642e,_0x476330,_0x315ede){if(_0x315ede===undefined)_0x315ede=_0x476330;Object['defineProperty'](_0xf59615,_0x315ede,{'enumerable':!![],'get':function(){return _0x2b642e[_0x476330];}});}:function(_0x7eba50,_0x2760c5,_0x5cb4c5,_0x46b0c3){if(_0x46b0c3===undefined)_0x46b0c3=_0x5cb4c5;_0x7eba50[_0x46b0c3]=_0x2760c5[_0x5cb4c5];}),__setModuleDefault=this&&this[a32_0x4ad564(0x214)]||(Object[a32_0x4ad564(0x245)]?function(_0x13f651,_0x4abc31){const _0x4ef686=a32_0x4ad564;Object[_0x4ef686(0x1c3)](_0x13f651,_0x4ef686(0x1e2),{'enumerable':!![],'value':_0x4abc31});}:function(_0x1f114d,_0x4417ad){const _0x2e4305=a32_0x4ad564;_0x1f114d[_0x2e4305(0x1e2)]=_0x4417ad;}),__importStar=this&&this[a32_0x4ad564(0x230)]||function(_0x149969){const _0x3080f5=a32_0x4ad564;if(_0x149969&&_0x149969[_0x3080f5(0x244)])return _0x149969;var _0x2083f4={};if(_0x149969!=null){for(var _0x20a333 in _0x149969)if(_0x20a333!==_0x3080f5(0x1e2)&&Object[_0x3080f5(0x236)][_0x3080f5(0x1c0)][_0x3080f5(0x235)](_0x149969,_0x20a333))__createBinding(_0x2083f4,_0x149969,_0x20a333);}return __setModuleDefault(_0x2083f4,_0x149969),_0x2083f4;},__awaiter=this&&this[a32_0x4ad564(0x21e)]||function(_0x121e35,_0x125783,_0x555ff3,_0xacd0c8){function _0x3a619c(_0x225748){return _0x225748 instanceof _0x555ff3?_0x225748:new _0x555ff3(function(_0x4a4e5d){_0x4a4e5d(_0x225748);});}return new(_0x555ff3||(_0x555ff3=Promise))(function(_0x3fe35a,_0x4a5d86){const _0x51e7c8=a32_0x27ba;function _0x1c8dfb(_0x5b2d9d){try{_0x4c1aa8(_0xacd0c8['next'](_0x5b2d9d));}catch(_0x95061b){_0x4a5d86(_0x95061b);}}function _0x3acfcb(_0x7347d3){try{_0x4c1aa8(_0xacd0c8['throw'](_0x7347d3));}catch(_0x515b89){_0x4a5d86(_0x515b89);}}function _0x4c1aa8(_0x2ed85e){const _0xbe0974=a32_0x27ba;_0x2ed85e[_0xbe0974(0x1cf)]?_0x3fe35a(_0x2ed85e['value']):_0x3a619c(_0x2ed85e[_0xbe0974(0x239)])[_0xbe0974(0x1f2)](_0x1c8dfb,_0x3acfcb);}_0x4c1aa8((_0xacd0c8=_0xacd0c8['apply'](_0x121e35,_0x125783||[]))[_0x51e7c8(0x20a)]());});};function a32_0x27ba(_0x57d00c,_0x3ea356){const _0x514767=a32_0x5147();return a32_0x27ba=function(_0x27ba06,_0x58bf53){_0x27ba06=_0x27ba06-0x1be;let _0x50d678=_0x514767[_0x27ba06];return _0x50d678;},a32_0x27ba(_0x57d00c,_0x3ea356);}Object[a32_0x4ad564(0x1c3)](exports,a32_0x4ad564(0x244),{'value':!![]});function a32_0x5147(){const _0x2d213a=['/mail/register','diff','connection','findOne','call','prototype','single','put','value','5456fjIhlY','deleteSSHConnection','license.sqdlic','Lo\x20sentimos\x20esta\x20licencia\x20no\x20es\x20válida\x20o\x20ha\x20expirado','/bot/registerchat','/server/delete/:id','./controllers/source.controller','post','upload','enc','__esModule','create','deleteChat','/bot/register','deleteServer','__createBinding','hasOwnProperty','catch','existsSync','defineProperty','registerProxy','stringify','/updateconfig','4778guKPDW','15262awpHgV','homedir','/.SQD','getSourceInfo','/bot/delete/:id','linkSource','/serverldap/linkproxyserver','done','/serverldap/list','index','getLdapServers','moment','licensefile','delete','9779CvExYk','5lozhSH','_id','./middleware/auth','/.SQD/license.sqdlic','getSystemData','837852BHHqGu','activate','decrypt','company','./models/License','getServersById','default','265730BlXHQW','/source/connectiontosite','/server/deletesshconnection/:id','44YkaoFa','/source/getsource','/getencryptsystemdata','get','deleteProxy','Router','License','unlinkSync','/serverldap/delete/:id','SQDKEY333','/loadconfig','json','then','days','/source/sourcelock','getSource','/mail/delete/:id','/server/find','/proxy/delete/:id','/bot/deletechat','setSSHConnection','/source/getsourceslocked/:id','systemData','parse','/server/list','usetime','time','toString','sourceUnlock','update','290013bxwPub','getEncryptSystemData','/server/setsshconnection/:id','register','414RWSnIO','/serverldap/register','next','./controllers/bot.controller','/server/status/:id','getLicenceData','25512cAAEBJ','Lo\x20sentimos\x20no\x20se\x20pudo\x20procesar\x20el\x20archivo\x20de\x20licencia','/proxy/registerproxy','software-license-key','license','data','__setModuleDefault','getQuotas','diskStorage','Utf8','SQDKEY111','./controllers/proxy.controller','findByIdAndDelete','/server/getconnectionsdata','586XSZIEf','setDefault','__awaiter','/quota/setdefault/:id','crypto-js','./controllers/quota.controller','statusServer','getConnectionsData','/server/register','/quota/register','SQDKEY222','/quota/delete/:id','date','AES','6956477jPPMAP','encrypt','./controllers/mail.controller','./controllers/serversldap.controller','/geturinfo','login','__importStar'];a32_0x5147=function(){return _0x2d213a;};return a32_0x5147();}const express_1=require('express'),ServerController=__importStar(require('./controllers/servers.controller')),ServerLdapController=__importStar(require(a32_0x4ad564(0x22d))),AppController=__importStar(require('./controllers/app.controller')),BotController=__importStar(require(a32_0x4ad564(0x20b))),ProxyController=__importStar(require(a32_0x4ad564(0x219))),MailController=__importStar(require(a32_0x4ad564(0x22c))),QuotaController=__importStar(require(a32_0x4ad564(0x221))),SourceController=__importStar(require(a32_0x4ad564(0x240))),LicenseController=__importStar(require('./controllers/license.controller')),License_1=require(a32_0x4ad564(0x1e0)),auth=require(a32_0x4ad564(0x1d9)),multer=require('multer'),os=require('os'),fs=require('fs'),SoftwareLicenseKey=require(a32_0x4ad564(0x211)),CryptoJS=require(a32_0x4ad564(0x220)),moment=require(a32_0x4ad564(0x1d3)),router=express_1[a32_0x4ad564(0x1eb)]();router[a32_0x4ad564(0x1e9)]('/',auth,AppController[a32_0x4ad564(0x1d1)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1f0),auth,AppController['loadConfig']),router['post'](a32_0x4ad564(0x22e),auth,AppController['getUriInfo']),router[a32_0x4ad564(0x238)](a32_0x4ad564(0x1c6),auth,AppController['updateConfig']),router['post']('/getthemeprefers',AppController['getThemePrefers']),router[a32_0x4ad564(0x241)]('/login',AppController[a32_0x4ad564(0x22f)]),router[a32_0x4ad564(0x241)]('/quota/getquotas',auth,QuotaController[a32_0x4ad564(0x215)]),router['post'](a32_0x4ad564(0x225),auth,QuotaController[a32_0x4ad564(0x207)]),router['delete'](a32_0x4ad564(0x227),auth,QuotaController['deleteQuota']),router[a32_0x4ad564(0x241)]('/quota/linksource',auth,QuotaController[a32_0x4ad564(0x1cd)]),router['put'](a32_0x4ad564(0x21f),auth,QuotaController[a32_0x4ad564(0x21d)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1e7),auth,SourceController[a32_0x4ad564(0x1f5)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1f4),auth,SourceController['sourceLock']),router[a32_0x4ad564(0x241)]('/source/sourceunlock',auth,SourceController[a32_0x4ad564(0x202)]),router['post'](a32_0x4ad564(0x1fb),auth,SourceController['getSourcesLocked']),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1e4),auth,SourceController['connectionToSite']),router['post'](a32_0x4ad564(0x231),auth,MailController['register']),router[a32_0x4ad564(0x1d5)](a32_0x4ad564(0x1f6),auth,MailController[a32_0x4ad564(0x1be)]),router[a32_0x4ad564(0x241)]('/bot/getbot',auth,BotController['getBot']),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x247),auth,BotController[a32_0x4ad564(0x207)]),router[a32_0x4ad564(0x238)](a32_0x4ad564(0x23e),auth,BotController['registerChat']),router[a32_0x4ad564(0x238)](a32_0x4ad564(0x1f9),auth,BotController[a32_0x4ad564(0x246)]),router[a32_0x4ad564(0x1d5)](a32_0x4ad564(0x1cc),auth,BotController['deleteBot']),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x210),auth,ProxyController[a32_0x4ad564(0x1c4)]),router[a32_0x4ad564(0x1d5)](a32_0x4ad564(0x1f8),auth,ProxyController[a32_0x4ad564(0x1ea)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x224),auth,ServerController['register']),router['put']('/server/update/:id',auth,ServerController[a32_0x4ad564(0x203)]),router[a32_0x4ad564(0x238)]('/server/activate/:id',auth,ServerController[a32_0x4ad564(0x1dd)]),router[a32_0x4ad564(0x238)](a32_0x4ad564(0x206),auth,ServerController[a32_0x4ad564(0x1fa)]),router['put'](a32_0x4ad564(0x1e5),auth,ServerController[a32_0x4ad564(0x23b)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1fe),auth,ServerController['getServers']),router[a32_0x4ad564(0x1d5)](a32_0x4ad564(0x23f),auth,ServerController[a32_0x4ad564(0x1be)]),router['post'](a32_0x4ad564(0x20c),auth,ServerController[a32_0x4ad564(0x222)]),router[a32_0x4ad564(0x241)]('/server/restart/:id',auth,ServerController['restartServer']),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1f7),auth,ServerController[a32_0x4ad564(0x1e1)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x21b),ServerController[a32_0x4ad564(0x223)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1d0),auth,ServerLdapController[a32_0x4ad564(0x1d2)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x209),auth,ServerLdapController[a32_0x4ad564(0x207)]),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1ce),auth,ServerLdapController['linkProxyServer']),router[a32_0x4ad564(0x241)]('/serverldap/getsourceinfo',auth,ServerLdapController[a32_0x4ad564(0x1cb)]),router[a32_0x4ad564(0x1d5)](a32_0x4ad564(0x1ee),auth,ServerLdapController['deleteServer']),router[a32_0x4ad564(0x241)](a32_0x4ad564(0x1e8),LicenseController[a32_0x4ad564(0x205)]),router['post']('/uploadlicensefile',function(_0x4f01e5,_0x409f63){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2c297d=a32_0x27ba,_0x31ea8f=multer[_0x2c297d(0x216)]({'destination':(_0x40bbc1,_0x530df0,_0x2b2246)=>{const _0x4e040e=_0x2c297d;_0x2b2246(null,os[_0x4e040e(0x1c9)]()+_0x4e040e(0x1ca));},'filename':(_0x4fdb5a,_0x528154,_0x197821)=>{const _0xbcce56=_0x2c297d;_0x197821(null,_0xbcce56(0x23c));}}),_0x394c09=multer({'storage':_0x31ea8f})[_0x2c297d(0x237)](_0x2c297d(0x1d4));yield _0x394c09(_0x4f01e5,_0x409f63,function(_0x150585){const _0x1ea984=_0x2c297d;if(_0x150585)return _0x409f63[_0x1ea984(0x1f1)]({'errors':[{'location':_0x1ea984(0x242),'msg':_0x1ea984(0x20f)}]});else{let _0x1eda6d=new License_1[(_0x1ea984(0x1ec))]();if(_0x1eda6d[_0x1ea984(0x20d)]()){let _0x280a1d=_0x1eda6d[_0x1ea984(0x20d)](),_0x5ed67a=JSON[_0x1ea984(0x1fd)](CryptoJS[_0x1ea984(0x229)]['decrypt'](CryptoJS[_0x1ea984(0x229)]['decrypt'](CryptoJS[_0x1ea984(0x229)][_0x1ea984(0x1de)](_0x280a1d,_0x1ea984(0x1ef))[_0x1ea984(0x201)](CryptoJS[_0x1ea984(0x243)][_0x1ea984(0x217)]),_0x1ea984(0x226))[_0x1ea984(0x201)](CryptoJS[_0x1ea984(0x243)][_0x1ea984(0x217)]),'SQDKEY111')['toString'](CryptoJS[_0x1ea984(0x243)]['Utf8'])),_0xeec0e4=moment(),_0x46d495=moment(_0x5ed67a[_0x1ea984(0x228)]),_0x4c5858=_0xeec0e4[_0x1ea984(0x232)](_0x46d495,_0x1ea984(0x1f3));if(_0x5ed67a[_0x1ea984(0x1fc)]==_0x1eda6d[_0x1ea984(0x1db)]())License_1['License'][_0x1ea984(0x234)]()[_0x1ea984(0x1f2)](_0x849430=>{const _0x13ad23=_0x1ea984;_0x849430&&License_1[_0x13ad23(0x1ec)][_0x13ad23(0x21a)](_0x849430[_0x13ad23(0x1d8)])[_0x13ad23(0x1c1)](_0x563a46=>{const _0x18d43a=_0x13ad23;return _0x409f63[_0x18d43a(0x1f1)]({'errors':[{'location':_0x18d43a(0x212),'msg':'Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia','param':_0x18d43a(0x233)}]});}),_0x5ed67a[_0x13ad23(0x1ff)]=_0x4c5858,_0x1eda6d[_0x13ad23(0x213)]=CryptoJS[_0x13ad23(0x229)]['encrypt'](CryptoJS[_0x13ad23(0x229)]['encrypt'](CryptoJS[_0x13ad23(0x229)][_0x13ad23(0x22b)](JSON[_0x13ad23(0x1c5)](_0x5ed67a),_0x13ad23(0x218))[_0x13ad23(0x201)](),_0x13ad23(0x226))['toString'](),_0x13ad23(0x1ef))[_0x13ad23(0x201)](),License_1[_0x13ad23(0x1ec)][_0x13ad23(0x245)](_0x1eda6d,(_0x31015d,_0x5df883)=>{const _0x91465=_0x13ad23;if(_0x31015d)return fs[_0x91465(0x1c2)](os[_0x91465(0x1c9)]()+_0x91465(0x1da))&&fs['unlinkSync'](os[_0x91465(0x1c9)]()+_0x91465(0x1da)),_0x409f63[_0x91465(0x1f1)]({'errors':[{'location':_0x91465(0x212),'msg':'Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia'}]});else return _0x409f63[_0x91465(0x1f1)]({'status':'ok','company':_0x5ed67a[_0x91465(0x1df)],'time':_0x5ed67a[_0x91465(0x200)]-_0x5ed67a[_0x91465(0x1ff)]});});});else return fs[_0x1ea984(0x1c2)](os['homedir']()+_0x1ea984(0x1da))&&fs['unlinkSync'](os[_0x1ea984(0x1c9)]()+_0x1ea984(0x1da)),_0x409f63['json']({'errors':[{'location':_0x1ea984(0x212),'msg':_0x1ea984(0x23d)}]});}else return fs[_0x1ea984(0x1c2)](os[_0x1ea984(0x1c9)]()+_0x1ea984(0x1da))&&fs[_0x1ea984(0x1ed)](os[_0x1ea984(0x1c9)]()+'/.SQD/license.sqdlic'),_0x409f63[_0x1ea984(0x1f1)]({'errors':[{'location':_0x1ea984(0x212),'msg':'Lo\x20sentimos\x20este\x20archivo\x20no\x20es\x20válido'}]});}});});}),exports[a32_0x4ad564(0x1e2)]=router;