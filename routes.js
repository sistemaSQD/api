'use strict';const a32_0x4be466=a32_0x542b;(function(_0x360e06,_0x340d59){const _0x4a3643=a32_0x542b,_0x4b73e0=_0x360e06();while(!![]){try{const _0xefa204=parseInt(_0x4a3643(0x229))/0x1+parseInt(_0x4a3643(0x1f4))/0x2*(parseInt(_0x4a3643(0x1d9))/0x3)+-parseInt(_0x4a3643(0x1f7))/0x4*(-parseInt(_0x4a3643(0x228))/0x5)+parseInt(_0x4a3643(0x244))/0x6*(-parseInt(_0x4a3643(0x1f6))/0x7)+parseInt(_0x4a3643(0x1c6))/0x8*(-parseInt(_0x4a3643(0x204))/0x9)+-parseInt(_0x4a3643(0x1c4))/0xa+-parseInt(_0x4a3643(0x1ec))/0xb;if(_0xefa204===_0x340d59)break;else _0x4b73e0['push'](_0x4b73e0['shift']());}catch(_0x3c9fb1){_0x4b73e0['push'](_0x4b73e0['shift']());}}}(a32_0x4fc7,0xc16e3));function a32_0x4fc7(){const _0x38ae16=['__esModule','moment','/uploadlicensefile','/quota/delete/:id','/serverldap/delete/:id','5142965RQxGfr','999002uqLnlH','./controllers/servers.controller','delete','sourceUnlock','/server/list','linkSource','update','time','license','getUriInfo','./controllers/serversldap.controller','create','_id','next','/serverldap/register','./controllers/license.controller','/server/activate/:id','updateConfig','getConnectionsData','/server/status/:id','getSourcesLocked','getLdapServers','get','/quota/linksource','express','software-license-key','setSSHConnection','71844izMvQp','findOne','throw','getBot','/login','Lo\x20sentimos\x20esta\x20licencia\x20no\x20es\x20válida\x20o\x20ha\x20expirado','statusServer','index','/quota/getquotas','2770470CbiyTU','/bot/deletechat','176rsCTWS','defineProperty','connectionToSite','/quota/setdefault/:id','call','usetime','encrypt','/serverldap/list','getSourceInfo','/quota/register','deleteBot','done','/updateconfig','/proxy/registerproxy','/server/delete/:id','/source/sourceunlock','SQDKEY333','getServersById','put','4386XDlQGf','stringify','homedir','decrypt','then','deleteSSHConnection','hasOwnProperty','toString','/source/sourcelock','/loadconfig','license.sqdlic','licensefile','catch','SQDKEY111','restartServer','AES','date','value','/.SQD/license.sqdlic','12211353mpvCid','SQDKEY222','login','findByIdAndDelete','./controllers/mail.controller','unlinkSync','Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia','loadConfig','1604bUYiwa','getQuotas','14dcJUTg','4cjsYSs','enc','upload','Lo\x20sentimos\x20este\x20archivo\x20no\x20es\x20válido','post','/source/getsourceslocked/:id','existsSync','days','getEncryptSystemData','deleteQuota','/server/setsshconnection/:id','getSource','linkProxyServer','407745RziXjF','/server/find','single','/getthemeprefers','/serverldap/getsourceinfo','Router','./middleware/auth','/source/connectiontosite','company','getServers','/geturinfo','/server/getconnectionsdata','register','/bot/delete/:id','__importStar','/bot/registerchat','sourceLock','/bot/getbot','/.SQD','License','deleteServer','deleteChat','./controllers/bot.controller','json','default','./controllers/proxy.controller','Utf8','getThemePrefers','/mail/register','crypto-js','deleteProxy'];a32_0x4fc7=function(){return _0x38ae16;};return a32_0x4fc7();}function a32_0x542b(_0x284170,_0x208e15){const _0x4fc736=a32_0x4fc7();return a32_0x542b=function(_0x542bbe,_0x4dbcde){_0x542bbe=_0x542bbe-0x1c4;let _0x43691d=_0x4fc736[_0x542bbe];return _0x43691d;},a32_0x542b(_0x284170,_0x208e15);}var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x4a0c35,_0x4ee0da,_0x24acf3,_0x54ade6){const _0x5c7ddc=a32_0x542b;if(_0x54ade6===undefined)_0x54ade6=_0x24acf3;Object[_0x5c7ddc(0x1c7)](_0x4a0c35,_0x54ade6,{'enumerable':!![],'get':function(){return _0x4ee0da[_0x24acf3];}});}:function(_0x37f8e4,_0x56c08a,_0x25753e,_0xf6478e){if(_0xf6478e===undefined)_0xf6478e=_0x25753e;_0x37f8e4[_0xf6478e]=_0x56c08a[_0x25753e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a32_0x4be466(0x234)]?function(_0x5f2e5b,_0x130648){const _0x6e7b78=a32_0x4be466;Object[_0x6e7b78(0x1c7)](_0x5f2e5b,'default',{'enumerable':!![],'value':_0x130648});}:function(_0x55ef4c,_0x21d99d){const _0x276554=a32_0x4be466;_0x55ef4c[_0x276554(0x21c)]=_0x21d99d;}),__importStar=this&&this[a32_0x4be466(0x212)]||function(_0x103505){const _0x200ba2=a32_0x4be466;if(_0x103505&&_0x103505[_0x200ba2(0x223)])return _0x103505;var _0x3b6135={};if(_0x103505!=null){for(var _0x3f6de1 in _0x103505)if(_0x3f6de1!==_0x200ba2(0x21c)&&Object['prototype'][_0x200ba2(0x1df)][_0x200ba2(0x1ca)](_0x103505,_0x3f6de1))__createBinding(_0x3b6135,_0x103505,_0x3f6de1);}return __setModuleDefault(_0x3b6135,_0x103505),_0x3b6135;},__awaiter=this&&this['__awaiter']||function(_0x502d2b,_0x1da19e,_0x1497b6,_0x2b314c){function _0x525c08(_0x30383c){return _0x30383c instanceof _0x1497b6?_0x30383c:new _0x1497b6(function(_0x4bacba){_0x4bacba(_0x30383c);});}return new(_0x1497b6||(_0x1497b6=Promise))(function(_0x1b8143,_0x2d3e0b){const _0x1a688a=a32_0x542b;function _0x1f0e6d(_0xb964e2){const _0x48c114=a32_0x542b;try{_0x6a02c9(_0x2b314c[_0x48c114(0x236)](_0xb964e2));}catch(_0x2ae6c8){_0x2d3e0b(_0x2ae6c8);}}function _0x27c86b(_0x1b39a8){const _0x35e044=a32_0x542b;try{_0x6a02c9(_0x2b314c[_0x35e044(0x246)](_0x1b39a8));}catch(_0x6ad8fa){_0x2d3e0b(_0x6ad8fa);}}function _0x6a02c9(_0x4c7487){const _0x24ccaf=a32_0x542b;_0x4c7487[_0x24ccaf(0x1d1)]?_0x1b8143(_0x4c7487['value']):_0x525c08(_0x4c7487[_0x24ccaf(0x1ea)])['then'](_0x1f0e6d,_0x27c86b);}_0x6a02c9((_0x2b314c=_0x2b314c['apply'](_0x502d2b,_0x1da19e||[]))[_0x1a688a(0x236)]());});};Object[a32_0x4be466(0x1c7)](exports,a32_0x4be466(0x223),{'value':!![]});const express_1=require(a32_0x4be466(0x241)),ServerController=__importStar(require(a32_0x4be466(0x22a))),ServerLdapController=__importStar(require(a32_0x4be466(0x233))),AppController=__importStar(require('./controllers/app.controller')),BotController=__importStar(require(a32_0x4be466(0x21a))),ProxyController=__importStar(require(a32_0x4be466(0x21d))),MailController=__importStar(require(a32_0x4be466(0x1f0))),QuotaController=__importStar(require('./controllers/quota.controller')),SourceController=__importStar(require('./controllers/source.controller')),LicenseController=__importStar(require(a32_0x4be466(0x238))),License_1=require('./models/License'),auth=require(a32_0x4be466(0x20a)),multer=require('multer'),os=require('os'),fs=require('fs'),SoftwareLicenseKey=require(a32_0x4be466(0x242)),CryptoJS=require(a32_0x4be466(0x221)),moment=require(a32_0x4be466(0x224)),router=express_1[a32_0x4be466(0x209)]();router[a32_0x4be466(0x23f)]('/',auth,AppController[a32_0x4be466(0x24b)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x1e2),auth,AppController[a32_0x4be466(0x1f3)]),router['post'](a32_0x4be466(0x20e),auth,AppController[a32_0x4be466(0x232)]),router['put'](a32_0x4be466(0x1d2),auth,AppController[a32_0x4be466(0x23a)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x207),AppController[a32_0x4be466(0x21f)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x248),AppController[a32_0x4be466(0x1ee)]),router['post'](a32_0x4be466(0x24c),auth,QuotaController[a32_0x4be466(0x1f5)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x1cf),auth,QuotaController[a32_0x4be466(0x210)]),router[a32_0x4be466(0x22b)](a32_0x4be466(0x226),auth,QuotaController[a32_0x4be466(0x200)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x240),auth,QuotaController[a32_0x4be466(0x22e)]),router[a32_0x4be466(0x1d8)](a32_0x4be466(0x1c9),auth,QuotaController['setDefault']),router[a32_0x4be466(0x1fb)]('/source/getsource',auth,SourceController[a32_0x4be466(0x202)]),router['post'](a32_0x4be466(0x1e1),auth,SourceController[a32_0x4be466(0x214)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x1d5),auth,SourceController[a32_0x4be466(0x22c)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x1fc),auth,SourceController[a32_0x4be466(0x23d)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x20b),auth,SourceController[a32_0x4be466(0x1c8)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x220),auth,MailController['register']),router[a32_0x4be466(0x22b)]('/mail/delete/:id',auth,MailController[a32_0x4be466(0x218)]),router['post'](a32_0x4be466(0x215),auth,BotController[a32_0x4be466(0x247)]),router[a32_0x4be466(0x1fb)]('/bot/register',auth,BotController[a32_0x4be466(0x210)]),router[a32_0x4be466(0x1d8)](a32_0x4be466(0x213),auth,BotController['registerChat']),router[a32_0x4be466(0x1d8)](a32_0x4be466(0x1c5),auth,BotController[a32_0x4be466(0x219)]),router['delete'](a32_0x4be466(0x211),auth,BotController[a32_0x4be466(0x1d0)]),router['post'](a32_0x4be466(0x1d3),auth,ProxyController['registerProxy']),router[a32_0x4be466(0x22b)]('/proxy/delete/:id',auth,ProxyController[a32_0x4be466(0x222)]),router[a32_0x4be466(0x1fb)]('/server/register',auth,ServerController[a32_0x4be466(0x210)]),router[a32_0x4be466(0x1d8)]('/server/update/:id',auth,ServerController[a32_0x4be466(0x22f)]),router['put'](a32_0x4be466(0x239),auth,ServerController['activate']),router['put'](a32_0x4be466(0x201),auth,ServerController[a32_0x4be466(0x243)]),router[a32_0x4be466(0x1d8)]('/server/deletesshconnection/:id',auth,ServerController[a32_0x4be466(0x1de)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x22d),auth,ServerController[a32_0x4be466(0x20d)]),router[a32_0x4be466(0x22b)](a32_0x4be466(0x1d4),auth,ServerController[a32_0x4be466(0x218)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x23c),auth,ServerController[a32_0x4be466(0x24a)]),router['post']('/server/restart/:id',auth,ServerController[a32_0x4be466(0x1e7)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x205),auth,ServerController[a32_0x4be466(0x1d7)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x20f),ServerController[a32_0x4be466(0x23b)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x1cd),auth,ServerLdapController[a32_0x4be466(0x23e)]),router['post'](a32_0x4be466(0x237),auth,ServerLdapController[a32_0x4be466(0x210)]),router[a32_0x4be466(0x1fb)]('/serverldap/linkproxyserver',auth,ServerLdapController[a32_0x4be466(0x203)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x208),auth,ServerLdapController[a32_0x4be466(0x1ce)]),router[a32_0x4be466(0x22b)](a32_0x4be466(0x227),auth,ServerLdapController['deleteServer']),router[a32_0x4be466(0x1fb)]('/getencryptsystemdata',LicenseController[a32_0x4be466(0x1ff)]),router[a32_0x4be466(0x1fb)](a32_0x4be466(0x225),function(_0x45ef4f,_0x1e5de0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x5334f8=a32_0x542b,_0x451c10=multer['diskStorage']({'destination':(_0x1b8da7,_0x4068d9,_0x980c40)=>{const _0x2517a9=a32_0x542b;_0x980c40(null,os['homedir']()+_0x2517a9(0x216));},'filename':(_0x533b23,_0x3ef741,_0x484ca3)=>{const _0x3c6bbe=a32_0x542b;_0x484ca3(null,_0x3c6bbe(0x1e3));}}),_0x654d30=multer({'storage':_0x451c10})[_0x5334f8(0x206)](_0x5334f8(0x1e4));yield _0x654d30(_0x45ef4f,_0x1e5de0,function(_0x481631){const _0x12c3d1=_0x5334f8;if(_0x481631)return _0x1e5de0[_0x12c3d1(0x21b)]({'errors':[{'location':_0x12c3d1(0x1f9),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20procesar\x20el\x20archivo\x20de\x20licencia'}]});else{let _0x546971=new License_1[(_0x12c3d1(0x217))]();if(_0x546971['getLicenceData']()){let _0x3505c1=_0x546971['getLicenceData'](),_0x202324=JSON['parse'](CryptoJS[_0x12c3d1(0x1e8)]['decrypt'](CryptoJS['AES'][_0x12c3d1(0x1dc)](CryptoJS[_0x12c3d1(0x1e8)]['decrypt'](_0x3505c1,_0x12c3d1(0x1d6))[_0x12c3d1(0x1e0)](CryptoJS['enc'][_0x12c3d1(0x21e)]),_0x12c3d1(0x1ed))[_0x12c3d1(0x1e0)](CryptoJS[_0x12c3d1(0x1f8)][_0x12c3d1(0x21e)]),_0x12c3d1(0x1e6))[_0x12c3d1(0x1e0)](CryptoJS[_0x12c3d1(0x1f8)][_0x12c3d1(0x21e)])),_0x50fa85=moment(),_0x55ab9c=moment(_0x202324[_0x12c3d1(0x1e9)]),_0x556d8d=_0x50fa85['diff'](_0x55ab9c,_0x12c3d1(0x1fe));if(_0x202324['systemData']['toString']()===_0x546971['getSystemData']()['toString']())License_1['License'][_0x12c3d1(0x245)]()[_0x12c3d1(0x1dd)](_0x3aabd1=>{const _0x4ac686=_0x12c3d1;_0x3aabd1&&License_1[_0x4ac686(0x217)][_0x4ac686(0x1ef)](_0x3aabd1[_0x4ac686(0x235)])[_0x4ac686(0x1e5)](_0x2b9de9=>{const _0xb644d3=_0x4ac686;return _0x1e5de0[_0xb644d3(0x21b)]({'errors':[{'location':_0xb644d3(0x231),'msg':_0xb644d3(0x1f2),'param':'connection'}]});}),_0x202324['usetime']=_0x556d8d,_0x546971['data']=CryptoJS[_0x4ac686(0x1e8)]['encrypt'](CryptoJS[_0x4ac686(0x1e8)][_0x4ac686(0x1cc)](CryptoJS[_0x4ac686(0x1e8)][_0x4ac686(0x1cc)](JSON[_0x4ac686(0x1da)](_0x202324),_0x4ac686(0x1e6))[_0x4ac686(0x1e0)](),_0x4ac686(0x1ed))[_0x4ac686(0x1e0)](),'SQDKEY333')[_0x4ac686(0x1e0)](),License_1[_0x4ac686(0x217)][_0x4ac686(0x234)](_0x546971,(_0x463370,_0x1d359d)=>{const _0xb104fb=_0x4ac686;if(_0x463370)return fs[_0xb104fb(0x1fd)](os[_0xb104fb(0x1db)]()+_0xb104fb(0x1eb))&&fs['unlinkSync'](os[_0xb104fb(0x1db)]()+_0xb104fb(0x1eb)),_0x1e5de0[_0xb104fb(0x21b)]({'errors':[{'location':_0xb104fb(0x231),'msg':'Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia'}]});else return _0x1e5de0[_0xb104fb(0x21b)]({'status':'ok','company':_0x202324[_0xb104fb(0x20c)],'time':_0x202324[_0xb104fb(0x230)]-_0x202324[_0xb104fb(0x1cb)]});});});else return fs['existsSync'](os[_0x12c3d1(0x1db)]()+_0x12c3d1(0x1eb))&&fs[_0x12c3d1(0x1f1)](os['homedir']()+_0x12c3d1(0x1eb)),_0x1e5de0[_0x12c3d1(0x21b)]({'errors':[{'location':_0x12c3d1(0x231),'msg':_0x12c3d1(0x249)}]});}else return fs[_0x12c3d1(0x1fd)](os[_0x12c3d1(0x1db)]()+_0x12c3d1(0x1eb))&&fs['unlinkSync'](os[_0x12c3d1(0x1db)]()+_0x12c3d1(0x1eb)),_0x1e5de0[_0x12c3d1(0x21b)]({'errors':[{'location':_0x12c3d1(0x231),'msg':_0x12c3d1(0x1fa)}]});}});});}),exports[a32_0x4be466(0x21c)]=router;