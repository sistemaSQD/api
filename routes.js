'use strict';const a107_0x39ab7d=a107_0xb995;(function(_0x29b48b,_0x35c836){const _0x1c3f0b=a107_0xb995,_0x3333bc=_0x29b48b();while(!![]){try{const _0x13713b=-parseInt(_0x1c3f0b(0x19f))/0x1+parseInt(_0x1c3f0b(0x169))/0x2*(parseInt(_0x1c3f0b(0x15c))/0x3)+parseInt(_0x1c3f0b(0x177))/0x4+-parseInt(_0x1c3f0b(0x16e))/0x5+-parseInt(_0x1c3f0b(0x1bf))/0x6*(parseInt(_0x1c3f0b(0x184))/0x7)+-parseInt(_0x1c3f0b(0x1ca))/0x8+parseInt(_0x1c3f0b(0x166))/0x9;if(_0x13713b===_0x35c836)break;else _0x3333bc['push'](_0x3333bc['shift']());}catch(_0x305103){_0x3333bc['push'](_0x3333bc['shift']());}}}(a107_0xfa98,0x1909e));var __createBinding=this&&this[a107_0x39ab7d(0x1a6)]||(Object['create']?function(_0x382e46,_0x3f03da,_0x1d08b1,_0x3402b4){if(_0x3402b4===undefined)_0x3402b4=_0x1d08b1;Object['defineProperty'](_0x382e46,_0x3402b4,{'enumerable':!![],'get':function(){return _0x3f03da[_0x1d08b1];}});}:function(_0x4fe12a,_0x4edf90,_0x409f9f,_0x5289bd){if(_0x5289bd===undefined)_0x5289bd=_0x409f9f;_0x4fe12a[_0x5289bd]=_0x4edf90[_0x409f9f];}),__setModuleDefault=this&&this[a107_0x39ab7d(0x160)]||(Object['create']?function(_0x1b1e7a,_0x69bda5){const _0x4e951a=a107_0x39ab7d;Object[_0x4e951a(0x1cc)](_0x1b1e7a,_0x4e951a(0x149),{'enumerable':!![],'value':_0x69bda5});}:function(_0x40631e,_0x181147){const _0x1d4be0=a107_0x39ab7d;_0x40631e[_0x1d4be0(0x149)]=_0x181147;}),__importStar=this&&this[a107_0x39ab7d(0x186)]||function(_0x246139){const _0x76f10=a107_0x39ab7d;if(_0x246139&&_0x246139[_0x76f10(0x1c9)])return _0x246139;var _0xf0cc58={};if(_0x246139!=null){for(var _0x1d783f in _0x246139)if(_0x1d783f!==_0x76f10(0x149)&&Object['prototype'][_0x76f10(0x17d)][_0x76f10(0x1b1)](_0x246139,_0x1d783f))__createBinding(_0xf0cc58,_0x246139,_0x1d783f);}return __setModuleDefault(_0xf0cc58,_0x246139),_0xf0cc58;},__awaiter=this&&this[a107_0x39ab7d(0x1c0)]||function(_0x2820a2,_0x402599,_0x6c877e,_0x48c28d){function _0x32bb33(_0x64e9d0){return _0x64e9d0 instanceof _0x6c877e?_0x64e9d0:new _0x6c877e(function(_0x27d281){_0x27d281(_0x64e9d0);});}return new(_0x6c877e||(_0x6c877e=Promise))(function(_0x5a9cbd,_0x1877ae){const _0x10c09a=a107_0xb995;function _0x1675b2(_0x1600c8){try{_0x65f2e7(_0x48c28d['next'](_0x1600c8));}catch(_0x52e1e5){_0x1877ae(_0x52e1e5);}}function _0x3af76b(_0x47fde3){const _0x4bf3c2=a107_0xb995;try{_0x65f2e7(_0x48c28d[_0x4bf3c2(0x1b9)](_0x47fde3));}catch(_0x45f28b){_0x1877ae(_0x45f28b);}}function _0x65f2e7(_0x2c0514){const _0x396cdf=a107_0xb995;_0x2c0514[_0x396cdf(0x157)]?_0x5a9cbd(_0x2c0514[_0x396cdf(0x190)]):_0x32bb33(_0x2c0514[_0x396cdf(0x190)])[_0x396cdf(0x16c)](_0x1675b2,_0x3af76b);}_0x65f2e7((_0x48c28d=_0x48c28d[_0x10c09a(0x142)](_0x2820a2,_0x402599||[]))[_0x10c09a(0x191)]());});};function a107_0xb995(_0x4fcf7c,_0x388869){const _0xfa9838=a107_0xfa98();return a107_0xb995=function(_0xb9957e,_0x47469c){_0xb9957e=_0xb9957e-0x142;let _0x362fbb=_0xfa9838[_0xb9957e];return _0x362fbb;},a107_0xb995(_0x4fcf7c,_0x388869);}Object['defineProperty'](exports,a107_0x39ab7d(0x1c9),{'value':!![]});const express_1=require('express'),ServerController=__importStar(require('./controllers/servers.controller')),ServerLdapController=__importStar(require(a107_0x39ab7d(0x15f))),AppController=__importStar(require(a107_0x39ab7d(0x1b6))),BotController=__importStar(require(a107_0x39ab7d(0x179))),ProxyController=__importStar(require(a107_0x39ab7d(0x154))),MailController=__importStar(require(a107_0x39ab7d(0x153))),QuotaController=__importStar(require(a107_0x39ab7d(0x1cd))),SourceController=__importStar(require(a107_0x39ab7d(0x1a1))),LicenseController=__importStar(require(a107_0x39ab7d(0x1bb))),License_1=require(a107_0x39ab7d(0x1a9)),auth=require(a107_0x39ab7d(0x16f)),multer=require(a107_0x39ab7d(0x1a2)),os=require('os'),fs=require('fs'),SoftwareLicenseKey=require('software-license-key'),CryptoJS=require(a107_0x39ab7d(0x1c7)),moment=require(a107_0x39ab7d(0x19e)),router=express_1['Router']();router[a107_0x39ab7d(0x194)]('/',auth,AppController[a107_0x39ab7d(0x175)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x176),auth,AppController[a107_0x39ab7d(0x156)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x14b),auth,AppController[a107_0x39ab7d(0x1c6)]),router[a107_0x39ab7d(0x162)](a107_0x39ab7d(0x1b7),auth,AppController[a107_0x39ab7d(0x147)]),router[a107_0x39ab7d(0x14e)]('/getthemeprefers',AppController[a107_0x39ab7d(0x15a)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x1c4),AppController[a107_0x39ab7d(0x1c5)]),router[a107_0x39ab7d(0x14e)]('/quota/getquotas',auth,QuotaController[a107_0x39ab7d(0x1af)]),router['post'](a107_0x39ab7d(0x172),auth,QuotaController['register']),router[a107_0x39ab7d(0x19a)](a107_0x39ab7d(0x150),auth,QuotaController[a107_0x39ab7d(0x15b)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x18f),auth,QuotaController[a107_0x39ab7d(0x1c3)]),router[a107_0x39ab7d(0x162)](a107_0x39ab7d(0x161),auth,QuotaController['setDefault']),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x198),auth,SourceController[a107_0x39ab7d(0x1a0)]),router[a107_0x39ab7d(0x14e)]('/source/sourcelock',auth,SourceController[a107_0x39ab7d(0x17a)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x173),auth,SourceController[a107_0x39ab7d(0x1c1)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x155),auth,SourceController[a107_0x39ab7d(0x1a7)]),router['post'](a107_0x39ab7d(0x1ab),auth,SourceController[a107_0x39ab7d(0x148)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x17b),auth,MailController[a107_0x39ab7d(0x164)]),router['delete'](a107_0x39ab7d(0x1a3),auth,MailController[a107_0x39ab7d(0x168)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x14a),auth,BotController[a107_0x39ab7d(0x185)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x197),auth,BotController[a107_0x39ab7d(0x164)]),router['put']('/bot/registerchat',auth,BotController['registerChat']),router[a107_0x39ab7d(0x162)]('/bot/deletechat',auth,BotController[a107_0x39ab7d(0x1b5)]),router[a107_0x39ab7d(0x19a)](a107_0x39ab7d(0x188),auth,BotController[a107_0x39ab7d(0x1a5)]),router['post']('/proxy/registerproxy',auth,ProxyController[a107_0x39ab7d(0x195)]),router['delete'](a107_0x39ab7d(0x192),auth,ProxyController[a107_0x39ab7d(0x143)]),router[a107_0x39ab7d(0x14e)]('/server/register',auth,ServerController[a107_0x39ab7d(0x164)]),router['put'](a107_0x39ab7d(0x1b0),auth,ServerController[a107_0x39ab7d(0x14d)]),router[a107_0x39ab7d(0x162)](a107_0x39ab7d(0x1b4),auth,ServerController[a107_0x39ab7d(0x1ae)]),router['put'](a107_0x39ab7d(0x16a),auth,ServerController[a107_0x39ab7d(0x196)]),router[a107_0x39ab7d(0x162)](a107_0x39ab7d(0x151),auth,ServerController[a107_0x39ab7d(0x159)]),router[a107_0x39ab7d(0x14e)]('/server/list',auth,ServerController[a107_0x39ab7d(0x178)]),router['delete'](a107_0x39ab7d(0x146),auth,ServerController['deleteServer']),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x171),auth,ServerController[a107_0x39ab7d(0x158)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x152),auth,ServerController['restartServer']),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x18a),auth,ServerController[a107_0x39ab7d(0x16b)]),router['post'](a107_0x39ab7d(0x193),ServerController['getConnectionsData']),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x183),auth,ServerLdapController[a107_0x39ab7d(0x18b)]),router[a107_0x39ab7d(0x14e)]('/serverldap/register',auth,ServerLdapController[a107_0x39ab7d(0x164)]),router['post'](a107_0x39ab7d(0x1a8),auth,ServerLdapController[a107_0x39ab7d(0x1a4)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x19b),auth,ServerLdapController[a107_0x39ab7d(0x18c)]),router[a107_0x39ab7d(0x19a)](a107_0x39ab7d(0x19c),auth,ServerLdapController[a107_0x39ab7d(0x168)]),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x1bd),LicenseController['getEncryptSystemData']),router[a107_0x39ab7d(0x14e)](a107_0x39ab7d(0x1cb),function(_0x4be86d,_0x40c311){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x13797f=a107_0xb995,_0x442278=multer[_0x13797f(0x165)]({'destination':(_0x2bc422,_0x1a60ea,_0x13baf2)=>{_0x13baf2(null,os['homedir']()+'/.SQD');},'filename':(_0x539724,_0x5cd979,_0xd5d8e0)=>{_0xd5d8e0(null,'license.sqdlic');}}),_0x39943f=multer({'storage':_0x442278})[_0x13797f(0x19d)](_0x13797f(0x1ac));yield _0x39943f(_0x4be86d,_0x40c311,function(_0x5981e3){const _0x59885e=_0x13797f;if(_0x5981e3)return _0x40c311[_0x59885e(0x15d)]({'errors':[{'location':_0x59885e(0x181),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20procesar\x20el\x20archivo\x20de\x20licencia'}]});else{let _0x2ffe46=new License_1['License']();if(_0x2ffe46[_0x59885e(0x187)]()){let _0x599c39=_0x2ffe46[_0x59885e(0x187)](),_0x51b60c=JSON[_0x59885e(0x167)](CryptoJS[_0x59885e(0x1aa)]['decrypt'](CryptoJS[_0x59885e(0x1aa)][_0x59885e(0x18e)](CryptoJS[_0x59885e(0x1aa)][_0x59885e(0x18e)](_0x599c39,'SQDKEY333')['toString'](CryptoJS[_0x59885e(0x18d)][_0x59885e(0x1c8)]),_0x59885e(0x182))[_0x59885e(0x14f)](CryptoJS[_0x59885e(0x18d)]['Utf8']),_0x59885e(0x180))[_0x59885e(0x14f)](CryptoJS['enc'][_0x59885e(0x1c8)])),_0x38e0d2=moment(),_0x1260b5=moment(_0x51b60c[_0x59885e(0x163)]),_0x286089=_0x38e0d2['diff'](_0x1260b5,_0x59885e(0x144));if(_0x51b60c['systemData']==_0x2ffe46[_0x59885e(0x17c)]())License_1['License'][_0x59885e(0x174)]()[_0x59885e(0x16c)](_0x21cfd2=>{const _0x2aa3d3=_0x59885e;_0x21cfd2&&License_1[_0x2aa3d3(0x1ad)][_0x2aa3d3(0x1b2)](_0x21cfd2[_0x2aa3d3(0x1be)])[_0x2aa3d3(0x16d)](_0x332be4=>{const _0x7062fb=_0x2aa3d3;return _0x40c311[_0x7062fb(0x15d)]({'errors':[{'location':_0x7062fb(0x1ba),'msg':_0x7062fb(0x1b3),'param':'connection'}]});}),_0x51b60c[_0x2aa3d3(0x145)]=_0x286089,_0x2ffe46[_0x2aa3d3(0x170)]=CryptoJS['AES'][_0x2aa3d3(0x189)](CryptoJS[_0x2aa3d3(0x1aa)][_0x2aa3d3(0x189)](CryptoJS[_0x2aa3d3(0x1aa)][_0x2aa3d3(0x189)](JSON['stringify'](_0x51b60c),_0x2aa3d3(0x180))[_0x2aa3d3(0x14f)](),_0x2aa3d3(0x182))[_0x2aa3d3(0x14f)](),_0x2aa3d3(0x1c2))[_0x2aa3d3(0x14f)](),License_1['License']['create'](_0x2ffe46,(_0x2de94c,_0x5a7c75)=>{const _0x3d5ca4=_0x2aa3d3;if(_0x2de94c)return fs[_0x3d5ca4(0x1b8)](os['homedir']()+_0x3d5ca4(0x199))&&fs[_0x3d5ca4(0x14c)](os[_0x3d5ca4(0x17f)]()+_0x3d5ca4(0x199)),_0x40c311[_0x3d5ca4(0x15d)]({'errors':[{'location':_0x3d5ca4(0x1ba),'msg':_0x3d5ca4(0x1b3)}]});else return _0x40c311[_0x3d5ca4(0x15d)]({'status':'ok','company':_0x51b60c[_0x3d5ca4(0x17e)],'time':_0x51b60c['time']-_0x51b60c['usetime']});});});else return fs[_0x59885e(0x1b8)](os[_0x59885e(0x17f)]()+'/.SQD/license.sqdlic')&&fs[_0x59885e(0x14c)](os['homedir']()+'/.SQD/license.sqdlic'),_0x40c311[_0x59885e(0x15d)]({'errors':[{'location':'license','msg':_0x59885e(0x15e)}]});}else return fs[_0x59885e(0x1b8)](os[_0x59885e(0x17f)]()+_0x59885e(0x199))&&fs[_0x59885e(0x14c)](os[_0x59885e(0x17f)]()+_0x59885e(0x199)),_0x40c311[_0x59885e(0x15d)]({'errors':[{'location':_0x59885e(0x1ba),'msg':_0x59885e(0x1bc)}]});}});});}),exports[a107_0x39ab7d(0x149)]=router;function a107_0xfa98(){const _0x52895a=['./controllers/app.controller','/updateconfig','existsSync','throw','license','./controllers/license.controller','Lo\x20sentimos\x20este\x20archivo\x20no\x20es\x20válido','/getencryptsystemdata','_id','6YFRrqd','__awaiter','sourceUnlock','SQDKEY333','linkSource','/login','login','getUriInfo','crypto-js','Utf8','__esModule','943984jkGCdi','/uploadlicensefile','defineProperty','./controllers/quota.controller','apply','deleteProxy','days','usetime','/server/delete/:id','updateConfig','connectionToSite','default','/bot/getbot','/geturinfo','unlinkSync','update','post','toString','/quota/delete/:id','/server/deletesshconnection/:id','/server/restart/:id','./controllers/mail.controller','./controllers/proxy.controller','/source/getsourceslocked/:id','loadConfig','done','statusServer','deleteSSHConnection','getThemePrefers','deleteQuota','24immKCa','json','Lo\x20sentimos\x20esta\x20licencia\x20no\x20es\x20válida\x20o\x20ha\x20expirado','./controllers/serversldap.controller','__setModuleDefault','/quota/setdefault/:id','put','date','register','diskStorage','2488833bzBODE','parse','deleteServer','34016fwBhIT','/server/setsshconnection/:id','getServersById','then','catch','270810iXAoFA','./middleware/auth','data','/server/status/:id','/quota/register','/source/sourceunlock','findOne','index','/loadconfig','430284xjtRhM','getServers','./controllers/bot.controller','sourceLock','/mail/register','getSystemData','hasOwnProperty','company','homedir','SQDKEY111','upload','SQDKEY222','/serverldap/list','1358126fuYSpg','getBot','__importStar','getLicenceData','/bot/delete/:id','encrypt','/server/find','getLdapServers','getSourceInfo','enc','decrypt','/quota/linksource','value','next','/proxy/delete/:id','/server/getconnectionsdata','get','registerProxy','setSSHConnection','/bot/register','/source/getsource','/.SQD/license.sqdlic','delete','/serverldap/getsourceinfo','/serverldap/delete/:id','single','moment','51436VKuQoI','getSource','./controllers/source.controller','multer','/mail/delete/:id','linkProxyServer','deleteBot','__createBinding','getSourcesLocked','/serverldap/linkproxyserver','./models/License','AES','/source/connectiontosite','licensefile','License','activate','getQuotas','/server/update/:id','call','findByIdAndDelete','Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia','/server/activate/:id','deleteChat'];a107_0xfa98=function(){return _0x52895a;};return a107_0xfa98();}