'use strict';const a71_0x3b3218=a71_0x20e2;(function(_0x3ff1c6,_0x487149){const _0x140eb8=a71_0x20e2,_0x1de4e6=_0x3ff1c6();while(!![]){try{const _0x53a74d=-parseInt(_0x140eb8(0x1bb))/0x1+parseInt(_0x140eb8(0x1b1))/0x2+parseInt(_0x140eb8(0x17f))/0x3+parseInt(_0x140eb8(0x16a))/0x4+parseInt(_0x140eb8(0x14a))/0x5+parseInt(_0x140eb8(0x199))/0x6*(parseInt(_0x140eb8(0x15e))/0x7)+parseInt(_0x140eb8(0x146))/0x8*(-parseInt(_0x140eb8(0x1b2))/0x9);if(_0x53a74d===_0x487149)break;else _0x1de4e6['push'](_0x1de4e6['shift']());}catch(_0x39a413){_0x1de4e6['push'](_0x1de4e6['shift']());}}}(a71_0x7f7d,0xc66a6));function a71_0x20e2(_0x4afc3d,_0x238564){const _0x7f7d65=a71_0x7f7d();return a71_0x20e2=function(_0x20e2f2,_0x397ad6){_0x20e2f2=_0x20e2f2-0x13f;let _0xeb29a0=_0x7f7d65[_0x20e2f2];return _0xeb29a0;},a71_0x20e2(_0x4afc3d,_0x238564);}var __createBinding=this&&this[a71_0x3b3218(0x178)]||(Object['create']?function(_0x44d1cb,_0x8912b8,_0x2067b9,_0xbc528){const _0xe9e863=a71_0x3b3218;if(_0xbc528===undefined)_0xbc528=_0x2067b9;Object[_0xe9e863(0x1a4)](_0x44d1cb,_0xbc528,{'enumerable':!![],'get':function(){return _0x8912b8[_0x2067b9];}});}:function(_0x191263,_0x5935d4,_0x3e4997,_0x259598){if(_0x259598===undefined)_0x259598=_0x3e4997;_0x191263[_0x259598]=_0x5935d4[_0x3e4997];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a71_0x3b3218(0x1af)]?function(_0x4b379b,_0x29e30d){Object['defineProperty'](_0x4b379b,'default',{'enumerable':!![],'value':_0x29e30d});}:function(_0x340dd8,_0x2b416e){const _0x48bef1=a71_0x3b3218;_0x340dd8[_0x48bef1(0x176)]=_0x2b416e;}),__importStar=this&&this['__importStar']||function(_0x43ad53){const _0x4a7010=a71_0x3b3218;if(_0x43ad53&&_0x43ad53[_0x4a7010(0x191)])return _0x43ad53;var _0x4a98fc={};if(_0x43ad53!=null){for(var _0x49a0a7 in _0x43ad53)if(_0x49a0a7!==_0x4a7010(0x176)&&Object['prototype'][_0x4a7010(0x14d)][_0x4a7010(0x165)](_0x43ad53,_0x49a0a7))__createBinding(_0x4a98fc,_0x43ad53,_0x49a0a7);}return __setModuleDefault(_0x4a98fc,_0x43ad53),_0x4a98fc;},__awaiter=this&&this[a71_0x3b3218(0x1a9)]||function(_0xcc3cff,_0x5073ae,_0x4a8852,_0x14418e){function _0x529c5c(_0x35660d){return _0x35660d instanceof _0x4a8852?_0x35660d:new _0x4a8852(function(_0x127c56){_0x127c56(_0x35660d);});}return new(_0x4a8852||(_0x4a8852=Promise))(function(_0x2f47a9,_0x154c7f){const _0x337c59=a71_0x20e2;function _0x38a265(_0x4810a9){const _0x43ddc9=a71_0x20e2;try{_0x86015f(_0x14418e[_0x43ddc9(0x159)](_0x4810a9));}catch(_0x454a4a){_0x154c7f(_0x454a4a);}}function _0x36da3a(_0x270daf){const _0x4a5356=a71_0x20e2;try{_0x86015f(_0x14418e[_0x4a5356(0x1c1)](_0x270daf));}catch(_0x41ea85){_0x154c7f(_0x41ea85);}}function _0x86015f(_0x2d8cca){const _0x1920d9=a71_0x20e2;_0x2d8cca[_0x1920d9(0x16c)]?_0x2f47a9(_0x2d8cca[_0x1920d9(0x140)]):_0x529c5c(_0x2d8cca[_0x1920d9(0x140)])[_0x1920d9(0x1b5)](_0x38a265,_0x36da3a);}_0x86015f((_0x14418e=_0x14418e[_0x337c59(0x169)](_0xcc3cff,_0x5073ae||[]))['next']());});};Object[a71_0x3b3218(0x1a4)](exports,a71_0x3b3218(0x191),{'value':!![]});function a71_0x7f7d(){const _0x43fbce=['delete','setSSHConnection','./controllers/servers.controller','707tPDLxf','index','put','Lo\x20sentimos\x20este\x20archivo\x20no\x20es\x20válido','registerChat','statusServer','/server/find','call','/server/setsshconnection/:id','AES','getLicenceData','apply','2374000uxykfK','/bot/registerchat','done','/bot/register','licensefile','license','enc','deleteProxy','Lo\x20sentimos\x20ha\x20ocurrido\x20un\x20error\x20al\x20registrar\x20la\x20licencia','/quota/linksource','sourceLock','multer','default','deleteServer','__createBinding','loadConfig','usetime','registerProxy','/bot/delete/:id','diff','/serverldap/delete/:id','3659166XlnwCF','/source/connectiontosite','/getencryptsystemdata','/login','getServers','SQDKEY222','register','/geturinfo','/bot/deletechat','time','deleteBot','date','/mail/delete/:id','/source/getsourceslocked/:id','existsSync','/serverldap/getsourceinfo','/server/deletesshconnection/:id','/quota/delete/:id','__esModule','parse','/source/getsource','data','diskStorage','homedir','sourceUnlock','getQuotas','15438mdwgOr','SQDKEY333','/server/register','getThemePrefers','Utf8','single','/quota/setdefault/:id','express','license.sqdlic','/bot/getbot','/getthemeprefers','defineProperty','/source/sourcelock','/serverldap/linkproxyserver','/.SQD','unlinkSync','__awaiter','./controllers/bot.controller','/proxy/delete/:id','connection','SQDKEY111','encrypt','create','getServersById','1150934JlXuOS','241515GqnRVb','moment','./controllers/app.controller','then','toString','company','Lo\x20sentimos\x20no\x20se\x20pudo\x20procesar\x20el\x20archivo\x20de\x20licencia','getEncryptSystemData','getSystemData','943913ouAQbQ','getUriInfo','License','getSourceInfo','/loadconfig','/quota/register','throw','./controllers/proxy.controller','catch','/.SQD/license.sqdlic','/server/activate/:id','findOne','/serverldap/list','value','getLdapServers','systemData','/updateconfig','getSource','json','736NWiFXl','post','_id','linkSource','7884405LvQbyf','restartServer','/uploadlicensefile','hasOwnProperty','login','updateConfig','software-license-key','decrypt','deleteSSHConnection','/proxy/registerproxy','./middleware/auth','/server/update/:id','get','/server/list','/server/status/:id','next','./controllers/license.controller'];a71_0x7f7d=function(){return _0x43fbce;};return a71_0x7f7d();}const express_1=require(a71_0x3b3218(0x1a0)),ServerController=__importStar(require(a71_0x3b3218(0x15d))),ServerLdapController=__importStar(require('./controllers/serversldap.controller')),AppController=__importStar(require(a71_0x3b3218(0x1b4))),BotController=__importStar(require(a71_0x3b3218(0x1aa))),ProxyController=__importStar(require(a71_0x3b3218(0x1c2))),MailController=__importStar(require('./controllers/mail.controller')),QuotaController=__importStar(require('./controllers/quota.controller')),SourceController=__importStar(require('./controllers/source.controller')),LicenseController=__importStar(require(a71_0x3b3218(0x15a))),License_1=require('./models/License'),auth=require(a71_0x3b3218(0x154)),multer=require(a71_0x3b3218(0x175)),os=require('os'),fs=require('fs'),SoftwareLicenseKey=require(a71_0x3b3218(0x150)),CryptoJS=require('crypto-js'),moment=require(a71_0x3b3218(0x1b3)),router=express_1['Router']();router[a71_0x3b3218(0x156)]('/',auth,AppController[a71_0x3b3218(0x15f)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x1bf),auth,AppController[a71_0x3b3218(0x179)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x186),auth,AppController[a71_0x3b3218(0x1bc)]),router[a71_0x3b3218(0x160)](a71_0x3b3218(0x143),auth,AppController[a71_0x3b3218(0x14f)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x1a3),AppController[a71_0x3b3218(0x19c)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x182),AppController[a71_0x3b3218(0x14e)]),router[a71_0x3b3218(0x147)]('/quota/getquotas',auth,QuotaController[a71_0x3b3218(0x198)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x1c0),auth,QuotaController['register']),router[a71_0x3b3218(0x15b)](a71_0x3b3218(0x190),auth,QuotaController['deleteQuota']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x173),auth,QuotaController[a71_0x3b3218(0x149)]),router[a71_0x3b3218(0x160)](a71_0x3b3218(0x19f),auth,QuotaController['setDefault']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x193),auth,SourceController[a71_0x3b3218(0x144)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x1a5),auth,SourceController[a71_0x3b3218(0x174)]),router['post']('/source/sourceunlock',auth,SourceController[a71_0x3b3218(0x197)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x18c),auth,SourceController['getSourcesLocked']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x180),auth,SourceController['connectionToSite']),router[a71_0x3b3218(0x147)]('/mail/register',auth,MailController[a71_0x3b3218(0x185)]),router[a71_0x3b3218(0x15b)](a71_0x3b3218(0x18b),auth,MailController['deleteServer']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x1a2),auth,BotController['getBot']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x16d),auth,BotController[a71_0x3b3218(0x185)]),router[a71_0x3b3218(0x160)](a71_0x3b3218(0x16b),auth,BotController[a71_0x3b3218(0x162)]),router[a71_0x3b3218(0x160)](a71_0x3b3218(0x187),auth,BotController['deleteChat']),router['delete'](a71_0x3b3218(0x17c),auth,BotController[a71_0x3b3218(0x189)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x153),auth,ProxyController[a71_0x3b3218(0x17b)]),router[a71_0x3b3218(0x15b)](a71_0x3b3218(0x1ab),auth,ProxyController[a71_0x3b3218(0x171)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x19b),auth,ServerController[a71_0x3b3218(0x185)]),router[a71_0x3b3218(0x160)](a71_0x3b3218(0x155),auth,ServerController['update']),router['put'](a71_0x3b3218(0x1c5),auth,ServerController['activate']),router['put'](a71_0x3b3218(0x166),auth,ServerController[a71_0x3b3218(0x15c)]),router[a71_0x3b3218(0x160)](a71_0x3b3218(0x18f),auth,ServerController[a71_0x3b3218(0x152)]),router['post'](a71_0x3b3218(0x157),auth,ServerController[a71_0x3b3218(0x183)]),router[a71_0x3b3218(0x15b)]('/server/delete/:id',auth,ServerController[a71_0x3b3218(0x177)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x158),auth,ServerController[a71_0x3b3218(0x163)]),router[a71_0x3b3218(0x147)]('/server/restart/:id',auth,ServerController[a71_0x3b3218(0x14b)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x164),auth,ServerController[a71_0x3b3218(0x1b0)]),router[a71_0x3b3218(0x147)]('/server/getconnectionsdata',ServerController['getConnectionsData']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x13f),auth,ServerLdapController[a71_0x3b3218(0x141)]),router[a71_0x3b3218(0x147)]('/serverldap/register',auth,ServerLdapController[a71_0x3b3218(0x185)]),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x1a6),auth,ServerLdapController['linkProxyServer']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x18e),auth,ServerLdapController[a71_0x3b3218(0x1be)]),router[a71_0x3b3218(0x15b)](a71_0x3b3218(0x17e),auth,ServerLdapController['deleteServer']),router[a71_0x3b3218(0x147)](a71_0x3b3218(0x181),LicenseController[a71_0x3b3218(0x1b9)]),router['post'](a71_0x3b3218(0x14c),function(_0x35d35a,_0x6658b8){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x552636=a71_0x20e2,_0x1e8dca=multer[_0x552636(0x195)]({'destination':(_0x1e91d9,_0x3665fa,_0x19b8cf)=>{const _0x29fc17=_0x552636;_0x19b8cf(null,os['homedir']()+_0x29fc17(0x1a7));},'filename':(_0x161fa0,_0x5808c5,_0x47ba8e)=>{const _0x12e3be=_0x552636;_0x47ba8e(null,_0x12e3be(0x1a1));}}),_0x96974e=multer({'storage':_0x1e8dca})[_0x552636(0x19e)](_0x552636(0x16e));yield _0x96974e(_0x35d35a,_0x6658b8,function(_0x541c8c){const _0x4aa534=_0x552636;if(_0x541c8c)return _0x6658b8[_0x4aa534(0x145)]({'errors':[{'location':'upload','msg':_0x4aa534(0x1b8)}]});else{let _0x5e5a94=new License_1[(_0x4aa534(0x1bd))]();if(_0x5e5a94[_0x4aa534(0x168)]()){let _0x43007d=_0x5e5a94[_0x4aa534(0x168)](),_0x506536=JSON[_0x4aa534(0x192)](CryptoJS[_0x4aa534(0x167)][_0x4aa534(0x151)](CryptoJS[_0x4aa534(0x167)][_0x4aa534(0x151)](CryptoJS[_0x4aa534(0x167)][_0x4aa534(0x151)](_0x43007d,'SQDKEY333')[_0x4aa534(0x1b6)](CryptoJS[_0x4aa534(0x170)]['Utf8']),'SQDKEY222')[_0x4aa534(0x1b6)](CryptoJS[_0x4aa534(0x170)]['Utf8']),'SQDKEY111')[_0x4aa534(0x1b6)](CryptoJS[_0x4aa534(0x170)][_0x4aa534(0x19d)])),_0x349976=moment(),_0x7ab625=moment(_0x506536[_0x4aa534(0x18a)]),_0x19276a=_0x349976[_0x4aa534(0x17d)](_0x7ab625,'days');if(_0x506536[_0x4aa534(0x142)]==_0x5e5a94[_0x4aa534(0x1ba)]())License_1[_0x4aa534(0x1bd)][_0x4aa534(0x1c6)]()[_0x4aa534(0x1b5)](_0x216078=>{const _0xa0c6f2=_0x4aa534;_0x216078&&License_1[_0xa0c6f2(0x1bd)]['findByIdAndDelete'](_0x216078[_0xa0c6f2(0x148)])[_0xa0c6f2(0x1c3)](_0x2a36c3=>{const _0x3b5ae5=_0xa0c6f2;return _0x6658b8[_0x3b5ae5(0x145)]({'errors':[{'location':_0x3b5ae5(0x16f),'msg':_0x3b5ae5(0x172),'param':_0x3b5ae5(0x1ac)}]});}),_0x506536[_0xa0c6f2(0x17a)]=_0x19276a,_0x5e5a94[_0xa0c6f2(0x194)]=CryptoJS[_0xa0c6f2(0x167)]['encrypt'](CryptoJS[_0xa0c6f2(0x167)][_0xa0c6f2(0x1ae)](CryptoJS[_0xa0c6f2(0x167)][_0xa0c6f2(0x1ae)](JSON['stringify'](_0x506536),_0xa0c6f2(0x1ad))[_0xa0c6f2(0x1b6)](),_0xa0c6f2(0x184))['toString'](),_0xa0c6f2(0x19a))[_0xa0c6f2(0x1b6)](),License_1[_0xa0c6f2(0x1bd)][_0xa0c6f2(0x1af)](_0x5e5a94,(_0x4fe39b,_0x5ad39f)=>{const _0x16a1da=_0xa0c6f2;if(_0x4fe39b)return fs[_0x16a1da(0x18d)](os['homedir']()+'/.SQD/license.sqdlic')&&fs[_0x16a1da(0x1a8)](os['homedir']()+_0x16a1da(0x1c4)),_0x6658b8[_0x16a1da(0x145)]({'errors':[{'location':'license','msg':_0x16a1da(0x172)}]});else return _0x6658b8[_0x16a1da(0x145)]({'status':'ok','company':_0x506536[_0x16a1da(0x1b7)],'time':_0x506536[_0x16a1da(0x188)]-_0x506536[_0x16a1da(0x17a)]});});});else return fs[_0x4aa534(0x18d)](os['homedir']()+_0x4aa534(0x1c4))&&fs[_0x4aa534(0x1a8)](os[_0x4aa534(0x196)]()+_0x4aa534(0x1c4)),_0x6658b8[_0x4aa534(0x145)]({'errors':[{'location':_0x4aa534(0x16f),'msg':'Lo\x20sentimos\x20esta\x20licencia\x20no\x20es\x20válida\x20o\x20ha\x20expirado'}]});}else return fs[_0x4aa534(0x18d)](os[_0x4aa534(0x196)]()+'/.SQD/license.sqdlic')&&fs[_0x4aa534(0x1a8)](os['homedir']()+_0x4aa534(0x1c4)),_0x6658b8['json']({'errors':[{'location':_0x4aa534(0x16f),'msg':_0x4aa534(0x161)}]});}});});}),exports[a71_0x3b3218(0x176)]=router;