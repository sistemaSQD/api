'use strict';const a53_0x43693c=a53_0x3e27;function a53_0x3e27(_0x16cd36,_0x598cb1){const _0xf44e4e=a53_0xf44e();return a53_0x3e27=function(_0x3e27c4,_0x98c1ab){_0x3e27c4=_0x3e27c4-0x9e;let _0x3ea55f=_0xf44e4e[_0x3e27c4];return _0x3ea55f;},a53_0x3e27(_0x16cd36,_0x598cb1);}function a53_0xf44e(){const _0x59b2ff=['defineProperty','initAllTask','mongoose','getConnections','2937298tHQAZk','4944456gGKRTy','define','../app','__esModule','monthly','0\x200\x20*\x20*\x201','__importDefault','weekly','restart\x20daily\x20quota','agendaJobs','restartQuota','connection','start','11253956SJSMwD','create','refresh_seconds','errors','restart\x20hourly\x20quota','__setModuleDefault','1975108VFYtzh','0\x200\x201\x20*\x20*','45468384rIQsFY','__importStar','hasOwnProperty','0\x200\x20*\x20*\x20*','prototype','restart\x20monthly\x20quota','223940AJmDGN','470232tqqJqH','5autSQn','get\x20connections\x20task','next','../controllers/servers.controller','__awaiter','default','restart\x20weekly\x20quota','agenda','get\x20connections','log','done','0\x20*\x20*\x20*\x20*','../models/Database','get','mongo','every','../controllers/quota.controller','call'];a53_0xf44e=function(){return _0x59b2ff;};return a53_0xf44e();}(function(_0x19fd0a,_0x4d9314){const _0x4eefd5=a53_0x3e27,_0x57edb7=_0x19fd0a();while(!![]){try{const _0x18a8e4=-parseInt(_0x4eefd5(0xab))/0x1+-parseInt(_0x4eefd5(0xc3))/0x2+-parseInt(_0x4eefd5(0xac))/0x3+-parseInt(_0x4eefd5(0xa3))/0x4*(parseInt(_0x4eefd5(0xad))/0x5)+-parseInt(_0x4eefd5(0xc4))/0x6+-parseInt(_0x4eefd5(0xd1))/0x7+parseInt(_0x4eefd5(0xa5))/0x8;if(_0x18a8e4===_0x4d9314)break;else _0x57edb7['push'](_0x57edb7['shift']());}catch(_0x524400){_0x57edb7['push'](_0x57edb7['shift']());}}}(a53_0xf44e,0xddd6e));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x6c2c34,_0x1dd36f,_0x329789,_0x58f81d){const _0x273a47=a53_0x3e27;if(_0x58f81d===undefined)_0x58f81d=_0x329789;Object[_0x273a47(0xbf)](_0x6c2c34,_0x58f81d,{'enumerable':!![],'get':function(){return _0x1dd36f[_0x329789];}});}:function(_0x251616,_0xa0c656,_0x15bd5b,_0x5f5a5c){if(_0x5f5a5c===undefined)_0x5f5a5c=_0x15bd5b;_0x251616[_0x5f5a5c]=_0xa0c656[_0x15bd5b];}),__setModuleDefault=this&&this[a53_0x43693c(0xa2)]||(Object[a53_0x43693c(0x9e)]?function(_0x1b8ad7,_0x1f280d){const _0x4cd89a=a53_0x43693c;Object[_0x4cd89a(0xbf)](_0x1b8ad7,_0x4cd89a(0xb2),{'enumerable':!![],'value':_0x1f280d});}:function(_0x2f6985,_0x2941cf){const _0x2d2cae=a53_0x43693c;_0x2f6985[_0x2d2cae(0xb2)]=_0x2941cf;}),__importStar=this&&this[a53_0x43693c(0xa6)]||function(_0x502466){const _0x6c4213=a53_0x43693c;if(_0x502466&&_0x502466[_0x6c4213(0xc7)])return _0x502466;var _0x44e9ba={};if(_0x502466!=null){for(var _0x492748 in _0x502466)if(_0x492748!==_0x6c4213(0xb2)&&Object[_0x6c4213(0xa9)][_0x6c4213(0xa7)][_0x6c4213(0xbe)](_0x502466,_0x492748))__createBinding(_0x44e9ba,_0x502466,_0x492748);}return __setModuleDefault(_0x44e9ba,_0x502466),_0x44e9ba;},__awaiter=this&&this[a53_0x43693c(0xb1)]||function(_0x48fdf8,_0x4e5ee9,_0x317fb0,_0x17aba2){function _0x30bbcf(_0x13d7cd){return _0x13d7cd instanceof _0x317fb0?_0x13d7cd:new _0x317fb0(function(_0x4613ae){_0x4613ae(_0x13d7cd);});}return new(_0x317fb0||(_0x317fb0=Promise))(function(_0x5d30d8,_0x55c707){function _0xee706e(_0x629e06){const _0x2c4abc=a53_0x3e27;try{_0x43297d(_0x17aba2[_0x2c4abc(0xaf)](_0x629e06));}catch(_0x548488){_0x55c707(_0x548488);}}function _0x45db7a(_0x552062){try{_0x43297d(_0x17aba2['throw'](_0x552062));}catch(_0x2b8bf0){_0x55c707(_0x2b8bf0);}}function _0x43297d(_0x499efb){const _0x70d590=a53_0x3e27;_0x499efb[_0x70d590(0xb7)]?_0x5d30d8(_0x499efb['value']):_0x30bbcf(_0x499efb['value'])['then'](_0xee706e,_0x45db7a);}_0x43297d((_0x17aba2=_0x17aba2['apply'](_0x48fdf8,_0x4e5ee9||[]))['next']());});},__importDefault=this&&this[a53_0x43693c(0xca)]||function(_0x395293){const _0x30ef6d=a53_0x43693c;return _0x395293&&_0x395293[_0x30ef6d(0xc7)]?_0x395293:{'default':_0x395293};};Object[a53_0x43693c(0xbf)](exports,a53_0x43693c(0xc7),{'value':!![]}),exports[a53_0x43693c(0xc0)]=void 0x0;const mongoose_1=__importDefault(require(a53_0x43693c(0xc1))),QuotaController=__importStar(require(a53_0x43693c(0xbd))),ServerController=__importStar(require(a53_0x43693c(0xb0))),Database_1=__importDefault(require(a53_0x43693c(0xb9))),app_1=__importDefault(require(a53_0x43693c(0xc6))),Agenda=require(a53_0x43693c(0xb4)),initAllTask=_0x4ae59d=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2312e5=a53_0x43693c,_0x48b90d=new Database_1[(_0x2312e5(0xb2))](),_0x2df00d=new Agenda();let _0x50010b=yield _0x48b90d['connect']();if(_0x50010b[_0x2312e5(0xa0)])console[_0x2312e5(0xb6)](_0x50010b[_0x2312e5(0xa0)]);else _0x2df00d[_0x2312e5(0xbb)](mongoose_1[_0x2312e5(0xb2)][_0x2312e5(0xcf)]['db'],_0x2312e5(0xcd)),_0x2df00d[_0x2312e5(0xc5)]('get\x20connections',()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5d970f=_0x2312e5;yield ServerController[_0x5d970f(0xc2)](_0x4ae59d),console[_0x5d970f(0xb6)](_0x5d970f(0xae));})),_0x2df00d['define'](_0x2312e5(0xaa),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x52f8eb=_0x2312e5;QuotaController[_0x52f8eb(0xce)](_0x52f8eb(0xc8)),console[_0x52f8eb(0xb6)](_0x52f8eb(0xaa));})),_0x2df00d[_0x2312e5(0xc5)](_0x2312e5(0xb3),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x52b9a8=_0x2312e5;QuotaController[_0x52b9a8(0xce)](_0x52b9a8(0xcb)),console[_0x52b9a8(0xb6)](_0x52b9a8(0xb3));})),_0x2df00d[_0x2312e5(0xc5)](_0x2312e5(0xcc),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5cbda9=_0x2312e5;QuotaController['restartQuota']('daily'),console[_0x5cbda9(0xb6)](_0x5cbda9(0xcc));})),_0x2df00d[_0x2312e5(0xc5)](_0x2312e5(0xa1),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x56ceaa=_0x2312e5;QuotaController[_0x56ceaa(0xce)]('hourly'),console[_0x56ceaa(0xb6)](_0x56ceaa(0xa1));})),yield _0x2df00d[_0x2312e5(0xd0)](),yield _0x2df00d[_0x2312e5(0xbc)](app_1['default'][_0x2312e5(0xba)](_0x2312e5(0x9f))+'\x20seconds',_0x2312e5(0xb5)),yield _0x2df00d[_0x2312e5(0xbc)](_0x2312e5(0xa4),'restart\x20monthly\x20quota'),yield _0x2df00d[_0x2312e5(0xbc)](_0x2312e5(0xc9),_0x2312e5(0xb3)),yield _0x2df00d[_0x2312e5(0xbc)](_0x2312e5(0xa8),'restart\x20daily\x20quota'),yield _0x2df00d[_0x2312e5(0xbc)](_0x2312e5(0xb8),_0x2312e5(0xa1));});exports[a53_0x43693c(0xc0)]=initAllTask;