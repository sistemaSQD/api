'use strict';const a15_0x1b5d11=a15_0x1283;(function(_0x5104b4,_0x2deb5d){const _0x2fb696=a15_0x1283,_0x32be44=_0x5104b4();while(!![]){try{const _0x439d83=parseInt(_0x2fb696(0x139))/0x1+parseInt(_0x2fb696(0x122))/0x2+-parseInt(_0x2fb696(0x14c))/0x3*(parseInt(_0x2fb696(0x13c))/0x4)+parseInt(_0x2fb696(0x13e))/0x5+parseInt(_0x2fb696(0x141))/0x6+-parseInt(_0x2fb696(0x132))/0x7+parseInt(_0x2fb696(0x127))/0x8*(-parseInt(_0x2fb696(0x138))/0x9);if(_0x439d83===_0x2deb5d)break;else _0x32be44['push'](_0x32be44['shift']());}catch(_0x4bb6d6){_0x32be44['push'](_0x32be44['shift']());}}}(a15_0x546f,0x98000));var __createBinding=this&&this[a15_0x1b5d11(0x12b)]||(Object[a15_0x1b5d11(0x13b)]?function(_0x1858a2,_0x5f4d21,_0x148a91,_0x54869e){if(_0x54869e===undefined)_0x54869e=_0x148a91;Object['defineProperty'](_0x1858a2,_0x54869e,{'enumerable':!![],'get':function(){return _0x5f4d21[_0x148a91];}});}:function(_0x2dc590,_0x3a83f3,_0x207ee7,_0x2cd762){if(_0x2cd762===undefined)_0x2cd762=_0x207ee7;_0x2dc590[_0x2cd762]=_0x3a83f3[_0x207ee7];}),__setModuleDefault=this&&this[a15_0x1b5d11(0x133)]||(Object[a15_0x1b5d11(0x13b)]?function(_0x490e93,_0xe30b9){const _0x30d928=a15_0x1b5d11;Object[_0x30d928(0x14a)](_0x490e93,'default',{'enumerable':!![],'value':_0xe30b9});}:function(_0x3fde8c,_0x4e42d4){const _0x10a1ef=a15_0x1b5d11;_0x3fde8c[_0x10a1ef(0x12d)]=_0x4e42d4;}),__importStar=this&&this[a15_0x1b5d11(0x146)]||function(_0x3155b5){const _0x5661fa=a15_0x1b5d11;if(_0x3155b5&&_0x3155b5[_0x5661fa(0x13d)])return _0x3155b5;var _0x4757a2={};if(_0x3155b5!=null){for(var _0x47739c in _0x3155b5)if(_0x47739c!==_0x5661fa(0x12d)&&Object[_0x5661fa(0x12c)][_0x5661fa(0x149)][_0x5661fa(0x121)](_0x3155b5,_0x47739c))__createBinding(_0x4757a2,_0x3155b5,_0x47739c);}return __setModuleDefault(_0x4757a2,_0x3155b5),_0x4757a2;},__awaiter=this&&this[a15_0x1b5d11(0x131)]||function(_0x16cbf2,_0x36f18a,_0x378b02,_0xd9b439){function _0x1e0831(_0x5cf430){return _0x5cf430 instanceof _0x378b02?_0x5cf430:new _0x378b02(function(_0x1f59d9){_0x1f59d9(_0x5cf430);});}return new(_0x378b02||(_0x378b02=Promise))(function(_0x2a8c89,_0x22ec0a){const _0x37f9cd=a15_0x1283;function _0x19a0fa(_0x46407b){try{_0x44b2c0(_0xd9b439['next'](_0x46407b));}catch(_0x241380){_0x22ec0a(_0x241380);}}function _0x4ca62f(_0x1b16d3){try{_0x44b2c0(_0xd9b439['throw'](_0x1b16d3));}catch(_0x18bdd4){_0x22ec0a(_0x18bdd4);}}function _0x44b2c0(_0x10737b){const _0x1ed41d=a15_0x1283;_0x10737b['done']?_0x2a8c89(_0x10737b['value']):_0x1e0831(_0x10737b[_0x1ed41d(0x134)])['then'](_0x19a0fa,_0x4ca62f);}_0x44b2c0((_0xd9b439=_0xd9b439[_0x37f9cd(0x119)](_0x16cbf2,_0x36f18a||[]))[_0x37f9cd(0x11d)]());});},__importDefault=this&&this['__importDefault']||function(_0x4dacdf){const _0x36f02a=a15_0x1b5d11;return _0x4dacdf&&_0x4dacdf[_0x36f02a(0x13d)]?_0x4dacdf:{'default':_0x4dacdf};};function a15_0x1283(_0x363d15,_0x16dfbf){const _0x546f19=a15_0x546f();return a15_0x1283=function(_0x1283ce,_0x45eb72){_0x1283ce=_0x1283ce-0x119;let _0x9c4a45=_0x546f19[_0x1283ce];return _0x9c4a45;},a15_0x1283(_0x363d15,_0x16dfbf);}Object[a15_0x1b5d11(0x14a)](exports,'__esModule',{'value':!![]}),exports[a15_0x1b5d11(0x123)]=void 0x0;function a15_0x546f(){const _0x58d183=['restart\x20hourly\x20quota','call','339436IyPyAz','initAllTask','restartQuota','define','weekly','255880YnvmUC','restart\x20daily\x20quota','hourly','agendaJobs','__createBinding','prototype','default','connection','0\x200\x20*\x20*\x20*','refresh_seconds','__awaiter','3398038hcuLhg','__setModuleDefault','value','get','start','0\x20*\x20*\x20*\x20*','63QPSmQq','1216798hxiOSe','../app','create','31328WURaNm','__esModule','1633060vptQAL','0\x200\x20*\x20*\x201','../controllers/quota.controller','861222dEatBa','agenda','mongoose','get\x20connections','connect','__importStar','every','log','hasOwnProperty','defineProperty','errors','201bsFCxM','apply','get\x20connections\x20task','daily','getConnections','next','restart\x20weekly\x20quota','restart\x20monthly\x20quota'];a15_0x546f=function(){return _0x58d183;};return a15_0x546f();}const mongoose_1=__importDefault(require(a15_0x1b5d11(0x143))),QuotaController=__importStar(require(a15_0x1b5d11(0x140))),ServerController=__importStar(require('../controllers/servers.controller')),Database_1=__importDefault(require('../models/Database')),app_1=__importDefault(require(a15_0x1b5d11(0x13a))),Agenda=require(a15_0x1b5d11(0x142)),initAllTask=_0x3bafb0=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x29d7ad=a15_0x1b5d11,_0x470f12=new Database_1[(_0x29d7ad(0x12d))](),_0x4232df=new Agenda();let _0x15acb5=yield _0x470f12[_0x29d7ad(0x145)]();if(_0x15acb5[_0x29d7ad(0x14b)])console['log'](_0x15acb5['errors']);else _0x4232df['mongo'](mongoose_1[_0x29d7ad(0x12d)][_0x29d7ad(0x12e)]['db'],_0x29d7ad(0x12a)),_0x4232df[_0x29d7ad(0x125)](_0x29d7ad(0x144),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x417146=_0x29d7ad;yield ServerController[_0x417146(0x11c)](_0x3bafb0),console[_0x417146(0x148)](_0x417146(0x11a));})),_0x4232df['define'](_0x29d7ad(0x11f),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x572a9f=_0x29d7ad;QuotaController[_0x572a9f(0x124)]('monthly'),console[_0x572a9f(0x148)](_0x572a9f(0x11f));})),_0x4232df[_0x29d7ad(0x125)]('restart\x20weekly\x20quota',()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x28b7c4=_0x29d7ad;QuotaController[_0x28b7c4(0x124)](_0x28b7c4(0x126)),console['log'](_0x28b7c4(0x11e));})),_0x4232df['define']('restart\x20daily\x20quota',()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2459fc=_0x29d7ad;QuotaController[_0x2459fc(0x124)](_0x2459fc(0x11b)),console[_0x2459fc(0x148)](_0x2459fc(0x128));})),_0x4232df['define']('restart\x20hourly\x20quota',()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xa5962c=_0x29d7ad;QuotaController['restartQuota'](_0xa5962c(0x129)),console['log'](_0xa5962c(0x120));})),yield _0x4232df[_0x29d7ad(0x136)](),yield _0x4232df[_0x29d7ad(0x147)](app_1[_0x29d7ad(0x12d)][_0x29d7ad(0x135)](_0x29d7ad(0x130))+'\x20seconds',_0x29d7ad(0x144)),yield _0x4232df[_0x29d7ad(0x147)]('0\x200\x201\x20*\x20*',_0x29d7ad(0x11f)),yield _0x4232df['every'](_0x29d7ad(0x13f),_0x29d7ad(0x11e)),yield _0x4232df[_0x29d7ad(0x147)](_0x29d7ad(0x12f),_0x29d7ad(0x128)),yield _0x4232df['every'](_0x29d7ad(0x137),_0x29d7ad(0x120));});exports[a15_0x1b5d11(0x123)]=initAllTask;