'use strict';const a15_0xdffc13=a15_0x4124;function a15_0x4124(_0x1e3a76,_0x46cced){const _0x4a1b56=a15_0x4a1b();return a15_0x4124=function(_0x41242c,_0x1411d5){_0x41242c=_0x41242c-0x1b6;let _0x2d98af=_0x4a1b56[_0x41242c];return _0x2d98af;},a15_0x4124(_0x1e3a76,_0x46cced);}(function(_0x2f4e96,_0x13afcd){const _0x1ebd52=a15_0x4124,_0xbf0712=_0x2f4e96();while(!![]){try{const _0xfdfcdf=-parseInt(_0x1ebd52(0x1e0))/0x1*(-parseInt(_0x1ebd52(0x1e9))/0x2)+parseInt(_0x1ebd52(0x1ca))/0x3+-parseInt(_0x1ebd52(0x1ea))/0x4*(parseInt(_0x1ebd52(0x1dc))/0x5)+-parseInt(_0x1ebd52(0x1e8))/0x6+parseInt(_0x1ebd52(0x1d3))/0x7*(-parseInt(_0x1ebd52(0x1bc))/0x8)+-parseInt(_0x1ebd52(0x1c2))/0x9*(-parseInt(_0x1ebd52(0x1b6))/0xa)+-parseInt(_0x1ebd52(0x1c5))/0xb*(-parseInt(_0x1ebd52(0x1d6))/0xc);if(_0xfdfcdf===_0x13afcd)break;else _0xbf0712['push'](_0xbf0712['shift']());}catch(_0x4f1de5){_0xbf0712['push'](_0xbf0712['shift']());}}}(a15_0x4a1b,0x9fe3a));var __createBinding=this&&this[a15_0xdffc13(0x1dd)]||(Object['create']?function(_0x50a214,_0x5a24ea,_0x5ab276,_0x4b19a8){if(_0x4b19a8===undefined)_0x4b19a8=_0x5ab276;Object['defineProperty'](_0x50a214,_0x4b19a8,{'enumerable':!![],'get':function(){return _0x5a24ea[_0x5ab276];}});}:function(_0x20801b,_0x2c23f7,_0x99731f,_0x16dc6c){if(_0x16dc6c===undefined)_0x16dc6c=_0x99731f;_0x20801b[_0x16dc6c]=_0x2c23f7[_0x99731f];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a15_0xdffc13(0x1bd)]?function(_0x380226,_0xeb5960){const _0x17d0d5=a15_0xdffc13;Object[_0x17d0d5(0x1b7)](_0x380226,_0x17d0d5(0x1e7),{'enumerable':!![],'value':_0xeb5960});}:function(_0x271241,_0xbce9b1){const _0x3036f3=a15_0xdffc13;_0x271241[_0x3036f3(0x1e7)]=_0xbce9b1;}),__importStar=this&&this[a15_0xdffc13(0x1e6)]||function(_0x4af1ea){const _0x1b92cc=a15_0xdffc13;if(_0x4af1ea&&_0x4af1ea[_0x1b92cc(0x1c6)])return _0x4af1ea;var _0x34cfbf={};if(_0x4af1ea!=null){for(var _0x538b92 in _0x4af1ea)if(_0x538b92!==_0x1b92cc(0x1e7)&&Object[_0x1b92cc(0x1e4)][_0x1b92cc(0x1ce)][_0x1b92cc(0x1eb)](_0x4af1ea,_0x538b92))__createBinding(_0x34cfbf,_0x4af1ea,_0x538b92);}return __setModuleDefault(_0x34cfbf,_0x4af1ea),_0x34cfbf;},__awaiter=this&&this[a15_0xdffc13(0x1d2)]||function(_0x313b3c,_0x3edc9c,_0x46ec6e,_0x34b594){function _0x42d16b(_0x9aeb83){return _0x9aeb83 instanceof _0x46ec6e?_0x9aeb83:new _0x46ec6e(function(_0x55d859){_0x55d859(_0x9aeb83);});}return new(_0x46ec6e||(_0x46ec6e=Promise))(function(_0x122524,_0x2b1436){const _0x2d6f55=a15_0x4124;function _0x8c524e(_0x5c7400){try{_0x12404a(_0x34b594['next'](_0x5c7400));}catch(_0x41823b){_0x2b1436(_0x41823b);}}function _0x32bd2c(_0x30f2c4){try{_0x12404a(_0x34b594['throw'](_0x30f2c4));}catch(_0x299012){_0x2b1436(_0x299012);}}function _0x12404a(_0x156c17){const _0x4d5f9a=a15_0x4124;_0x156c17[_0x4d5f9a(0x1d0)]?_0x122524(_0x156c17[_0x4d5f9a(0x1df)]):_0x42d16b(_0x156c17['value'])[_0x4d5f9a(0x1d4)](_0x8c524e,_0x32bd2c);}_0x12404a((_0x34b594=_0x34b594['apply'](_0x313b3c,_0x3edc9c||[]))[_0x2d6f55(0x1be)]());});},__importDefault=this&&this[a15_0xdffc13(0x1c8)]||function(_0x1a3fa0){const _0x3c57b2=a15_0xdffc13;return _0x1a3fa0&&_0x1a3fa0[_0x3c57b2(0x1c6)]?_0x1a3fa0:{'default':_0x1a3fa0};};function a15_0x4a1b(){const _0x558802=['initAllTask','39900smMWLf','defineProperty','agenda','every','hourly','restart\x20hourly\x20quota','7131768VLHRrU','create','next','../controllers/servers.controller','../controllers/quota.controller','get\x20connections\x20task','1899qcVjlM','connect','0\x200\x20*\x20*\x20*','1763234gTtfHx','__esModule','0\x200\x20*\x20*\x201','__importDefault','get\x20connections','1842147YDAUoQ','define','refresh_seconds','restartQuota','hasOwnProperty','restart\x20weekly\x20quota','done','restart\x20monthly\x20quota','__awaiter','7nFBKvE','then','0\x200\x201\x20*\x20*','60qPiCfA','../models/Database','\x20seconds','weekly','errors','getConnections','1940BwSqGq','__createBinding','daily','value','394462Yoeqag','agendaJobs','restart\x20daily\x20quota','start','prototype','log','__importStar','default','3110700chQvai','2nuKXwn','6052CqtIZt','call'];a15_0x4a1b=function(){return _0x558802;};return a15_0x4a1b();}Object['defineProperty'](exports,a15_0xdffc13(0x1c6),{'value':!![]}),exports['initAllTask']=void 0x0;const mongoose_1=__importDefault(require('mongoose')),QuotaController=__importStar(require(a15_0xdffc13(0x1c0))),ServerController=__importStar(require(a15_0xdffc13(0x1bf))),Database_1=__importDefault(require(a15_0xdffc13(0x1d7))),app_1=__importDefault(require('../app')),Agenda=require(a15_0xdffc13(0x1b8)),initAllTask=_0x3fe099=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x50529b=a15_0xdffc13,_0x387d63=new Database_1[(_0x50529b(0x1e7))](),_0x2bd33d=new Agenda();let _0x5815c6=yield _0x387d63[_0x50529b(0x1c3)]();if(_0x5815c6['errors'])console['log'](_0x5815c6[_0x50529b(0x1da)]);else _0x2bd33d['mongo'](mongoose_1[_0x50529b(0x1e7)]['connection']['db'],_0x50529b(0x1e1)),_0x2bd33d[_0x50529b(0x1cb)](_0x50529b(0x1c9),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3bf7c0=_0x50529b;yield ServerController[_0x3bf7c0(0x1db)](_0x3fe099),console[_0x3bf7c0(0x1e5)](_0x3bf7c0(0x1c1));})),_0x2bd33d[_0x50529b(0x1cb)](_0x50529b(0x1d1),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x163209=_0x50529b;QuotaController['restartQuota']('monthly'),console[_0x163209(0x1e5)](_0x163209(0x1d1));})),_0x2bd33d[_0x50529b(0x1cb)](_0x50529b(0x1cf),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2606a0=_0x50529b;QuotaController[_0x2606a0(0x1cd)](_0x2606a0(0x1d9)),console[_0x2606a0(0x1e5)]('restart\x20weekly\x20quota');})),_0x2bd33d['define'](_0x50529b(0x1e2),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3ef334=_0x50529b;QuotaController['restartQuota'](_0x3ef334(0x1de)),console['log'](_0x3ef334(0x1e2));})),_0x2bd33d[_0x50529b(0x1cb)](_0x50529b(0x1bb),()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x20102a=_0x50529b;QuotaController[_0x20102a(0x1cd)](_0x20102a(0x1ba)),console['log'](_0x20102a(0x1bb));})),yield _0x2bd33d[_0x50529b(0x1e3)](),yield _0x2bd33d[_0x50529b(0x1b9)](app_1['default']['get'](_0x50529b(0x1cc))+_0x50529b(0x1d8),'get\x20connections'),yield _0x2bd33d[_0x50529b(0x1b9)](_0x50529b(0x1d5),_0x50529b(0x1d1)),yield _0x2bd33d[_0x50529b(0x1b9)](_0x50529b(0x1c7),_0x50529b(0x1cf)),yield _0x2bd33d[_0x50529b(0x1b9)](_0x50529b(0x1c4),_0x50529b(0x1e2)),yield _0x2bd33d[_0x50529b(0x1b9)]('0\x20*\x20*\x20*\x20*','restart\x20hourly\x20quota');});exports[a15_0xdffc13(0x1ec)]=initAllTask;