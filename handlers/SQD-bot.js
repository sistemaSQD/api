'use strict';const a50_0x18c412=a50_0x2e36;(function(_0x4eca4e,_0x1ddc8d){const _0x22cd71=a50_0x2e36,_0x3c4572=_0x4eca4e();while(!![]){try{const _0x2b8dab=-parseInt(_0x22cd71(0x1f5))/0x1*(parseInt(_0x22cd71(0x27a))/0x2)+parseInt(_0x22cd71(0x262))/0x3*(-parseInt(_0x22cd71(0x268))/0x4)+-parseInt(_0x22cd71(0x229))/0x5+-parseInt(_0x22cd71(0x240))/0x6+-parseInt(_0x22cd71(0x1e6))/0x7+-parseInt(_0x22cd71(0x2ac))/0x8+-parseInt(_0x22cd71(0x271))/0x9*(-parseInt(_0x22cd71(0x2ab))/0xa);if(_0x2b8dab===_0x1ddc8d)break;else _0x3c4572['push'](_0x3c4572['shift']());}catch(_0x55dfe8){_0x3c4572['push'](_0x3c4572['shift']());}}}(a50_0x431f,0x45175));var __createBinding=this&&this[a50_0x18c412(0x24f)]||(Object[a50_0x18c412(0x29b)]?function(_0x1d34f6,_0x2153ee,_0xd2a4ae,_0x536a21){const _0x26a8ab=a50_0x18c412;if(_0x536a21===undefined)_0x536a21=_0xd2a4ae;Object[_0x26a8ab(0x284)](_0x1d34f6,_0x536a21,{'enumerable':!![],'get':function(){return _0x2153ee[_0xd2a4ae];}});}:function(_0x148ea5,_0x5aa82b,_0x3703ca,_0x1e0dd8){if(_0x1e0dd8===undefined)_0x1e0dd8=_0x3703ca;_0x148ea5[_0x1e0dd8]=_0x5aa82b[_0x3703ca];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x192746,_0x42b94){const _0x4de75f=a50_0x18c412;Object[_0x4de75f(0x284)](_0x192746,_0x4de75f(0x294),{'enumerable':!![],'value':_0x42b94});}:function(_0x4537fc,_0x1a69cd){const _0x9e9ffc=a50_0x18c412;_0x4537fc[_0x9e9ffc(0x294)]=_0x1a69cd;}),__importStar=this&&this[a50_0x18c412(0x25d)]||function(_0x3b588e){const _0x8294e1=a50_0x18c412;if(_0x3b588e&&_0x3b588e[_0x8294e1(0x2b5)])return _0x3b588e;var _0x49ae27={};if(_0x3b588e!=null){for(var _0x8d4969 in _0x3b588e)if(_0x8d4969!==_0x8294e1(0x294)&&Object[_0x8294e1(0x1fa)]['hasOwnProperty']['call'](_0x3b588e,_0x8d4969))__createBinding(_0x49ae27,_0x3b588e,_0x8d4969);}return __setModuleDefault(_0x49ae27,_0x3b588e),_0x49ae27;},__awaiter=this&&this[a50_0x18c412(0x1eb)]||function(_0x468a23,_0x505315,_0x53c99e,_0x56e2ac){function _0x29fa95(_0x2ed7e4){return _0x2ed7e4 instanceof _0x53c99e?_0x2ed7e4:new _0x53c99e(function(_0x39e146){_0x39e146(_0x2ed7e4);});}return new(_0x53c99e||(_0x53c99e=Promise))(function(_0xb641eb,_0x222b26){function _0x472f92(_0x48b2c4){const _0x4fe571=a50_0x2e36;try{_0xd084fe(_0x56e2ac[_0x4fe571(0x263)](_0x48b2c4));}catch(_0x15ff02){_0x222b26(_0x15ff02);}}function _0x2fca98(_0x5eb91f){try{_0xd084fe(_0x56e2ac['throw'](_0x5eb91f));}catch(_0x2d472f){_0x222b26(_0x2d472f);}}function _0xd084fe(_0x578986){const _0x4f7032=a50_0x2e36;_0x578986[_0x4f7032(0x1ec)]?_0xb641eb(_0x578986[_0x4f7032(0x286)]):_0x29fa95(_0x578986[_0x4f7032(0x286)])[_0x4f7032(0x2c3)](_0x472f92,_0x2fca98);}_0xd084fe((_0x56e2ac=_0x56e2ac['apply'](_0x468a23,_0x505315||[]))['next']());});},__importDefault=this&&this[a50_0x18c412(0x295)]||function(_0x473dde){const _0x5bae31=a50_0x18c412;return _0x473dde&&_0x473dde[_0x5bae31(0x2b5)]?_0x473dde:{'default':_0x473dde};};Object[a50_0x18c412(0x284)](exports,a50_0x18c412(0x2b5),{'value':!![]}),exports['initBot']=void 0x0;function a50_0x2e36(_0x19f147,_0x2f468a){const _0x431f7b=a50_0x431f();return a50_0x2e36=function(_0x2e3624,_0x5a3911){_0x2e3624=_0x2e3624-0x1e4;let _0x179742=_0x431f7b[_0x2e3624];return _0x179742;},a50_0x2e36(_0x19f147,_0x2f468a);}const app_1=__importDefault(require(a50_0x18c412(0x23c))),Database_1=__importDefault(require(a50_0x18c412(0x2b2))),Useful_1=__importDefault(require(a50_0x18c412(0x1f8))),Server_1=require(a50_0x18c412(0x25a)),Bot_1=require(a50_0x18c412(0x24b)),Proxy_1=require(a50_0x18c412(0x2a4)),Source_1=require(a50_0x18c412(0x1f4)),Cache_1=__importDefault(require('../models/Cache')),LicenseController=__importStar(require(a50_0x18c412(0x2c9))),telegraf_1=require('telegraf'),axios_1=__importDefault(require('axios')),ProxyAgent=require(a50_0x18c412(0x267)),{NodeSSH}=require('node-ssh'),exec=require(a50_0x18c412(0x238))[a50_0x18c412(0x28b)],validator=require('validator'),tinycron=require(a50_0x18c412(0x237));function a50_0x431f(){const _0x509887=['value','filter','yes','cancelar','Usuarios\x20desde\x20varias\x20ip','exec','No\x20se\x20pudo\x20obtener\x20los\x20usuarios\x20conectados\x20la\x20respuesta\x20fue:\x20\x0a','length','button','count','No\x20existe\x20ningún\x20servidor\x20con\x20la\x20ip\x20<b>','enter','scene','Operación\x20cancelada','default','__importDefault','bytes','No\x20se\x20pudo\x20registrar\x20la\x20notificación\x20la\x20respuesta\x20fue:\x20','activateServer\x20','forEach','Conectados','create','indexOf','No\x20se\x20pudo\x20bloquear\x20<b>','unlockSource\x20','Bot','ips','/server/restart/','usermultipleip\x20','Usuario\x20o\x20IP:','../models/Proxy','Telegraf','sshport','Notificación\x20resgistrada\x20correctamente','urimorevisited\x20','\x0a\x20\x20','Servidor\x20','4980eUjeLP','2514728rxcsqX','No\x20se\x20pudieron\x20obtener\x20los\x20servidores\x20la\x20respuesta\x20fue:\x0a','map','systemctl\x20status\x20squid','No\x20se\x20pudo\x20activar\x20el\x20servidor\x20<b>','Servidor\x20<b>','../models/Database','En\x20estos\x20momentos\x20no\x20existe\x20ninguna\x20URI','/source/sourceunlock','__esModule','</b>,\x20para\x20poder\x20continuar\x20debe\x20de\x20estar\x20registrado\x20en\x20el\x20sistema\x20<b>SQD</b>\x20su\x20id\x20de\x20conversación\x20el\x20cual\x20es:\x20<b>','command','serverStatus\x20','chats','WizardScene','x-access-token','Grupos:\x20','checkSSHConnection\x20','getClearUri','put','lock_from','</b>\x20ha\x20sido\x20bloqueado\x20correctamente','LISTA\x20DE\x20BLOQUEADOS','then','assign','connect','inlineKeyboard','errors','get','../controllers/license.controller','sshpass','restartServer\x20','No\x20se\x20pudo\x20obtener\x20la\x20lista\x20de\x20bloqueados\x20del\x20servidor\x20<b>','connectionswithoutuser\x20','serverMenu\x20','identifier','Scenes','ID\x20de\x20conversación\x20inválido\x20vuelva\x20a\x20intentarlo','execCommand','1565116wfisXY','<b>SQD</b>\x20ya\x20está\x20listo\x20para\x20atenderle','log','En\x20estos\x20momentos\x20no\x20existen\x20usuarios\x20navegando\x20desde\x20varias\x20ip','chat','__awaiter','done','wizard','Velocidad\x20total:\x20<b>','URI\x20más\x20visitadas','Activar','checkLicense','\x20mgr:active_requests@','</b>\x20reiniciado\x20correctamente','../models/Source','1WcKMbA','message','parseSource','../models/Useful','squidclient\x20-h\x20','prototype','back','host','launch','http://localhost:','Server','data','Reiniciar\x20servidor','find','reply','Cantidad\x20de\x20conexiones:\x20<b>','</b>','split','LISTA\x20DE\x20SERVIDORES\x20REGISTRADOS','status','memberOf','isEmpty','from','Sitios\x20separados\x20por\x20coma\x20(,):','leave','Lo\x20sentimos\x20debe\x20de\x20registrar\x20una\x20licencia','No\x20hay\x20usuarios\x20conectados','No\x20se\x20pudo\x20obtener\x20los\x20datos\x20de\x20<b>','typing','ID\x20de\x20conversación:','sshuser','Usuario\x20o\x20IP\x20inválido\x20vuelva\x20a\x20intentarlo','Desbloquear','\x20activado\x20correctamente','file','token','Por\x20favor\x20registre\x20un\x20token\x20para\x20SQD-bot','sources','El\x20servidor\x20<b>','No\x20es\x20posible\x20atender\x20esta\x20solicitud\x20hasta\x20que\x20sea\x20registrado\x20su\x20id\x20de\x20conversación:\x20<b>','middleware','</b>\x20la\x20respuesta\x20fue:\x20\x0a','push','Bienvenido\x20<b>','Usuario\x20autorizado\x20correctamente','servidores','extractConnections','/login','port','callback','populate','accessToBot','1355600pOqknS','No\x20se\x20pudo\x20obtener\x20los\x20datos\x20del\x20servidor\x20<b>','admin_password','sort','CONEXION\x20A\x20SITIOS.\x0aPara\x20abortar\x20escriba\x20<em>´cancelar´</em>','SQD-bot\x20iniciado\x20correctamente','\x20mgr:delay@','start','No\x20se\x20pudo\x20autorizar\x20el\x20usuario\x20la\x20respuesta\x20fue:\x20','remote','uri','accessToBotWizard','action','No\x20se\x20pudo\x20desbloquear\x20<b>','tinycron','child_process','isIP','_id','stdout','../app','Autorizar\x20a\x20bot','username','Resumen','1009422LitzRs','lockedSources\x20','No\x20existen\x20servidores\x20registrados','cachepass','El\x20formato\x20de\x20los\x20sitios\x20es\x20inválido\x20vuleva\x20a\x20intentarlo','stderr','replyWithChatAction','server','</b>\x20puede\x20que\x20se\x20haya\x20eliminado\x20recientemente','Nombre\x20inválido\x20vuelva\x20a\x20intentarlo','/s</b>\x20\x0a','../models/Bot','findOne','<b>','getSize','__createBinding','No\x20se\x20pudo\x20obtener\x20la\x20información\x20LDAP\x20de\x20<b>','Navegación\x20mediante\x20ip','initBot','infoLDAP\x20','session','No\x20se\x20pudo\x20reiniciar\x20el\x20servidor\x20<b>','\x20-p\x20','post','En\x20estos\x20momentos\x20no\x20hay\x20ningún\x20bloqueo','</b>\x20','../models/Server','Stage','No\x20se\x20pudo\x20obtener\x20el\x20resumen\x20la\x20respuesta\x20fue:\x20\x0a','__importStar','USUARIOS\x20DESDE\x20VARIAS\x20IP','connectionToSitesWizard','Source','match','6XEZKzx','next','text','findByIdAndUpdate','headers','proxy-agent','308548uWIvnR','/source/getsourceslocked/','msg','Sin\x20conexiones\x20activas','</b>\x20la\x20respuesta\x20fue:\x0a','slice','catch','</b>\x20con\x20estado\x20<b>','Markup','25794uZZAAh','Active:\x20','</b>\x20\x0a','use','replyWithHTML','active','Notificar\x20conexión\x20a\x20sitios','En\x20estos\x20momentos\x20no\x20existe\x20ninguna\x20ip\x20navegando\x20de\x20forma\x20directa','first_name','25422VaJajr','addconnectionToSites\x20','archivo','speed_value','activeconnections','tiempo:\x20','No\x20se\x20pudo\x20comprobar\x20el\x20estado\x20del\x20servidor\x20<b>','usersOnline\x20','NAVEGACION\x20MEDIANTE\x20IP','No\x20se\x20pudo\x20establecer\x20conexión\x20SSH\x20con\x20el\x20servidor\x20<b>','defineProperty','URI\x20CON\x20MAS\x20CONEXIONES'];a50_0x431f=function(){return _0x509887;};return a50_0x431f();}let authtoken=null;const axiosinstance=axios_1['default']['create']({'baseURL':a50_0x18c412(0x1fe)+app_1[a50_0x18c412(0x294)][a50_0x18c412(0x2c8)](a50_0x18c412(0x225)),'timeout':0x2710}),autoLogin=()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2c1539=a50_0x18c412;let _0x34831e=yield axios_1[_0x2c1539(0x294)][_0x2c1539(0x257)](_0x2c1539(0x1fe)+app_1[_0x2c1539(0x294)][_0x2c1539(0x2c8)](_0x2c1539(0x225))+_0x2c1539(0x224),{'username':app_1['default'][_0x2c1539(0x2c8)]('admin_username'),'password':app_1[_0x2c1539(0x294)][_0x2c1539(0x2c8)](_0x2c1539(0x22b))});!_0x34831e[_0x2c1539(0x200)][_0x2c1539(0x2c7)]&&(authtoken=_0x34831e[_0x2c1539(0x200)][_0x2c1539(0x218)]);});axiosinstance['interceptors']['request'][a50_0x18c412(0x274)](_0x184c21=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1c4617=a50_0x18c412;return!authtoken&&(yield autoLogin()),_0x184c21[_0x1c4617(0x266)][_0x1c4617(0x2bb)]=authtoken,_0x184c21;}));let bot=new telegraf_1[(a50_0x18c412(0x2a5))]('');const cache=new Cache_1['default'](),initBot=()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x168595=a50_0x18c412,_0x437055=new Database_1[(_0x168595(0x294))]();let _0x16a537=yield _0x437055[_0x168595(0x2c5)]();if(_0x16a537[_0x168595(0x2c7)])console[_0x168595(0x1e8)](_0x16a537[_0x168595(0x2c7)]);else yield Bot_1[_0x168595(0x29f)][_0x168595(0x24c)]()['then'](_0x2cd429=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x51c24f=_0x168595;if(_0x2cd429){let _0x53ded5=yield Proxy_1['Proxy'][_0x51c24f(0x24c)]()[_0x51c24f(0x2c3)](_0x52ebf9=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){return _0x52ebf9;}));const _0x64fa41=_0x53ded5!==null?new ProxyAgent(_0x53ded5[_0x51c24f(0x233)]):null;bot=new telegraf_1['Telegraf'](_0x2cd429[_0x51c24f(0x218)],{'telegram':{'agent':_0x64fa41}});let _0x2dccba={'host':'','identifier':'','sites':[]},_0x3f5f1b={'name':'','id':''};const _0x5927b9=new telegraf_1[(_0x51c24f(0x2d0))][(_0x51c24f(0x2ba))](_0x51c24f(0x25f),_0x187774=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xc064ae=_0x51c24f;return yield _0x187774[_0xc064ae(0x275)](_0xc064ae(0x22d)),yield _0x187774[_0xc064ae(0x203)](_0xc064ae(0x2a3)),_0x187774[_0xc064ae(0x1ed)][_0xc064ae(0x263)]();}),_0x451ff9=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5b4d44=_0x51c24f;if(_0x451ff9[_0x5b4d44(0x1f6)][_0x5b4d44(0x264)]==_0x5b4d44(0x289))return yield _0x451ff9[_0x5b4d44(0x203)]('Operación\x20cancelada'),_0x2dccba={'identifier':'','sites':[]},yield _0x451ff9[_0x5b4d44(0x292)][_0x5b4d44(0x20d)]();else return validator[_0x5b4d44(0x20a)](_0x451ff9[_0x5b4d44(0x1f6)][_0x5b4d44(0x264)],{'ignore_whitespace':!![]})?(yield _0x451ff9[_0x5b4d44(0x203)](_0x5b4d44(0x214)),_0x451ff9[_0x5b4d44(0x1ed)][_0x5b4d44(0x1fb)](),_0x451ff9[_0x5b4d44(0x1ed)][_0x5b4d44(0x263)]()):(_0x2dccba[_0x5b4d44(0x2cf)]=_0x451ff9[_0x5b4d44(0x1f6)][_0x5b4d44(0x264)],yield _0x451ff9[_0x5b4d44(0x203)](_0x5b4d44(0x20c)),_0x451ff9['wizard']['next']());}),_0x159f46=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x36c2f9=_0x51c24f;if(_0x159f46[_0x36c2f9(0x1f6)]['text']==_0x36c2f9(0x289))return yield _0x159f46[_0x36c2f9(0x203)](_0x36c2f9(0x293)),_0x2dccba={'identifier':'','sites':[]},yield _0x159f46[_0x36c2f9(0x292)][_0x36c2f9(0x20d)]();else{let _0x279896=_0x159f46[_0x36c2f9(0x1f6)][_0x36c2f9(0x264)]['split'](','),_0xea659e=!![];return _0x279896[_0x36c2f9(0x2ae)]((_0x492d9b,_0x3300b3)=>{const _0x385c4d=_0x36c2f9;validator[_0x385c4d(0x20a)](_0x492d9b,{'ignore_whitespace':!![]})&&(_0xea659e=![]);}),!_0xea659e?(yield _0x159f46['reply'](_0x36c2f9(0x244)),_0x159f46['wizard'][_0x36c2f9(0x1fb)](),_0x159f46['wizard'][_0x36c2f9(0x263)]()):(_0x2dccba['sites']=_0x279896,yield axiosinstance['post']('/source/connectiontosite',_0x2dccba)[_0x36c2f9(0x2c3)](_0x380048=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1ccb29=_0x36c2f9;_0x380048[_0x1ccb29(0x200)]['errors']?yield _0x159f46['replyWithHTML'](_0x1ccb29(0x297)+_0x380048[_0x1ccb29(0x200)][_0x1ccb29(0x2c7)][0x0][_0x1ccb29(0x26a)]):(_0x2dccba={'host':'','identifier':'','sites':[]},yield _0x159f46[_0x1ccb29(0x203)](_0x1ccb29(0x2a7)));}))[_0x36c2f9(0x26e)](_0x3f09c5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3db695=_0x36c2f9;yield _0x159f46[_0x3db695(0x275)](_0x3db695(0x297)+_0x3f09c5[_0x3db695(0x1f6)]);})),yield _0x159f46[_0x36c2f9(0x292)][_0x36c2f9(0x20d)]());}})),_0x44ee26=new telegraf_1['Scenes'][(_0x51c24f(0x2ba))](_0x51c24f(0x234),_0x2e71dc=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1fba8f=_0x51c24f;return yield _0x2e71dc[_0x1fba8f(0x275)]('AUTORIZAR\x20ACCESO\x20A\x20BOT.\x0aPara\x20abortar\x20escriba\x20<em>´cancelar´</em>'),yield _0x2e71dc[_0x1fba8f(0x203)]('Nombre\x20del\x20usuario:'),_0x2e71dc[_0x1fba8f(0x1ed)]['next']();}),_0x21e9cd=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xb64d74=_0x51c24f;if(_0x21e9cd[_0xb64d74(0x1f6)][_0xb64d74(0x264)]==_0xb64d74(0x289))return yield _0x21e9cd[_0xb64d74(0x203)](_0xb64d74(0x293)),_0x3f5f1b={'name':'','id':''},yield _0x21e9cd[_0xb64d74(0x292)][_0xb64d74(0x20d)]();else return validator[_0xb64d74(0x20a)](_0x21e9cd['message']['text'],{'ignore_whitespace':!![]})?(yield _0x21e9cd[_0xb64d74(0x203)](_0xb64d74(0x249)),_0x21e9cd['wizard']['back'](),_0x21e9cd[_0xb64d74(0x1ed)][_0xb64d74(0x263)]()):(_0x3f5f1b['name']=_0x21e9cd[_0xb64d74(0x1f6)][_0xb64d74(0x264)],yield _0x21e9cd[_0xb64d74(0x203)](_0xb64d74(0x212)),_0x21e9cd['wizard'][_0xb64d74(0x263)]());}),_0x20ed9c=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x321534=_0x51c24f;if(_0x20ed9c[_0x321534(0x1f6)]['text']==_0x321534(0x289))return yield _0x20ed9c[_0x321534(0x203)](_0x321534(0x293)),_0x3f5f1b={'name':'','id':''},yield _0x20ed9c['scene'][_0x321534(0x20d)]();else return validator['isEmpty'](_0x20ed9c[_0x321534(0x1f6)][_0x321534(0x264)],{'ignore_whitespace':!![]})?(yield _0x20ed9c[_0x321534(0x203)](_0x321534(0x1e4)),_0x20ed9c['wizard'][_0x321534(0x1fb)](),_0x20ed9c[_0x321534(0x1ed)][_0x321534(0x263)]()):(_0x3f5f1b['id']=_0x20ed9c[_0x321534(0x1f6)][_0x321534(0x264)],yield axiosinstance[_0x321534(0x2bf)]('/bot/registerchat',_0x3f5f1b)[_0x321534(0x2c3)](_0x3c2876=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x114ff5=_0x321534;_0x3c2876[_0x114ff5(0x200)]['errors']?yield _0x20ed9c['replyWithHTML'](_0x114ff5(0x231)+_0x3c2876['data'][_0x114ff5(0x2c7)][0x0][_0x114ff5(0x26a)]):(_0x3f5f1b={'name':'','id':''},yield _0x20ed9c['reply'](_0x114ff5(0x221)));}))['catch'](_0x177c73=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x8b203a=_0x321534;yield _0x20ed9c[_0x8b203a(0x275)](_0x8b203a(0x231)+_0x177c73['message']);})),yield _0x20ed9c[_0x321534(0x292)][_0x321534(0x20d)]());}));bot[_0x51c24f(0x2b7)](_0x51c24f(0x230),_0x5e65b5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3f019c=_0x51c24f;yield _0x5e65b5[_0x3f019c(0x246)](_0x3f019c(0x211));let _0x531eba=yield LicenseController[_0x3f019c(0x1f1)]();if(!_0x531eba[_0x3f019c(0x208)])_0x5e65b5['replyWithHTML'](_0x3f019c(0x20e));else{let _0x42d9a7='no';_0x2cd429['chats'][_0x3f019c(0x2ae)](_0x52783b=>{const _0x1e4093=_0x3f019c;if(_0x5e65b5['message'][_0x1e4093(0x1ea)]['id']==_0x52783b['id'])_0x42d9a7=_0x1e4093(0x288);}),_0x42d9a7==_0x3f019c(0x288)?_0x5e65b5[_0x3f019c(0x275)](_0x3f019c(0x1e7)):_0x5e65b5[_0x3f019c(0x275)](_0x3f019c(0x220)+_0x5e65b5[_0x3f019c(0x1f6)][_0x3f019c(0x20b)][_0x3f019c(0x279)]+_0x3f019c(0x2b6)+_0x5e65b5[_0x3f019c(0x1f6)][_0x3f019c(0x1ea)]['id']+_0x3f019c(0x205));}})),bot[_0x51c24f(0x2b7)](_0x51c24f(0x222),_0x3cf934=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3f04fe=_0x51c24f;yield _0x3cf934[_0x3f04fe(0x246)](_0x3f04fe(0x211));let _0x57c847=yield LicenseController[_0x3f04fe(0x1f1)]();if(!_0x57c847['status'])_0x3cf934[_0x3f04fe(0x275)]('Lo\x20sentimos\x20debe\x20de\x20registrar\x20una\x20licencia');else{let _0x354b67='no';_0x2cd429[_0x3f04fe(0x2b9)][_0x3f04fe(0x2ae)](_0x450889=>{const _0x493a9b=_0x3f04fe;if(_0x3cf934['message'][_0x493a9b(0x1ea)]['id']==_0x450889['id'])_0x354b67=_0x493a9b(0x288);});if(_0x354b67==_0x3f04fe(0x288)){const _0x5d4d94=yield Server_1[_0x3f04fe(0x1ff)][_0x3f04fe(0x202)]()[_0x3f04fe(0x2c3)](_0x16b280=>{const _0xea342f=_0x3f04fe;let _0x642670=[];for(let _0x38316f=0x0;_0x38316f<_0x16b280['length'];_0x38316f++){if(_0x38316f%0x2==0x0){let _0x53d88b=[],_0x56ad1d=_0x16b280[_0xea342f(0x26d)](_0x38316f,_0x38316f+0x2);_0x53d88b[_0xea342f(0x21f)](telegraf_1['Markup'][_0xea342f(0x28e)][_0xea342f(0x226)](_0x56ad1d[0x0][_0xea342f(0x1fc)],_0xea342f(0x2ce)+_0x56ad1d[0x0][_0xea342f(0x1fc)]));if(_0x56ad1d[_0xea342f(0x28d)]==0x2)_0x53d88b[_0xea342f(0x21f)](telegraf_1[_0xea342f(0x270)][_0xea342f(0x28e)][_0xea342f(0x226)](_0x56ad1d[0x1][_0xea342f(0x1fc)],_0xea342f(0x2ce)+_0x56ad1d[0x1][_0xea342f(0x1fc)]));_0x642670[_0xea342f(0x21f)](_0x53d88b);}}_0x16b280[_0xea342f(0x28d)]==0x0?_0x3cf934['replyWithHTML'](_0xea342f(0x242)):_0x3cf934[_0xea342f(0x275)](_0xea342f(0x207),Object[_0xea342f(0x2c4)]({},telegraf_1[_0xea342f(0x270)][_0xea342f(0x2c6)](_0x642670)));})[_0x3f04fe(0x26e)](_0x53ac32=>{const _0x1805ed=_0x3f04fe;_0x3cf934[_0x1805ed(0x275)](_0x1805ed(0x2ad)+_0x53ac32[_0x1805ed(0x1f6)]);});}else _0x3cf934[_0x3f04fe(0x275)](_0x3f04fe(0x21c)+_0x3cf934[_0x3f04fe(0x1f6)][_0x3f04fe(0x1ea)]['id']+_0x3f04fe(0x205));}})),bot[_0x51c24f(0x235)](/serverMenu (.+)/,_0x54103d=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x15ee7b=_0x51c24f;yield _0x54103d[_0x15ee7b(0x246)](_0x15ee7b(0x211)),yield Server_1[_0x15ee7b(0x1ff)][_0x15ee7b(0x24c)]({'host':_0x54103d['match'][0x1]})['then'](_0x476093=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x19f7ca=_0x15ee7b;if(_0x476093){let _0x5ed5c4=[];_0x54103d['replyWithHTML']('Qué\x20operación\x20desea\x20realizar\x20con:\x20'+_0x54103d[_0x19f7ca(0x261)][0x1],Object[_0x19f7ca(0x2c4)]({},telegraf_1[_0x19f7ca(0x270)]['inlineKeyboard']([[telegraf_1[_0x19f7ca(0x270)][_0x19f7ca(0x28e)][_0x19f7ca(0x226)](_0x19f7ca(0x1f0),_0x19f7ca(0x298)+_0x54103d[_0x19f7ca(0x261)][0x1]),telegraf_1[_0x19f7ca(0x270)][_0x19f7ca(0x28e)][_0x19f7ca(0x226)]('Probar\x20SSH',_0x19f7ca(0x2bd)+_0x54103d[_0x19f7ca(0x261)][0x1])],[telegraf_1['Markup'][_0x19f7ca(0x28e)][_0x19f7ca(0x226)]('Estado\x20de\x20squid',_0x19f7ca(0x2b8)+_0x54103d[_0x19f7ca(0x261)][0x1]),telegraf_1[_0x19f7ca(0x270)][_0x19f7ca(0x28e)][_0x19f7ca(0x226)](_0x19f7ca(0x201),_0x19f7ca(0x2cb)+_0x54103d['match'][0x1])],[telegraf_1[_0x19f7ca(0x270)]['button'][_0x19f7ca(0x226)](_0x19f7ca(0x23f),'resume\x20'+_0x54103d[_0x19f7ca(0x261)][0x1]),telegraf_1['Markup'][_0x19f7ca(0x28e)]['callback'](_0x19f7ca(0x29a),_0x19f7ca(0x281)+_0x54103d['match'][0x1])],[telegraf_1[_0x19f7ca(0x270)][_0x19f7ca(0x28e)][_0x19f7ca(0x226)]('Bloqueados',_0x19f7ca(0x241)+_0x54103d[_0x19f7ca(0x261)][0x1]),telegraf_1[_0x19f7ca(0x270)]['button'][_0x19f7ca(0x226)](_0x19f7ca(0x23d),_0x19f7ca(0x228))],[telegraf_1[_0x19f7ca(0x270)][_0x19f7ca(0x28e)][_0x19f7ca(0x226)](_0x19f7ca(0x277),_0x19f7ca(0x27b)+_0x54103d[_0x19f7ca(0x261)][0x1])],[telegraf_1[_0x19f7ca(0x270)][_0x19f7ca(0x28e)]['callback'](_0x19f7ca(0x1ef),_0x19f7ca(0x2a8)+_0x54103d[_0x19f7ca(0x261)][0x1]),telegraf_1['Markup']['button']['callback']('URI\x20más\x20conexiones','urimoreconnections\x20'+_0x54103d['match'][0x1])],[telegraf_1[_0x19f7ca(0x270)][_0x19f7ca(0x28e)][_0x19f7ca(0x226)](_0x19f7ca(0x28a),_0x19f7ca(0x2a2)+_0x54103d['match'][0x1])],[telegraf_1[_0x19f7ca(0x270)]['button']['callback'](_0x19f7ca(0x251),_0x19f7ca(0x2cd)+_0x54103d[_0x19f7ca(0x261)][0x1])]])));}else _0x54103d[_0x19f7ca(0x275)]('No\x20existe\x20ningún\x20servidor\x20con\x20la\x20ip\x20<b>'+_0x54103d[_0x19f7ca(0x261)][0x1]+_0x19f7ca(0x205));}))['catch'](_0x2674bc=>{const _0x26f3f2=_0x15ee7b;_0x54103d[_0x26f3f2(0x275)](_0x26f3f2(0x22a)+_0x54103d[_0x26f3f2(0x261)][0x1]+_0x26f3f2(0x26c)+_0x2674bc[_0x26f3f2(0x1f6)]);});})),bot['action'](/serverStatus (.+)/,_0x1ddc18=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x59b9d9=_0x51c24f;yield _0x1ddc18['replyWithChatAction'](_0x59b9d9(0x211)),yield Server_1[_0x59b9d9(0x1ff)]['findOne']({'host':_0x1ddc18[_0x59b9d9(0x261)][0x1]})[_0x59b9d9(0x2c3)](_0x1317c9=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x488c51=_0x59b9d9;if(_0x1317c9){const _0x30e87b=new NodeSSH();yield _0x30e87b[_0x488c51(0x2c5)]({'host':_0x1317c9['host'],'port':_0x1317c9[_0x488c51(0x2a6)],'username':_0x1317c9[_0x488c51(0x213)],'password':_0x1317c9[_0x488c51(0x2ca)]})['then'](function(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x425b0b=a50_0x2e36;yield _0x30e87b[_0x425b0b(0x1e5)](_0x425b0b(0x2af))['then'](function(_0x215fb7){const _0x4fb7ef=_0x425b0b;if(_0x215fb7[_0x4fb7ef(0x245)]!='')_0x1ddc18[_0x4fb7ef(0x275)](_0x4fb7ef(0x280)+_0x1ddc18[_0x4fb7ef(0x261)][0x1]+_0x4fb7ef(0x205));else{let _0x1464d5=_0x215fb7[_0x4fb7ef(0x23b)][_0x4fb7ef(0x206)](_0x4fb7ef(0x272))[0x1][_0x4fb7ef(0x206)]('\x20')[0x0];_0x1ddc18[_0x4fb7ef(0x275)](_0x4fb7ef(0x2b1)+_0x1ddc18['match'][0x1]+_0x4fb7ef(0x26f)+_0x1464d5+'</b>');}})[_0x425b0b(0x26e)](_0x3126bc=>{const _0x3b9460=_0x425b0b;_0x1ddc18[_0x3b9460(0x275)]('No\x20se\x20pudo\x20comprobar\x20el\x20estado\x20del\x20servidor\x20<b>'+_0x1ddc18[_0x3b9460(0x261)][0x1]+_0x3b9460(0x21e)+_0x3126bc['message']);});});})[_0x488c51(0x26e)](_0x2c780e=>{const _0x30e327=_0x488c51;_0x1ddc18[_0x30e327(0x275)](_0x30e327(0x283)+_0x1ddc18[_0x30e327(0x261)][0x1]+_0x30e327(0x21e)+_0x2c780e['message']);});}else _0x1ddc18[_0x488c51(0x275)](_0x488c51(0x290)+_0x1ddc18['match'][0x1]+_0x488c51(0x205));}))['catch'](_0x2136f9=>{const _0x1c26c9=_0x59b9d9;_0x1ddc18['replyWithHTML']('No\x20se\x20pudo\x20obtener\x20los\x20datos\x20del\x20servidor\x20<b>'+_0x1ddc18[_0x1c26c9(0x261)][0x1]+'</b>\x20la\x20respuesta\x20fue:\x20\x0a'+_0x2136f9[_0x1c26c9(0x1f6)]);});})),bot[_0x51c24f(0x235)](/activateServer (.+)/,_0x5d481=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x537b4a=_0x51c24f;yield _0x5d481[_0x537b4a(0x246)]('typing'),yield Server_1[_0x537b4a(0x1ff)][_0x537b4a(0x24c)]({'host':_0x5d481['match'][0x1]})[_0x537b4a(0x2c3)](_0x549698=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3fe657=_0x537b4a;_0x549698?_0x549698[_0x3fe657(0x276)]?_0x5d481[_0x3fe657(0x275)](_0x3fe657(0x21b)+_0x5d481[_0x3fe657(0x261)][0x1]+'</b>\x20ya\x20se\x20encuentra\x20activado'):(yield Server_1[_0x3fe657(0x1ff)][_0x3fe657(0x24c)]({'active':!![]})['then'](_0x2bb872=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x225ce1=_0x3fe657;_0x2bb872&&(yield Server_1[_0x225ce1(0x1ff)][_0x225ce1(0x265)](_0x2bb872['id'],{'active':![]},{'new':!![]}));})),yield Server_1[_0x3fe657(0x1ff)]['findByIdAndUpdate'](_0x549698[_0x3fe657(0x23a)],{'active':!![]},{'new':!![]})[_0x3fe657(0x2c3)](_0x151a8b=>{const _0x4e3656=_0x3fe657;_0x5d481[_0x4e3656(0x275)](_0x4e3656(0x2aa)+_0x5d481[_0x4e3656(0x261)][0x1]+_0x4e3656(0x216));})):_0x5d481['replyWithHTML'](_0x3fe657(0x290)+_0x5d481[_0x3fe657(0x261)][0x1]+'</b>');}))[_0x537b4a(0x26e)](_0xbeaaa0=>{const _0x2b506a=_0x537b4a;_0x5d481['replyWithHTML'](_0x2b506a(0x2b0)+_0x5d481['match'][0x1]+_0x2b506a(0x21e)+_0xbeaaa0[_0x2b506a(0x1f6)]);});})),bot[_0x51c24f(0x235)](/usersOnline (.+)/,_0x7e1037=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x35a4e6=_0x51c24f;yield _0x7e1037['replyWithChatAction'](_0x35a4e6(0x211)),yield Server_1['Server'][_0x35a4e6(0x24c)]({'host':_0x7e1037['match'][0x1]})[_0x35a4e6(0x2c3)](_0x5bf308=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1a3cc6=_0x35a4e6;if(_0x5bf308){let _0x2ac148=[];const _0x4c15a5=yield execCommand(_0x1a3cc6(0x1f9)+_0x5bf308[_0x1a3cc6(0x1fc)]+_0x1a3cc6(0x256)+_0x5bf308[_0x1a3cc6(0x225)]+'\x20mgr:active_requests@'+_0x5bf308[_0x1a3cc6(0x243)]),_0x2be316=yield execCommand(_0x1a3cc6(0x1f9)+_0x5bf308[_0x1a3cc6(0x1fc)]+'\x20-p\x20'+_0x5bf308[_0x1a3cc6(0x225)]+_0x1a3cc6(0x22f)+_0x5bf308[_0x1a3cc6(0x243)]),_0x5462d2=cache[_0x1a3cc6(0x223)](_0x4c15a5,_0x2be316);_0x5462d2[_0x1a3cc6(0x299)]((_0x4d2148,_0x1359e4)=>{const _0xd75f2=_0x1a3cc6;let _0xeca560=_0x4d2148[_0xd75f2(0x23e)]=='-'?_0x4d2148[_0xd75f2(0x232)]:_0x4d2148[_0xd75f2(0x23e)];_0x2ac148[_0xd75f2(0x29c)](_0xeca560)==-0x1&&_0x2ac148[_0xd75f2(0x21f)](_0xeca560);});if(_0x2ac148[_0x1a3cc6(0x28d)]==0x0)_0x7e1037[_0x1a3cc6(0x203)](_0x1a3cc6(0x20f));else yield _0x7e1037[_0x1a3cc6(0x203)]('LISTA\x20DE\x20CONECTADOS'),_0x2ac148[_0x1a3cc6(0x2ae)]((_0x14bbef,_0x48d828)=>{const _0xff88f8=_0x1a3cc6;_0x7e1037['replyWithHTML'](_0xff88f8(0x24d)+Useful_1[_0xff88f8(0x294)][_0xff88f8(0x1f7)](_0x14bbef)+_0xff88f8(0x205),Object[_0xff88f8(0x2c4)]({},telegraf_1[_0xff88f8(0x270)]['inlineKeyboard']([[telegraf_1[_0xff88f8(0x270)]['button'][_0xff88f8(0x226)]('Bloquear','lockSource\x20'+_0x14bbef+'\x20'+_0x7e1037[_0xff88f8(0x261)][0x1]),telegraf_1[_0xff88f8(0x270)][_0xff88f8(0x28e)][_0xff88f8(0x226)]('Info\x20LDAP',_0xff88f8(0x253)+_0x14bbef+'\x20'+_0x7e1037[_0xff88f8(0x261)][0x1])]])));});}else _0x7e1037[_0x1a3cc6(0x275)](_0x1a3cc6(0x290)+_0x7e1037[_0x1a3cc6(0x261)][0x1]+_0x1a3cc6(0x205));}))[_0x35a4e6(0x26e)](_0x1b18c0=>{const _0x1e3ab9=_0x35a4e6;_0x7e1037[_0x1e3ab9(0x275)](_0x1e3ab9(0x28c)+_0x1b18c0['message']);});})),bot[_0x51c24f(0x235)](/resume (.+)/,_0x274411=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x528163=_0x51c24f;yield _0x274411[_0x528163(0x246)](_0x528163(0x211)),yield Server_1['Server'][_0x528163(0x24c)]({'host':_0x274411[_0x528163(0x261)][0x1]})[_0x528163(0x2c3)](_0x3a97e4=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x453655=_0x528163;if(_0x3a97e4){const _0x47abb1=yield execCommand(_0x453655(0x1f9)+_0x3a97e4[_0x453655(0x1fc)]+_0x453655(0x256)+_0x3a97e4[_0x453655(0x225)]+_0x453655(0x1f2)+_0x3a97e4[_0x453655(0x243)]),_0x52fd8e=yield execCommand(_0x453655(0x1f9)+_0x3a97e4[_0x453655(0x1fc)]+'\x20-p\x20'+_0x3a97e4[_0x453655(0x225)]+_0x453655(0x22f)+_0x3a97e4[_0x453655(0x243)]),_0x232263=cache[_0x453655(0x223)](_0x47abb1,_0x52fd8e);let _0x5d940c='',_0x5a86b5=[],_0x598a57=0x0,_0x320ff0=0x0;_0x232263[_0x453655(0x299)]((_0x40d5fb,_0x4b9793)=>{const _0x2ef639=_0x453655;let _0x3f7bcd=_0x40d5fb[_0x2ef639(0x23e)]=='-'?_0x40d5fb[_0x2ef639(0x232)]:_0x40d5fb[_0x2ef639(0x23e)];_0x5a86b5[_0x2ef639(0x29c)](_0x3f7bcd)==-0x1&&_0x5a86b5[_0x2ef639(0x21f)](_0x3f7bcd),_0x598a57+=_0x40d5fb[_0x2ef639(0x296)],_0x320ff0+=_0x40d5fb[_0x2ef639(0x27d)];}),_0x5d940c+='Usuarios\x20conectados:\x20<b>'+_0x5a86b5['length']+_0x453655(0x273),_0x5d940c+=_0x453655(0x204)+_0x232263[_0x453655(0x28d)]+_0x453655(0x273),_0x5d940c+='Tamaño\x20total:\x20<b>'+Useful_1[_0x453655(0x294)]['getSize'](_0x598a57)+_0x453655(0x273),_0x5d940c+=_0x453655(0x1ee)+Useful_1[_0x453655(0x294)][_0x453655(0x24e)](_0x320ff0)+_0x453655(0x24a),yield _0x274411[_0x453655(0x275)]('RESUMEN'),_0x274411[_0x453655(0x275)](_0x5d940c);}else _0x274411['replyWithHTML'](_0x453655(0x290)+_0x274411[_0x453655(0x261)][0x1]+'</b>');}))['catch'](_0x1b9d07=>{const _0x20884e=_0x528163;_0x274411['replyWithHTML'](_0x20884e(0x25c)+_0x1b9d07['message']);});})),bot[_0x51c24f(0x235)](/checkSSHConnection (.+)/,_0x2103f3=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x409a4f=_0x51c24f;yield _0x2103f3[_0x409a4f(0x246)](_0x409a4f(0x211)),yield Server_1[_0x409a4f(0x1ff)][_0x409a4f(0x24c)]({'host':_0x2103f3['match'][0x1]})['then'](_0x1f23bc=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xc6725f=_0x409a4f;if(_0x1f23bc){const _0x30a03b=new NodeSSH();yield _0x30a03b[_0xc6725f(0x2c5)]({'host':_0x1f23bc[_0xc6725f(0x1fc)],'port':_0x1f23bc[_0xc6725f(0x2a6)],'username':_0x1f23bc[_0xc6725f(0x213)],'password':_0x1f23bc[_0xc6725f(0x2ca)]})[_0xc6725f(0x2c3)](function(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x33756f=a50_0x2e36;_0x2103f3[_0x33756f(0x275)]('Conexión\x20ssh\x20realizada\x20con\x20éxito\x20en\x20<b>'+_0x2103f3[_0x33756f(0x261)][0x1]+'</b>');});})[_0xc6725f(0x26e)](_0x457524=>{const _0x5b4931=_0xc6725f;_0x2103f3[_0x5b4931(0x275)](_0x5b4931(0x283)+_0x2103f3[_0x5b4931(0x261)][0x1]+_0x5b4931(0x21e)+_0x457524[_0x5b4931(0x1f6)]);});}else _0x2103f3[_0xc6725f(0x275)](_0xc6725f(0x290)+_0x2103f3[_0xc6725f(0x261)][0x1]+_0xc6725f(0x205));}))['catch'](_0xe24345=>{const _0x4b9445=_0x409a4f;_0x2103f3[_0x4b9445(0x275)](_0x4b9445(0x22a)+_0x2103f3[_0x4b9445(0x261)][0x1]+'</b>\x20la\x20respuesta\x20fue:\x20\x0a'+_0xe24345[_0x4b9445(0x1f6)]);});})),bot[_0x51c24f(0x235)](/urimorevisited (.+)/,_0x1c38a0=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2f5de7=_0x51c24f;yield _0x1c38a0[_0x2f5de7(0x246)](_0x2f5de7(0x211)),yield Server_1[_0x2f5de7(0x1ff)][_0x2f5de7(0x24c)]({'host':_0x1c38a0['match'][0x1]})['then'](_0x13f4fb=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x39cb0f=_0x2f5de7,_0x9005cd=yield execCommand('squidclient\x20-h\x20'+_0x13f4fb[_0x39cb0f(0x1fc)]+_0x39cb0f(0x256)+_0x13f4fb['port']+_0x39cb0f(0x1f2)+_0x13f4fb[_0x39cb0f(0x243)]),_0x221236=yield execCommand('squidclient\x20-h\x20'+_0x13f4fb[_0x39cb0f(0x1fc)]+_0x39cb0f(0x256)+_0x13f4fb[_0x39cb0f(0x225)]+_0x39cb0f(0x22f)+_0x13f4fb['cachepass']),_0x409b7b=cache[_0x39cb0f(0x223)](_0x9005cd,_0x221236);let _0xee4a5d=[],_0x533137=[];_0x409b7b[_0x39cb0f(0x2ae)]((_0x225a8d,_0x571d1a)=>{const _0x44005c=_0x39cb0f;let _0x483d8c=_0x225a8d[_0x44005c(0x23e)]=='-'?_0x225a8d[_0x44005c(0x232)]:_0x225a8d['username'],_0x2c6133=Useful_1[_0x44005c(0x294)][_0x44005c(0x2be)](_0x225a8d[_0x44005c(0x233)]);_0x533137[_0x44005c(0x29c)](_0x2c6133)==-0x1?(_0x533137[_0x44005c(0x21f)](_0x2c6133),_0xee4a5d[_0x44005c(0x21f)]({'uri':_0x2c6133,'sources':[_0x483d8c]})):_0xee4a5d[_0x533137[_0x44005c(0x29c)](_0x2c6133)][_0x44005c(0x21a)][_0x44005c(0x29c)](_0x483d8c)==-0x1&&_0xee4a5d[_0x533137['indexOf'](_0x2c6133)]['sources'][_0x44005c(0x21f)](_0x483d8c);}),yield _0xee4a5d['sort']((_0x3247dc,_0x41eb49)=>_0x41eb49[_0x39cb0f(0x21a)][_0x39cb0f(0x28d)]-_0x3247dc['sources'][_0x39cb0f(0x28d)]);let _0x223183=_0xee4a5d[_0x39cb0f(0x26d)](0x0,0x5);_0x223183[_0x39cb0f(0x28d)]>0x0?(yield _0x1c38a0[_0x39cb0f(0x275)]('URI\x20MAS\x20VISITADAS'),_0x223183[_0x39cb0f(0x2ae)]((_0x3a7d5c,_0x4015af)=>{const _0x331e46=_0x39cb0f;let _0x566523=_0x331e46(0x24d)+_0x3a7d5c['uri']+_0x331e46(0x259)+_0x3a7d5c[_0x331e46(0x21a)][_0x331e46(0x28d)];_0x3a7d5c[_0x331e46(0x21a)]['map']((_0x58d35f,_0x424729)=>{const _0x1df188=_0x331e46;_0x566523+='\x0a\x20\x20'+Useful_1[_0x1df188(0x294)][_0x1df188(0x1f7)](_0x58d35f);}),_0x1c38a0[_0x331e46(0x275)](_0x566523);})):_0x1c38a0[_0x39cb0f(0x203)](_0x39cb0f(0x2b3));}))[_0x2f5de7(0x26e)](_0x3bbcc3=>{const _0x591b42=_0x2f5de7;_0x1c38a0[_0x591b42(0x275)](_0x591b42(0x22a)+_0x1c38a0['match'][0x1]+_0x591b42(0x21e)+_0x3bbcc3[_0x591b42(0x1f6)]);});})),bot[_0x51c24f(0x235)](/urimoreconnections (.+)/,_0x1d2472=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x15c732=_0x51c24f;yield _0x1d2472['replyWithChatAction']('typing'),yield Server_1[_0x15c732(0x1ff)][_0x15c732(0x24c)]({'host':_0x1d2472[_0x15c732(0x261)][0x1]})['then'](_0x1ddf9b=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1549f0=_0x15c732,_0x2be469=yield execCommand(_0x1549f0(0x1f9)+_0x1ddf9b['host']+'\x20-p\x20'+_0x1ddf9b[_0x1549f0(0x225)]+_0x1549f0(0x1f2)+_0x1ddf9b['cachepass']),_0x12f9e3=yield execCommand(_0x1549f0(0x1f9)+_0x1ddf9b['host']+'\x20-p\x20'+_0x1ddf9b[_0x1549f0(0x225)]+_0x1549f0(0x22f)+_0x1ddf9b[_0x1549f0(0x243)]),_0x278382=cache['extractConnections'](_0x2be469,_0x12f9e3);let _0x34dff5=[],_0x4c5f85=[];_0x278382['map']((_0x124126,_0x574298)=>{const _0x22b550=_0x1549f0;let _0x4a5e85=_0x124126['username']=='-'?_0x124126[_0x22b550(0x232)]:_0x124126[_0x22b550(0x23e)],_0x5b61f4=Useful_1[_0x22b550(0x294)][_0x22b550(0x2be)](_0x124126[_0x22b550(0x233)]);_0x4c5f85[_0x22b550(0x29c)](_0x5b61f4)==-0x1?(_0x4c5f85[_0x22b550(0x21f)](_0x5b61f4),_0x34dff5[_0x22b550(0x21f)]({'uri':_0x5b61f4,'sources':[_0x4a5e85],'count':0x1})):(_0x34dff5[_0x4c5f85[_0x22b550(0x29c)](_0x5b61f4)][_0x22b550(0x28f)]++,_0x34dff5[_0x4c5f85[_0x22b550(0x29c)](_0x5b61f4)][_0x22b550(0x21a)]['indexOf'](_0x4a5e85)==-0x1&&_0x34dff5[_0x4c5f85[_0x22b550(0x29c)](_0x5b61f4)][_0x22b550(0x21a)][_0x22b550(0x21f)](_0x4a5e85));}),_0x34dff5[_0x1549f0(0x22c)]((_0x20d117,_0x5331fa)=>_0x5331fa[_0x1549f0(0x28f)]-_0x20d117[_0x1549f0(0x28f)]);let _0x28cf5d=_0x34dff5[_0x1549f0(0x26d)](0x0,0x5);_0x28cf5d['length']>0x0?(yield _0x1d2472['replyWithHTML'](_0x1549f0(0x285)),_0x28cf5d[_0x1549f0(0x2ae)]((_0x5d7ac6,_0x371a37)=>{const _0x2e71b0=_0x1549f0;let _0x2c0603=_0x2e71b0(0x24d)+_0x5d7ac6[_0x2e71b0(0x233)]+'</b>\x20'+_0x5d7ac6[_0x2e71b0(0x28f)];_0x5d7ac6[_0x2e71b0(0x21a)][_0x2e71b0(0x2ae)]((_0x5dfdf3,_0x5471ba)=>{const _0x545437=_0x2e71b0;_0x2c0603+=_0x545437(0x2a9)+Useful_1[_0x545437(0x294)]['parseSource'](_0x5dfdf3);}),_0x1d2472[_0x2e71b0(0x275)](_0x2c0603);})):_0x1d2472[_0x1549f0(0x203)]('En\x20estos\x20momentos\x20no\x20existe\x20ninguna\x20URI');}))['catch'](_0xba9587=>{const _0x569d1=_0x15c732;_0x1d2472[_0x569d1(0x275)](_0x569d1(0x22a)+_0x1d2472[_0x569d1(0x261)][0x1]+_0x569d1(0x21e)+_0xba9587[_0x569d1(0x1f6)]);});})),bot[_0x51c24f(0x235)](/usermultipleip (.+)/,_0xb44a59=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xdda9fb=_0x51c24f;yield _0xb44a59[_0xdda9fb(0x246)](_0xdda9fb(0x211)),yield Server_1['Server'][_0xdda9fb(0x24c)]({'host':_0xb44a59[_0xdda9fb(0x261)][0x1]})[_0xdda9fb(0x2c3)](_0x25dc37=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5c5158=_0xdda9fb,_0x3e89a8=yield execCommand('squidclient\x20-h\x20'+_0x25dc37[_0x5c5158(0x1fc)]+_0x5c5158(0x256)+_0x25dc37[_0x5c5158(0x225)]+_0x5c5158(0x1f2)+_0x25dc37[_0x5c5158(0x243)]),_0x374ef1=yield execCommand(_0x5c5158(0x1f9)+_0x25dc37['host']+_0x5c5158(0x256)+_0x25dc37[_0x5c5158(0x225)]+_0x5c5158(0x22f)+_0x25dc37['cachepass']),_0x2a1591=cache['extractConnections'](_0x3e89a8,_0x374ef1);let _0x4d8140=[],_0x33fdc4=[];_0x2a1591['map']((_0x42e0e1,_0x500b84)=>{const _0xcf3e40=_0x5c5158;let _0x1bf14f=_0x42e0e1[_0xcf3e40(0x23e)]=='-'?_0x42e0e1['remote']:_0x42e0e1[_0xcf3e40(0x23e)];!validator[_0xcf3e40(0x239)](_0x1bf14f)&&(_0x33fdc4[_0xcf3e40(0x29c)](_0x1bf14f)==-0x1?(_0x33fdc4['push'](_0x1bf14f),_0x4d8140[_0xcf3e40(0x21f)]({'identifier':_0x1bf14f,'ips':[_0x42e0e1[_0xcf3e40(0x232)]]})):_0x4d8140[_0x33fdc4['indexOf'](_0x1bf14f)][_0xcf3e40(0x2a0)][_0xcf3e40(0x29c)](_0x42e0e1['remote'])==-0x1&&_0x4d8140[_0x33fdc4[_0xcf3e40(0x29c)](_0x1bf14f)][_0xcf3e40(0x2a0)]['push'](_0x42e0e1[_0xcf3e40(0x232)]));}),_0x4d8140=_0x4d8140[_0x5c5158(0x287)](function(_0x20860d){const _0x579869=_0x5c5158;return _0x20860d['ips'][_0x579869(0x28d)]>0x1;}),_0x4d8140[_0x5c5158(0x22c)]((_0x3196e4,_0x593ac0)=>_0x593ac0[_0x5c5158(0x2a0)][_0x5c5158(0x28d)]-_0x3196e4[_0x5c5158(0x2a0)][_0x5c5158(0x28d)]),_0x4d8140[_0x5c5158(0x28d)]>0x0?(yield _0xb44a59[_0x5c5158(0x275)](_0x5c5158(0x25e)),_0x4d8140[_0x5c5158(0x2ae)]((_0x67e864,_0x179c23)=>{const _0x1dd4d6=_0x5c5158;let _0x130bf8=_0x1dd4d6(0x24d)+Useful_1['default']['parseSource'](_0x67e864['identifier'])+_0x1dd4d6(0x259)+_0x67e864[_0x1dd4d6(0x2a0)][_0x1dd4d6(0x28d)];_0x67e864[_0x1dd4d6(0x2a0)]['map']((_0x38ced1,_0x3615ae)=>{const _0x248a61=_0x1dd4d6;_0x130bf8+=_0x248a61(0x2a9)+_0x38ced1;}),_0xb44a59['replyWithHTML'](_0x130bf8);})):_0xb44a59[_0x5c5158(0x203)](_0x5c5158(0x1e9));}))[_0xdda9fb(0x26e)](_0x564be7=>{const _0x375d3c=_0xdda9fb;_0xb44a59[_0x375d3c(0x275)](_0x375d3c(0x22a)+_0xb44a59[_0x375d3c(0x261)][0x1]+_0x375d3c(0x21e)+_0x564be7[_0x375d3c(0x1f6)]);});})),bot[_0x51c24f(0x235)](/connectionswithoutuser (.+)/,_0x30a11c=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4d9d9e=_0x51c24f;yield _0x30a11c[_0x4d9d9e(0x246)]('typing'),yield Server_1[_0x4d9d9e(0x1ff)][_0x4d9d9e(0x24c)]({'host':_0x30a11c[_0x4d9d9e(0x261)][0x1]})[_0x4d9d9e(0x2c3)](_0x51ab12=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2e996c=_0x4d9d9e,_0x8a2c70=yield execCommand(_0x2e996c(0x1f9)+_0x51ab12[_0x2e996c(0x1fc)]+_0x2e996c(0x256)+_0x51ab12[_0x2e996c(0x225)]+_0x2e996c(0x1f2)+_0x51ab12[_0x2e996c(0x243)]),_0x21645c=yield execCommand(_0x2e996c(0x1f9)+_0x51ab12['host']+_0x2e996c(0x256)+_0x51ab12[_0x2e996c(0x225)]+_0x2e996c(0x22f)+_0x51ab12[_0x2e996c(0x243)]),_0x284e5a=cache[_0x2e996c(0x223)](_0x8a2c70,_0x21645c);let _0x4910c2=[],_0x2d72a0=[];_0x284e5a[_0x2e996c(0x2ae)]((_0x262ba6,_0x80dfa6)=>{const _0x46fd33=_0x2e996c;let _0x5c55a0=_0x262ba6['username']=='-'?_0x262ba6[_0x46fd33(0x232)]:_0x262ba6['username'];validator['isIP'](_0x5c55a0)&&(_0x2d72a0[_0x46fd33(0x29c)](_0x5c55a0)==-0x1?(_0x2d72a0[_0x46fd33(0x21f)](_0x5c55a0),_0x4910c2[_0x46fd33(0x21f)]({'identifier':_0x5c55a0,'connections':0x1,'activeconnections':_0x262ba6[_0x46fd33(0x276)]?0x1:0x0})):(_0x4910c2[_0x2d72a0[_0x46fd33(0x29c)](_0x5c55a0)]['connections']++,_0x262ba6[_0x46fd33(0x276)]&&_0x4910c2[_0x2d72a0[_0x46fd33(0x29c)](_0x5c55a0)][_0x46fd33(0x27e)]++));}),_0x4910c2['length']>0x0?(yield _0x30a11c[_0x2e996c(0x275)](_0x2e996c(0x282)),_0x4910c2[_0x2e996c(0x2ae)]((_0x27b05c,_0x12accb)=>{const _0x3acf85=_0x2e996c;let _0x5ba54e=_0x3acf85(0x24d)+Useful_1[_0x3acf85(0x294)][_0x3acf85(0x1f7)](_0x27b05c[_0x3acf85(0x2cf)])+_0x3acf85(0x259)+_0x27b05c['connections'];_0x5ba54e+=_0x3acf85(0x2a9)+(_0x27b05c[_0x3acf85(0x27e)]==0x0?_0x3acf85(0x26b):_0x27b05c[_0x3acf85(0x27e)]==0x1?_0x27b05c[_0x3acf85(0x27e)]+'\x20conexión\x20activa':_0x27b05c[_0x3acf85(0x27e)]+'\x20conexiones\x20activas'),_0x30a11c[_0x3acf85(0x275)](_0x5ba54e);})):_0x30a11c[_0x2e996c(0x203)](_0x2e996c(0x278));}))[_0x4d9d9e(0x26e)](_0x34518a=>{const _0x26296e=_0x4d9d9e;_0x30a11c[_0x26296e(0x275)](_0x26296e(0x22a)+_0x30a11c[_0x26296e(0x261)][0x1]+_0x26296e(0x21e)+_0x34518a[_0x26296e(0x1f6)]);});})),bot[_0x51c24f(0x235)](/restartServer (.+)/,_0x217798=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x39cb86=_0x51c24f;yield _0x217798[_0x39cb86(0x246)](_0x39cb86(0x211)),yield Server_1[_0x39cb86(0x1ff)][_0x39cb86(0x24c)]({'host':_0x217798[_0x39cb86(0x261)][0x1]})[_0x39cb86(0x2c3)](_0x38fca5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x50d51d=_0x39cb86;_0x38fca5?(_0x217798[_0x50d51d(0x275)]('El\x20servidor\x20<b>'+_0x217798[_0x50d51d(0x261)][0x1]+'</b>\x20se\x20está\x20reiniciando.\x20Se\x20le\x20enviará\x20un\x20mensaje\x20cuando\x20este\x20proceso\x20culmine.'),yield axiosinstance[_0x50d51d(0x257)](_0x50d51d(0x2a1)+_0x38fca5[_0x50d51d(0x23a)])[_0x50d51d(0x2c3)](_0x111ad5=>{const _0x91c781=_0x50d51d;if(_0x111ad5['data'][_0x91c781(0x2c7)])_0x217798[_0x91c781(0x275)](_0x91c781(0x255)+_0x217798[_0x91c781(0x261)][0x1]+_0x91c781(0x21e)+_0x111ad5[_0x91c781(0x200)][_0x91c781(0x2c7)][0x0][_0x91c781(0x26a)]);else _0x217798['replyWithHTML'](_0x91c781(0x2b1)+_0x217798['match'][0x1]+_0x91c781(0x1f3));})['catch'](_0x5e805b=>{const _0x25d830=_0x50d51d;_0x217798['replyWithHTML']('No\x20se\x20pudo\x20reiniciar\x20el\x20servidor\x20<b>'+_0x217798[_0x25d830(0x261)][0x1]+_0x25d830(0x21e)+_0x5e805b[_0x25d830(0x1f6)]);})):_0x217798[_0x50d51d(0x275)]('No\x20existe\x20ningún\x20servidor\x20con\x20la\x20ip\x20<b>'+_0x217798[_0x50d51d(0x261)][0x1]+_0x50d51d(0x205));}))[_0x39cb86(0x26e)](_0x22a082=>{const _0x45ecaf=_0x39cb86;_0x217798['replyWithHTML'](_0x45ecaf(0x22a)+_0x217798[_0x45ecaf(0x261)][0x1]+_0x45ecaf(0x21e)+_0x22a082[_0x45ecaf(0x1f6)]);});})),bot[_0x51c24f(0x235)](/lockedSources (.+)/,_0x584377=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x6e18ce=_0x51c24f;yield _0x584377[_0x6e18ce(0x246)](_0x6e18ce(0x211)),yield Server_1[_0x6e18ce(0x1ff)][_0x6e18ce(0x24c)]({'host':_0x584377['match'][0x1]})['then'](_0x2c68b7=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x30679d=_0x6e18ce;_0x2c68b7?yield axiosinstance[_0x30679d(0x257)](_0x30679d(0x269)+_0x2c68b7['_id'])[_0x30679d(0x2c3)](_0x2c2d82=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5dd00a=_0x30679d;if(_0x2c2d82[_0x5dd00a(0x200)][_0x5dd00a(0x2c7)])_0x584377[_0x5dd00a(0x275)](_0x5dd00a(0x2cc)+_0x584377[_0x5dd00a(0x261)][0x1]+_0x5dd00a(0x21e)+_0x2c2d82['data']['errors'][0x0]['msg']);else{if(_0x2c2d82[_0x5dd00a(0x200)][_0x5dd00a(0x28d)]>0x0)yield _0x584377[_0x5dd00a(0x203)](_0x5dd00a(0x2c2)),_0x2c2d82[_0x5dd00a(0x200)][_0x5dd00a(0x2ae)]((_0x22ea75,_0x2e7704)=>{const _0x5c83da=_0x5dd00a,_0x5cb8e5=new tinycron(new Date(_0x2c2d82['data'][0x0]['lock_date']),'es');_0x584377[_0x5c83da(0x275)](_0x5c83da(0x24d)+Useful_1[_0x5c83da(0x294)][_0x5c83da(0x1f7)](_0x22ea75['identifier'])+_0x5c83da(0x205)+'\x0a'+_0x5c83da(0x27f)+_0x5cb8e5['toNow']()+'\x0a'+'bloqueado\x20desde:\x20'+(_0x22ea75[_0x5c83da(0x2c0)]==_0x5c83da(0x217)?_0x5c83da(0x27c):_0x22ea75['lock_from']),Object['assign']({},telegraf_1[_0x5c83da(0x270)][_0x5c83da(0x2c6)]([[telegraf_1[_0x5c83da(0x270)][_0x5c83da(0x28e)]['callback'](_0x5c83da(0x215),_0x5c83da(0x29e)+_0x22ea75[_0x5c83da(0x2cf)]+'\x20'+_0x584377[_0x5c83da(0x261)][0x1])]])));});else _0x584377['reply'](_0x5dd00a(0x258));}}))['catch'](_0x434d9a=>{const _0x5a7214=_0x30679d;_0x584377[_0x5a7214(0x275)](_0x5a7214(0x2cc)+_0x584377[_0x5a7214(0x261)][0x1]+_0x5a7214(0x21e)+_0x434d9a[_0x5a7214(0x1f6)]);}):_0x584377[_0x30679d(0x275)](_0x30679d(0x290)+_0x584377[_0x30679d(0x261)][0x1]+_0x30679d(0x205));}))[_0x6e18ce(0x26e)](_0x2e61d6=>{const _0x5d37af=_0x6e18ce;_0x584377[_0x5d37af(0x275)](_0x5d37af(0x22a)+_0x584377[_0x5d37af(0x261)][0x1]+_0x5d37af(0x21e)+_0x2e61d6[_0x5d37af(0x1f6)]);});})),bot[_0x51c24f(0x235)](/unlockSource (.+)/,_0x39c7cb=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x13bd32=_0x51c24f,_0x39848f=_0x39c7cb[_0x13bd32(0x261)][0x1]['split']('\x20');yield _0x39c7cb[_0x13bd32(0x246)](_0x13bd32(0x211)),yield Source_1[_0x13bd32(0x260)]['find']({'identifier':_0x39848f[0x0]})[_0x13bd32(0x227)](_0x13bd32(0x247))[_0x13bd32(0x2c3)](_0x2397b3=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){_0x2397b3['length']>0x0&&_0x2397b3['map']((_0x3f68f1,_0x5b7b19)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x112bf7=a50_0x2e36;_0x3f68f1[_0x112bf7(0x247)][_0x112bf7(0x1fc)]==_0x39848f[0x1]&&(yield axiosinstance[_0x112bf7(0x257)](_0x112bf7(0x2b4),{'source':_0x39848f[0x0],'host':_0x39848f[0x1]})['then'](_0x3b26f9=>{const _0x5b052a=_0x112bf7;if(_0x3b26f9[_0x5b052a(0x200)][_0x5b052a(0x2c7)])_0x39c7cb[_0x5b052a(0x275)](_0x5b052a(0x236)+Useful_1[_0x5b052a(0x294)][_0x5b052a(0x1f7)](_0x39848f[0x0])+_0x5b052a(0x21e)+_0x3b26f9['data'][_0x5b052a(0x2c7)][0x0]['msg']);else _0x39c7cb[_0x5b052a(0x275)]('<b>'+Useful_1[_0x5b052a(0x294)][_0x5b052a(0x1f7)](_0x39848f[0x0])+'</b>\x20ha\x20sido\x20desbloqueado\x20correctamente');})['catch'](_0x45306e=>{const _0x381a76=_0x112bf7;_0x39c7cb[_0x381a76(0x275)](_0x381a76(0x236)+Useful_1['default'][_0x381a76(0x1f7)](_0x39848f[0x0])+'</b>\x20la\x20respuesta\x20fue:\x20\x0a'+_0x45306e['message']);}));}));}))[_0x13bd32(0x26e)](_0x3bb0a7=>{const _0x4bf5ec=_0x13bd32;_0x39c7cb[_0x4bf5ec(0x275)](_0x4bf5ec(0x210)+Useful_1[_0x4bf5ec(0x294)]['parseSource'](_0x39848f[0x0])+_0x4bf5ec(0x21e)+_0x3bb0a7[_0x4bf5ec(0x1f6)]);});})),bot[_0x51c24f(0x235)](/lockSource (.+)/,_0x53de06=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xede2ca=_0x51c24f,_0x51ccbf=_0x53de06[_0xede2ca(0x261)][0x1][_0xede2ca(0x206)]('\x20');yield _0x53de06['replyWithChatAction']('typing'),yield Source_1[_0xede2ca(0x260)]['find']({'identifier':_0x51ccbf[0x0]})['populate']('server')[_0xede2ca(0x2c3)](_0x2b93a5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3cdb49=_0xede2ca;_0x2b93a5[_0x3cdb49(0x28d)]>0x0&&_0x2b93a5[_0x3cdb49(0x2ae)]((_0x2730b3,_0x309aa7)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x243052=_0x3cdb49;_0x2730b3[_0x243052(0x247)][_0x243052(0x1fc)]==_0x51ccbf[0x1]&&(yield axiosinstance[_0x243052(0x257)]('/source/sourcelock',{'source':_0x51ccbf[0x0],'host':_0x51ccbf[0x1]})[_0x243052(0x2c3)](_0x5ca373=>{const _0x59843b=_0x243052;if(_0x5ca373[_0x59843b(0x200)]['errors'])_0x53de06[_0x59843b(0x275)]('No\x20se\x20pudo\x20bloquear\x20<b>'+Useful_1[_0x59843b(0x294)][_0x59843b(0x1f7)](_0x51ccbf[0x0])+_0x59843b(0x21e)+_0x5ca373[_0x59843b(0x200)][_0x59843b(0x2c7)][0x0][_0x59843b(0x26a)]);else _0x53de06['replyWithHTML']('<b>'+Useful_1[_0x59843b(0x294)]['parseSource'](_0x51ccbf[0x0])+_0x59843b(0x2c1));})[_0x243052(0x26e)](_0x57aaf8=>{const _0x11421a=_0x243052;_0x53de06[_0x11421a(0x275)](_0x11421a(0x29d)+Useful_1[_0x11421a(0x294)][_0x11421a(0x1f7)](_0x51ccbf[0x0])+'</b>\x20la\x20respuesta\x20fue:\x20\x0a'+_0x57aaf8[_0x11421a(0x1f6)]);}));}));}))['catch'](_0x47628a=>{const _0x1b81d2=_0xede2ca;_0x53de06[_0x1b81d2(0x275)](_0x1b81d2(0x210)+Useful_1[_0x1b81d2(0x294)][_0x1b81d2(0x1f7)](_0x51ccbf[0x0])+'</b>\x20la\x20respuesta\x20fue:\x20\x0a'+_0x47628a[_0x1b81d2(0x1f6)]);});})),bot['action'](/infoLDAP (.+)/,_0x378382=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x169bd4=_0x51c24f,_0x2cf06a=_0x378382['match'][0x1][_0x169bd4(0x206)]('\x20');yield _0x378382['replyWithChatAction']('typing'),yield Source_1[_0x169bd4(0x260)][_0x169bd4(0x202)]({'identifier':_0x2cf06a[0x0]})['populate'](_0x169bd4(0x247))[_0x169bd4(0x2c3)](_0x2f525a=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x35a2d5=_0x169bd4;_0x2f525a['length']>0x0?_0x2f525a[_0x35a2d5(0x2ae)]((_0x4130cb,_0x1f136a)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2cfa82=_0x35a2d5;_0x4130cb[_0x2cfa82(0x247)][_0x2cfa82(0x1fc)]==_0x2cf06a[0x1]&&(yield axiosinstance[_0x2cfa82(0x257)]('/serverldap/getsourceinfo',{'source':Useful_1[_0x2cfa82(0x294)]['parseSource'](_0x2cf06a[0x0]),'host':_0x2cf06a[0x1]})[_0x2cfa82(0x2c3)](_0xa4e70e=>{const _0x21b12f=_0x2cfa82;if(_0xa4e70e[_0x21b12f(0x200)][_0x21b12f(0x2c7)])_0x378382[_0x21b12f(0x275)]('No\x20se\x20pudo\x20obtener\x20la\x20información\x20LDAP\x20de\x20<b>'+Useful_1['default']['parseSource'](_0x2cf06a[0x0])+'</b>\x20la\x20respuesta\x20fue:\x20\x0a'+_0xa4e70e[_0x21b12f(0x200)]['errors'][0x0]['msg']);else{let _0x3b494a=_0x21b12f(0x24d)+_0xa4e70e[_0x21b12f(0x200)]['cn']+_0x21b12f(0x205);_0x3b494a+='\x0a'+Useful_1[_0x21b12f(0x294)][_0x21b12f(0x1f7)](_0x2cf06a[0x0]),_0xa4e70e[_0x21b12f(0x200)][_0x21b12f(0x209)]&&(_0x3b494a+='\x0a'+_0x21b12f(0x2bc),_0xa4e70e[_0x21b12f(0x200)][_0x21b12f(0x209)][_0x21b12f(0x2ae)]((_0x30af71,_0x5645fa)=>{const _0x5eb83a=_0x21b12f;_0x3b494a+='\x0a'+_0x30af71[_0x5eb83a(0x206)](',')[0x0][_0x5eb83a(0x206)]('=')[0x1];})),_0x378382['replyWithHTML'](_0x3b494a);}})[_0x2cfa82(0x26e)](_0x449b91=>{const _0x21e7d0=_0x2cfa82;_0x378382['replyWithHTML'](_0x21e7d0(0x250)+Useful_1[_0x21e7d0(0x294)][_0x21e7d0(0x1f7)](_0x2cf06a[0x0])+_0x21e7d0(0x21e)+_0x449b91[_0x21e7d0(0x1f6)]);}));})):_0x378382[_0x35a2d5(0x275)](_0x35a2d5(0x250)+Useful_1[_0x35a2d5(0x294)][_0x35a2d5(0x1f7)](_0x2cf06a[0x0])+'</b>\x20porque\x20ya\x20no\x20existe\x20en\x20el\x20servidor\x20<b>'+_0x2cf06a[0x1]+_0x35a2d5(0x248));}))[_0x169bd4(0x26e)](_0x19c8de=>{const _0x29e743=_0x169bd4;_0x378382['replyWithHTML'](_0x29e743(0x210)+Useful_1['default'][_0x29e743(0x1f7)](_0x2cf06a[0x0])+_0x29e743(0x21e)+_0x19c8de[_0x29e743(0x1f6)]);});}));const _0x28af5d=new telegraf_1[(_0x51c24f(0x2d0))][(_0x51c24f(0x25b))]([_0x5927b9,_0x44ee26]);bot[_0x51c24f(0x274)](telegraf_1[_0x51c24f(0x254)]()),bot[_0x51c24f(0x274)](_0x28af5d[_0x51c24f(0x21d)]()),bot[_0x51c24f(0x235)](/addconnectionToSites (.+)/,_0x57690b=>{const _0x28461a=_0x51c24f;return _0x2dccba[_0x28461a(0x1fc)]=_0x57690b['match'][0x1],_0x57690b['scene'][_0x28461a(0x291)](_0x28461a(0x25f));}),bot[_0x51c24f(0x235)](_0x51c24f(0x228),_0x143fbd=>{const _0x338a28=_0x51c24f;return _0x143fbd[_0x338a28(0x292)][_0x338a28(0x291)](_0x338a28(0x234));}),bot[_0x51c24f(0x1fd)](),console['log'](_0x51c24f(0x22e));}else console[_0x51c24f(0x1e8)](_0x51c24f(0x219));}));});exports[a50_0x18c412(0x252)]=initBot;function execCommand(_0x2686ae){return new Promise((_0x374cb2,_0x5bdcd9)=>{exec(_0x2686ae,(_0x524a47,_0x2cfd40,_0x10ab67)=>{const _0x1286f6=a50_0x2e36;if(_0x524a47||_0x10ab67)_0x374cb2(_0x1286f6(0x2c7));else _0x374cb2(_0x2cfd40);});});}exports[a50_0x18c412(0x252)]();