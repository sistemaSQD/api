'use strict';const a3_0x38f91f=a3_0x2abb;(function(_0xa795d7,_0xf4ea4){const _0x4bb142=a3_0x2abb,_0x5148a3=_0xa795d7();while(!![]){try{const _0x23245b=parseInt(_0x4bb142(0x150))/0x1+parseInt(_0x4bb142(0x184))/0x2*(-parseInt(_0x4bb142(0x14a))/0x3)+parseInt(_0x4bb142(0x18f))/0x4+parseInt(_0x4bb142(0x175))/0x5+-parseInt(_0x4bb142(0x154))/0x6+parseInt(_0x4bb142(0x16f))/0x7*(-parseInt(_0x4bb142(0x17b))/0x8)+-parseInt(_0x4bb142(0x163))/0x9*(-parseInt(_0x4bb142(0x14c))/0xa);if(_0x23245b===_0xf4ea4)break;else _0x5148a3['push'](_0x5148a3['shift']());}catch(_0x226a3c){_0x5148a3['push'](_0x5148a3['shift']());}}}(a3_0x179e,0x57a4a));var __awaiter=this&&this['__awaiter']||function(_0x33acfc,_0x2553b4,_0x4b9fa4,_0x5075eb){function _0x3e68e3(_0x30feda){return _0x30feda instanceof _0x4b9fa4?_0x30feda:new _0x4b9fa4(function(_0x116a6){_0x116a6(_0x30feda);});}return new(_0x4b9fa4||(_0x4b9fa4=Promise))(function(_0x562d28,_0x51ed43){const _0x30a3b3=a3_0x2abb;function _0x1dec2c(_0x52bfd5){const _0x150ae7=a3_0x2abb;try{_0x58035f(_0x5075eb[_0x150ae7(0x151)](_0x52bfd5));}catch(_0x13cc9f){_0x51ed43(_0x13cc9f);}}function _0x251f19(_0x402ea7){const _0x52f603=a3_0x2abb;try{_0x58035f(_0x5075eb[_0x52f603(0x17a)](_0x402ea7));}catch(_0x41ba98){_0x51ed43(_0x41ba98);}}function _0x58035f(_0x3ec8e0){const _0x4a173d=a3_0x2abb;_0x3ec8e0['done']?_0x562d28(_0x3ec8e0[_0x4a173d(0x166)]):_0x3e68e3(_0x3ec8e0[_0x4a173d(0x166)])[_0x4a173d(0x158)](_0x1dec2c,_0x251f19);}_0x58035f((_0x5075eb=_0x5075eb[_0x30a3b3(0x14f)](_0x33acfc,_0x2553b4||[]))[_0x30a3b3(0x151)]());});},__importDefault=this&&this[a3_0x38f91f(0x16a)]||function(_0x10e4d7){const _0xa526e5=a3_0x38f91f;return _0x10e4d7&&_0x10e4d7[_0xa526e5(0x15b)]?_0x10e4d7:{'default':_0x10e4d7};};Object[a3_0x38f91f(0x18c)](exports,'__esModule',{'value':!![]}),exports[a3_0x38f91f(0x173)]=exports['updateConfig']=exports['getThemePrefers']=exports[a3_0x38f91f(0x156)]=exports[a3_0x38f91f(0x188)]=exports[a3_0x38f91f(0x14b)]=void 0x0;const Bot_1=require('../models/Bot'),Proxy_1=require('../models/Proxy'),Mail_1=require(a3_0x38f91f(0x18b)),Config_1=require(a3_0x38f91f(0x181)),Useful_1=__importDefault(require('../models/Useful')),app_1=__importDefault(require(a3_0x38f91f(0x159))),jwt=require(a3_0x38f91f(0x185)),exec=require('child_process')[a3_0x38f91f(0x172)],axios=require('axios'),validator=require(a3_0x38f91f(0x170)),bcrypt=require(a3_0x38f91f(0x160)),index=(_0x39e67a,_0x1f77d1)=>{const _0x1d6a4c=a3_0x38f91f;_0x1f77d1['json'](_0x1d6a4c(0x165));};function a3_0x179e(){const _0x3b92f6=['2736048BEVPyh','Lo\x20sentimos\x20no\x20se\x20pudo\x20obtener\x20la\x20información\x20de\x20la\x20URI','loadConfig','port','then','../app','bot','__esModule','create','darktheme','getConfig','sign','bcryptjs','username','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20configuración','391131MzhKoJ','Lo\x20sentimos\x20no\x20se\x20pudieron\x20actualizar\x20los\x20datos\x20de\x20la\x20configuración','Mostrar\x20aqui\x20una\x20vista\x20de\x20pantalla\x20completa\x20con\x20las\x20direfentes\x20url\x20del\x20api\x20con\x20sus\x20metodos\x20de\x20acceso\x20y\x20una\x20descripcion\x20de\x20lo\x20que\x20devolvera\x20dicha\x20url','value','host','Bot','savedserver','__importDefault','Proxy','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy','Lo\x20sentimos\x20no\x20se\x20pudo\x20obtener\x20la\x20preferencia\x20del\x20tema','uri','4697252KwpMRN','validator','get','exec','getUriInfo','updateConfig','2334970KHNkDi','head','SQDKEY','getBot','register','throw','8TWctIM','json','_id','getProxy','extractProxyData','Mail','../models/Config','El\x20usuario\x20y\x20la\x20contraseña\x20son\x20obligatorios','admin_password','2KbIWvl','jsonwebtoken','isEmpty','body','login','Config','content-length','../models/Mail','defineProperty','Autenticación\x20fallida','admin_username','1840060kgwyfR','default','catch','331437rsfMup','index','90nrTcKd','headers','password','apply','278369xilEdS','next','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20bot','findOne'];a3_0x179e=function(){return _0x3b92f6;};return a3_0x179e();}exports['index']=index;const login=(_0x28830f,_0x270ca2)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x29bbca=a3_0x38f91f;if(!validator[_0x29bbca(0x186)](_0x28830f[_0x29bbca(0x187)][_0x29bbca(0x161)],{'ignore_whitespace':!![]})&&!validator[_0x29bbca(0x186)](_0x28830f[_0x29bbca(0x187)]['password'],{'ignore_whitespace':!![]})){if(_0x28830f[_0x29bbca(0x187)][_0x29bbca(0x161)]==app_1['default'][_0x29bbca(0x171)](_0x29bbca(0x18e))&&_0x28830f[_0x29bbca(0x187)][_0x29bbca(0x14e)]==app_1['default']['get'](_0x29bbca(0x183))){const _0x2e19aa=jwt[_0x29bbca(0x15f)]({'username':_0x28830f[_0x29bbca(0x187)][_0x29bbca(0x161)]},_0x29bbca(0x177));_0x270ca2[_0x29bbca(0x17c)]({'token':_0x2e19aa});}else return _0x270ca2[_0x29bbca(0x17c)]({'errors':[{'location':_0x29bbca(0x188),'msg':_0x29bbca(0x18d)}]});}else return _0x270ca2[_0x29bbca(0x17c)]({'errors':[{'location':_0x29bbca(0x188),'msg':_0x29bbca(0x182)}]});});exports['login']=login;const loadConfig=(_0x2c97f4,_0x184d6f)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x41b569=a3_0x38f91f;let _0x16ecb1=yield Bot_1[_0x41b569(0x168)][_0x41b569(0x153)]()[_0x41b569(0x158)](_0x5edf71=>{return _0x5edf71;})[_0x41b569(0x149)](_0x1ebcd8=>{const _0xc32fcf=_0x41b569;return{'errors':[{'location':_0xc32fcf(0x178),'msg':_0xc32fcf(0x152)}]};}),_0x15d31e=yield Proxy_1[_0x41b569(0x16b)][_0x41b569(0x153)]()[_0x41b569(0x158)](_0x329809=>{return _0x329809;})[_0x41b569(0x149)](_0x59e9a0=>{const _0x2ee1ee=_0x41b569;return{'errors':[{'location':_0x2ee1ee(0x17e),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy'}]};}),_0xd7691d=yield Mail_1[_0x41b569(0x180)]['findOne']()['then'](_0x161a3d=>{return _0x161a3d;})['catch'](_0x1251d9=>{return{'errors':[{'location':'getMail','msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20correo'}]};}),_0x1964d5=yield Config_1['Config'][_0x41b569(0x153)]()[_0x41b569(0x158)](_0x51defa=>{return _0x51defa;})[_0x41b569(0x149)](_0x34bb4d=>{const _0x3332d4=_0x41b569;return{'errors':[{'location':_0x3332d4(0x15e),'msg':_0x3332d4(0x162)}]};});return _0x184d6f[_0x41b569(0x17c)]({'bot':_0x16ecb1,'proxy':_0x15d31e,'mail':_0xd7691d,'config':_0x1964d5});});exports[a3_0x38f91f(0x156)]=loadConfig;const getThemePrefers=(_0x57ad72,_0x543484)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2f351e=a3_0x38f91f;let _0x44d609=yield Config_1[_0x2f351e(0x189)][_0x2f351e(0x153)]()[_0x2f351e(0x158)](_0x3bae49=>{const _0x2244ff=_0x2f351e;return _0x3bae49&&_0x3bae49[_0x2244ff(0x15d)]!=null?_0x3bae49[_0x2244ff(0x15d)]:!![];})[_0x2f351e(0x149)](_0x3978ee=>{const _0x472226=_0x2f351e;return{'errors':[{'location':_0x472226(0x15e),'msg':_0x472226(0x16d),'param':_0x472226(0x15a)}]};});return _0x543484[_0x2f351e(0x17c)]({'darktheme':_0x44d609});});exports['getThemePrefers']=getThemePrefers;const updateConfig=(_0x9db3b1,_0x1d9dd9)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x12e83e=a3_0x38f91f;yield Config_1['Config'][_0x12e83e(0x153)]()[_0x12e83e(0x158)](_0x15ecc4=>{const _0xbb4f5=_0x12e83e;_0x15ecc4?Config_1['Config']['findByIdAndUpdate'](_0x15ecc4[_0xbb4f5(0x17d)],_0x9db3b1[_0xbb4f5(0x187)],{'new':!![]})['then'](_0x10f417=>{const _0x16bb0a=_0xbb4f5;return _0x1d9dd9[_0x16bb0a(0x17c)](_0x10f417);})[_0xbb4f5(0x149)](_0x29a061=>{const _0x2ca097=_0xbb4f5;return _0x1d9dd9[_0x2ca097(0x17c)]({'errors':[{'location':_0x2ca097(0x174),'msg':_0x2ca097(0x164)}]});}):Config_1[_0xbb4f5(0x189)][_0xbb4f5(0x15c)](_0x9db3b1[_0xbb4f5(0x187)],(_0x90c4e,_0x3d8ce0)=>{const _0x4572d5=_0xbb4f5;if(_0x90c4e)return _0x1d9dd9['json']({'errors':[{'location':_0x4572d5(0x179),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20registrar\x20los\x20datos\x20de\x20la\x20configuración','param':_0x4572d5(0x169)}]});else return _0x1d9dd9[_0x4572d5(0x17c)](_0x3d8ce0);});})[_0x12e83e(0x149)](_0x3d30e8=>{const _0x5d2a36=_0x12e83e;return _0x1d9dd9[_0x5d2a36(0x17c)]({'errors':[{'location':_0x5d2a36(0x174),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20configuración'}]});});});exports[a3_0x38f91f(0x174)]=updateConfig;const getUriInfo=(_0x1ab560,_0x2b6e32)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4a91a6=a3_0x38f91f;yield Proxy_1[_0x4a91a6(0x16b)][_0x4a91a6(0x153)]()[_0x4a91a6(0x158)](_0x303e1d=>{const _0x4aaf68=_0x4a91a6;if(_0x303e1d){let _0x182795=null;_0x182795=Useful_1[_0x4aaf68(0x190)][_0x4aaf68(0x17f)](_0x303e1d[_0x4aaf68(0x16e)]),_0x182795[_0x4aaf68(0x161)]!=''?_0x182795={'host':_0x182795['host'],'port':_0x182795[_0x4aaf68(0x157)],'auth':{'username':_0x182795['username'],'password':_0x182795['password']}}:_0x182795={'host':_0x182795[_0x4aaf68(0x167)],'port':_0x182795[_0x4aaf68(0x157)]},axios[_0x4aaf68(0x176)](_0x1ab560[_0x4aaf68(0x187)][_0x4aaf68(0x16e)],{'proxy':_0x182795,'timeout':0x1388})[_0x4aaf68(0x158)](function(_0x4663d2){const _0x5af6fb=_0x4aaf68;if(_0x4663d2[_0x5af6fb(0x14d)][_0x5af6fb(0x18a)]!==undefined)return _0x2b6e32[_0x5af6fb(0x17c)]({'size':+_0x4663d2[_0x5af6fb(0x14d)][_0x5af6fb(0x18a)]});else return _0x2b6e32[_0x5af6fb(0x17c)]({'size':-0x1});})[_0x4aaf68(0x149)](function(_0xf8d8b7){const _0x46335c=_0x4aaf68;return _0x2b6e32[_0x46335c(0x17c)]({'errors':[{'location':_0x46335c(0x173),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20URI'}]});});}else axios['head'](_0x1ab560['body'][_0x4aaf68(0x16e)],{'timeout':0x1388})[_0x4aaf68(0x158)](function(_0x2882b5){const _0xf9faa6=_0x4aaf68;if(_0x2882b5['headers'][_0xf9faa6(0x18a)]!==undefined)return _0x2b6e32[_0xf9faa6(0x17c)]({'size':+_0x2882b5[_0xf9faa6(0x14d)]['content-length']});else return _0x2b6e32['json']({'size':-0x1});})[_0x4aaf68(0x149)](function(_0x4d3dcb){const _0x167629=_0x4aaf68;return _0x2b6e32[_0x167629(0x17c)]({'errors':[{'location':_0x167629(0x173),'msg':_0x167629(0x155)}]});});})[_0x4a91a6(0x149)](_0x18c9de=>{const _0x2428f3=_0x4a91a6;return _0x2b6e32[_0x2428f3(0x17c)]({'errors':[{'location':_0x2428f3(0x173),'msg':_0x2428f3(0x16c)}]});});});exports[a3_0x38f91f(0x173)]=getUriInfo;function a3_0x2abb(_0x1df4d9,_0x2f2352){const _0x179ea0=a3_0x179e();return a3_0x2abb=function(_0x2abbf5,_0x1d5507){_0x2abbf5=_0x2abbf5-0x149;let _0x113d1f=_0x179ea0[_0x2abbf5];return _0x113d1f;},a3_0x2abb(_0x1df4d9,_0x2f2352);}function execCommand(_0x71e77e){return new Promise((_0x48528b,_0x25c440)=>{exec(_0x71e77e,(_0x4b01a1,_0x89bdc3,_0x42444f)=>{if(_0x4b01a1||_0x42444f)_0x48528b('errors');else _0x48528b(_0x89bdc3);});});}