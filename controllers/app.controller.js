'use strict';const a3_0x27e573=a3_0x524c;(function(_0x2c9577,_0x2a1bfb){const _0x24dbf4=a3_0x524c,_0x5a8f78=_0x2c9577();while(!![]){try{const _0x31ede1=parseInt(_0x24dbf4(0x11c))/0x1+parseInt(_0x24dbf4(0x104))/0x2*(parseInt(_0x24dbf4(0x100))/0x3)+parseInt(_0x24dbf4(0x114))/0x4+-parseInt(_0x24dbf4(0x118))/0x5*(parseInt(_0x24dbf4(0x102))/0x6)+parseInt(_0x24dbf4(0x123))/0x7+parseInt(_0x24dbf4(0x132))/0x8+-parseInt(_0x24dbf4(0xfa))/0x9*(parseInt(_0x24dbf4(0xf5))/0xa);if(_0x31ede1===_0x2a1bfb)break;else _0x5a8f78['push'](_0x5a8f78['shift']());}catch(_0x4df86c){_0x5a8f78['push'](_0x5a8f78['shift']());}}}(a3_0x544d,0x2d3b8));var __awaiter=this&&this[a3_0x27e573(0x116)]||function(_0x1b1144,_0x1a20e0,_0x51b205,_0x27c427){function _0x4b5051(_0xeb809b){return _0xeb809b instanceof _0x51b205?_0xeb809b:new _0x51b205(function(_0x5e5269){_0x5e5269(_0xeb809b);});}return new(_0x51b205||(_0x51b205=Promise))(function(_0x182d4e,_0x2822f9){const _0x2f9e38=a3_0x524c;function _0x338170(_0x5e0274){try{_0x3848d5(_0x27c427['next'](_0x5e0274));}catch(_0x3c1fc9){_0x2822f9(_0x3c1fc9);}}function _0x34324d(_0x352e6c){try{_0x3848d5(_0x27c427['throw'](_0x352e6c));}catch(_0x4e6344){_0x2822f9(_0x4e6344);}}function _0x3848d5(_0x3e3b04){const _0x222094=a3_0x524c;_0x3e3b04[_0x222094(0x124)]?_0x182d4e(_0x3e3b04['value']):_0x4b5051(_0x3e3b04[_0x222094(0x11d)])[_0x222094(0x10c)](_0x338170,_0x34324d);}_0x3848d5((_0x27c427=_0x27c427[_0x2f9e38(0x130)](_0x1b1144,_0x1a20e0||[]))['next']());});},__importDefault=this&&this['__importDefault']||function(_0x51aa7a){const _0x407a54=a3_0x27e573;return _0x51aa7a&&_0x51aa7a[_0x407a54(0x111)]?_0x51aa7a:{'default':_0x51aa7a};};function a3_0x524c(_0xa259a8,_0x259570){const _0x544da4=a3_0x544d();return a3_0x524c=function(_0x524c26,_0x9f6a05){_0x524c26=_0x524c26-0xee;let _0x133104=_0x544da4[_0x524c26];return _0x133104;},a3_0x524c(_0xa259a8,_0x259570);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a3_0x27e573(0x120)]=exports[a3_0x27e573(0x107)]=exports[a3_0x27e573(0x109)]=exports[a3_0x27e573(0xf8)]=exports[a3_0x27e573(0x12e)]=exports[a3_0x27e573(0xf6)]=void 0x0;const Bot_1=require(a3_0x27e573(0x12d)),Proxy_1=require(a3_0x27e573(0x11a)),Mail_1=require(a3_0x27e573(0xf2)),Config_1=require('../models/Config'),Useful_1=__importDefault(require(a3_0x27e573(0xef))),app_1=__importDefault(require(a3_0x27e573(0x129))),jwt=require('jsonwebtoken'),exec=require(a3_0x27e573(0x128))['exec'],axios=require(a3_0x27e573(0xfc)),validator=require('validator'),bcrypt=require('bcryptjs'),index=(_0x336693,_0x26d9ef)=>{const _0x1e8c44=a3_0x27e573;_0x26d9ef['json'](_0x1e8c44(0x131));};function a3_0x544d(){const _0x3ed732=['375158zuXhrP','done','SQDKEY','sign','admin_password','child_process','../app','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20bot','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20configuración','extractProxyData','../models/Bot','login','uri','apply','Mostrar\x20aqui\x20una\x20vista\x20de\x20pantalla\x20completa\x20con\x20las\x20direfentes\x20url\x20del\x20api\x20con\x20sus\x20metodos\x20de\x20acceso\x20y\x20una\x20descripcion\x20de\x20lo\x20que\x20devolvera\x20dicha\x20url','2813240TMRTGe','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20URI','../models/Useful','darktheme','head','../models/Mail','Lo\x20sentimos\x20no\x20se\x20pudo\x20obtener\x20la\x20preferencia\x20del\x20tema','json','7931540DDFWYZ','index','catch','loadConfig','body','9FRetPg','Lo\x20sentimos\x20no\x20se\x20pudieron\x20actualizar\x20los\x20datos\x20de\x20la\x20configuración','axios','register','username','getProxy','6843RzgBzd','admin_username','43518JGeGlU','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20correo','14bopYlL','findOne','isEmpty','updateConfig','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy','getThemePrefers','default','El\x20usuario\x20y\x20la\x20contraseña\x20son\x20obligatorios','then','Proxy','Autenticación\x20fallida','password','headers','__esModule','errors','getConfig','1434284NZlbqf','Mail','__awaiter','get','5GDpfSs','Config','../models/Proxy','content-length','205892KsBngX','value','getBot','savedserver','getUriInfo','host','_id'];a3_0x544d=function(){return _0x3ed732;};return a3_0x544d();}exports[a3_0x27e573(0xf6)]=index;const login=(_0x27c9db,_0x1ed9d8)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xd61507=a3_0x27e573;if(!validator['isEmpty'](_0x27c9db['body'][_0xd61507(0xfe)],{'ignore_whitespace':!![]})&&!validator[_0xd61507(0x106)](_0x27c9db[_0xd61507(0xf9)][_0xd61507(0x10f)],{'ignore_whitespace':!![]})){if(_0x27c9db[_0xd61507(0xf9)][_0xd61507(0xfe)]==app_1[_0xd61507(0x10a)]['get'](_0xd61507(0x101))&&_0x27c9db['body'][_0xd61507(0x10f)]==app_1['default'][_0xd61507(0x117)](_0xd61507(0x127))){const _0x279f5d=jwt[_0xd61507(0x126)]({'username':_0x27c9db['body'][_0xd61507(0xfe)]},_0xd61507(0x125));_0x1ed9d8[_0xd61507(0xf4)]({'token':_0x279f5d});}else return _0x1ed9d8[_0xd61507(0xf4)]({'errors':[{'location':'login','msg':_0xd61507(0x10e)}]});}else return _0x1ed9d8[_0xd61507(0xf4)]({'errors':[{'location':'login','msg':_0xd61507(0x10b)}]});});exports[a3_0x27e573(0x12e)]=login;const loadConfig=(_0x665c08,_0x3b3e25)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x43098d=a3_0x27e573;let _0x7d0876=yield Bot_1['Bot'][_0x43098d(0x105)]()[_0x43098d(0x10c)](_0x37f3d9=>{return _0x37f3d9;})[_0x43098d(0xf7)](_0x1eaa75=>{const _0x410250=_0x43098d;return{'errors':[{'location':_0x410250(0x11e),'msg':_0x410250(0x12a)}]};}),_0x1e8b59=yield Proxy_1[_0x43098d(0x10d)]['findOne']()[_0x43098d(0x10c)](_0x156308=>{return _0x156308;})[_0x43098d(0xf7)](_0x344d03=>{const _0x470370=_0x43098d;return{'errors':[{'location':_0x470370(0xff),'msg':_0x470370(0x108)}]};}),_0x4c84f3=yield Mail_1[_0x43098d(0x115)][_0x43098d(0x105)]()[_0x43098d(0x10c)](_0x5ce3a5=>{return _0x5ce3a5;})['catch'](_0x8930ab=>{const _0x3d3f6a=_0x43098d;return{'errors':[{'location':'getMail','msg':_0x3d3f6a(0x103)}]};}),_0x3d9e7d=yield Config_1[_0x43098d(0x119)][_0x43098d(0x105)]()['then'](_0x45ae61=>{return _0x45ae61;})['catch'](_0x1a74d7=>{const _0x3e6cf1=_0x43098d;return{'errors':[{'location':'getConfig','msg':_0x3e6cf1(0x12b)}]};});return _0x3b3e25[_0x43098d(0xf4)]({'bot':_0x7d0876,'proxy':_0x1e8b59,'mail':_0x4c84f3,'config':_0x3d9e7d});});exports[a3_0x27e573(0xf8)]=loadConfig;const getThemePrefers=(_0x248e98,_0x1eee9a)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x33a0c3=a3_0x27e573;let _0x409f0d=yield Config_1[_0x33a0c3(0x119)]['findOne']()['then'](_0x19561d=>{const _0x41ee11=_0x33a0c3;return _0x19561d&&_0x19561d[_0x41ee11(0xf0)]!=null?_0x19561d[_0x41ee11(0xf0)]:!![];})[_0x33a0c3(0xf7)](_0xab624c=>{const _0x4329db=_0x33a0c3;return{'errors':[{'location':_0x4329db(0x113),'msg':_0x4329db(0xf3),'param':'bot'}]};});return _0x1eee9a['json']({'darktheme':_0x409f0d});});exports[a3_0x27e573(0x109)]=getThemePrefers;const updateConfig=(_0x13664a,_0x2aa4a1)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x42c34e=a3_0x27e573;yield Config_1[_0x42c34e(0x119)]['findOne']()['then'](_0x380f16=>{const _0x1a3eb1=_0x42c34e;_0x380f16?Config_1[_0x1a3eb1(0x119)]['findByIdAndUpdate'](_0x380f16[_0x1a3eb1(0x122)],_0x13664a[_0x1a3eb1(0xf9)],{'new':!![]})['then'](_0xb77121=>{const _0x45e2ab=_0x1a3eb1;return _0x2aa4a1[_0x45e2ab(0xf4)](_0xb77121);})['catch'](_0x4effb2=>{const _0x29cff1=_0x1a3eb1;return _0x2aa4a1['json']({'errors':[{'location':_0x29cff1(0x107),'msg':_0x29cff1(0xfb)}]});}):Config_1[_0x1a3eb1(0x119)]['create'](_0x13664a[_0x1a3eb1(0xf9)],(_0x3624d4,_0x4eef70)=>{const _0x19511e=_0x1a3eb1;if(_0x3624d4)return _0x2aa4a1[_0x19511e(0xf4)]({'errors':[{'location':_0x19511e(0xfd),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20registrar\x20los\x20datos\x20de\x20la\x20configuración','param':_0x19511e(0x11f)}]});else return _0x2aa4a1[_0x19511e(0xf4)](_0x4eef70);});})['catch'](_0x45eb86=>{const _0x497d0a=_0x42c34e;return _0x2aa4a1[_0x497d0a(0xf4)]({'errors':[{'location':_0x497d0a(0x107),'msg':_0x497d0a(0x12b)}]});});});exports[a3_0x27e573(0x107)]=updateConfig;const getUriInfo=(_0x25cd57,_0xc43921)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xb633d=a3_0x27e573;yield Proxy_1['Proxy'][_0xb633d(0x105)]()['then'](_0x5808cd=>{const _0x47e50e=_0xb633d;if(_0x5808cd){let _0x44f6aa=null;_0x44f6aa=Useful_1[_0x47e50e(0x10a)][_0x47e50e(0x12c)](_0x5808cd[_0x47e50e(0x12f)]),_0x44f6aa[_0x47e50e(0xfe)]!=''?_0x44f6aa={'host':_0x44f6aa['host'],'port':_0x44f6aa['port'],'auth':{'username':_0x44f6aa[_0x47e50e(0xfe)],'password':_0x44f6aa[_0x47e50e(0x10f)]}}:_0x44f6aa={'host':_0x44f6aa[_0x47e50e(0x121)],'port':_0x44f6aa['port']},axios[_0x47e50e(0xf1)](_0x25cd57['body']['uri'],{'proxy':_0x44f6aa,'timeout':0x1388})[_0x47e50e(0x10c)](function(_0x5a40f8){const _0x2b7064=_0x47e50e;if(_0x5a40f8[_0x2b7064(0x110)][_0x2b7064(0x11b)]!==undefined)return _0xc43921['json']({'size':+_0x5a40f8[_0x2b7064(0x110)]['content-length']});else return _0xc43921['json']({'size':-0x1});})['catch'](function(_0x656f06){const _0x10b0bf=_0x47e50e;return _0xc43921[_0x10b0bf(0xf4)]({'errors':[{'location':_0x10b0bf(0x120),'msg':_0x10b0bf(0xee)}]});});}else axios[_0x47e50e(0xf1)](_0x25cd57['body'][_0x47e50e(0x12f)],{'timeout':0x1388})[_0x47e50e(0x10c)](function(_0x5ea905){const _0x3cf692=_0x47e50e;if(_0x5ea905[_0x3cf692(0x110)][_0x3cf692(0x11b)]!==undefined)return _0xc43921[_0x3cf692(0xf4)]({'size':+_0x5ea905['headers']['content-length']});else return _0xc43921[_0x3cf692(0xf4)]({'size':-0x1});})['catch'](function(_0x1eaeec){const _0x55f887=_0x47e50e;return _0xc43921[_0x55f887(0xf4)]({'errors':[{'location':'getUriInfo','msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20obtener\x20la\x20información\x20de\x20la\x20URI'}]});});})[_0xb633d(0xf7)](_0xb0f778=>{const _0x49595b=_0xb633d;return _0xc43921[_0x49595b(0xf4)]({'errors':[{'location':_0x49595b(0x120),'msg':_0x49595b(0x108)}]});});});exports[a3_0x27e573(0x120)]=getUriInfo;function execCommand(_0x872007){return new Promise((_0x39a854,_0x1ebb75)=>{exec(_0x872007,(_0x439c07,_0x3ac698,_0xc16fa7)=>{const _0x15b320=a3_0x524c;if(_0x439c07||_0xc16fa7)_0x39a854(_0x15b320(0x112));else _0x39a854(_0x3ac698);});});}