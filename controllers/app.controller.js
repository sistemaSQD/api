'use strict';function a3_0x18d6(_0x117459,_0x5240b7){const _0x3ae20=a3_0x3ae2();return a3_0x18d6=function(_0x18d6cd,_0x558a7b){_0x18d6cd=_0x18d6cd-0xa4;let _0x73d11e=_0x3ae20[_0x18d6cd];return _0x73d11e;},a3_0x18d6(_0x117459,_0x5240b7);}const a3_0x2f8f2b=a3_0x18d6;(function(_0x4c88f5,_0xaa415f){const _0x456d=a3_0x18d6,_0x47faa9=_0x4c88f5();while(!![]){try{const _0x1da8a7=parseInt(_0x456d(0xb7))/0x1*(-parseInt(_0x456d(0xbe))/0x2)+parseInt(_0x456d(0xe6))/0x3*(-parseInt(_0x456d(0xb6))/0x4)+parseInt(_0x456d(0xe5))/0x5+parseInt(_0x456d(0xe7))/0x6*(-parseInt(_0x456d(0xa9))/0x7)+parseInt(_0x456d(0xac))/0x8+parseInt(_0x456d(0xda))/0x9*(-parseInt(_0x456d(0xc2))/0xa)+parseInt(_0x456d(0xc1))/0xb*(parseInt(_0x456d(0xc0))/0xc);if(_0x1da8a7===_0xaa415f)break;else _0x47faa9['push'](_0x47faa9['shift']());}catch(_0x11fb79){_0x47faa9['push'](_0x47faa9['shift']());}}}(a3_0x3ae2,0x66333));var __awaiter=this&&this[a3_0x2f8f2b(0xab)]||function(_0x339edf,_0x395d02,_0x374962,_0x4e99e7){function _0x287e16(_0x455d7f){return _0x455d7f instanceof _0x374962?_0x455d7f:new _0x374962(function(_0x28b29c){_0x28b29c(_0x455d7f);});}return new(_0x374962||(_0x374962=Promise))(function(_0x3482c2,_0x5398c8){const _0x1ae664=a3_0x18d6;function _0x53d392(_0x2f7886){const _0x17efe2=a3_0x18d6;try{_0x1ca0d8(_0x4e99e7[_0x17efe2(0xe0)](_0x2f7886));}catch(_0x47cf86){_0x5398c8(_0x47cf86);}}function _0x339c03(_0x48f6d2){const _0x146d8b=a3_0x18d6;try{_0x1ca0d8(_0x4e99e7[_0x146d8b(0xa5)](_0x48f6d2));}catch(_0x433fed){_0x5398c8(_0x433fed);}}function _0x1ca0d8(_0xd216d8){const _0x5e8f8b=a3_0x18d6;_0xd216d8[_0x5e8f8b(0xdc)]?_0x3482c2(_0xd216d8[_0x5e8f8b(0xa4)]):_0x287e16(_0xd216d8[_0x5e8f8b(0xa4)])[_0x5e8f8b(0xc4)](_0x53d392,_0x339c03);}_0x1ca0d8((_0x4e99e7=_0x4e99e7[_0x1ae664(0xbf)](_0x339edf,_0x395d02||[]))[_0x1ae664(0xe0)]());});},__importDefault=this&&this['__importDefault']||function(_0xc34471){return _0xc34471&&_0xc34471['__esModule']?_0xc34471:{'default':_0xc34471};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a3_0x2f8f2b(0xd5)]=exports[a3_0x2f8f2b(0xcb)]=exports[a3_0x2f8f2b(0xc5)]=exports[a3_0x2f8f2b(0xd8)]=exports['login']=exports[a3_0x2f8f2b(0xcd)]=void 0x0;const Bot_1=require(a3_0x2f8f2b(0xaa)),Proxy_1=require(a3_0x2f8f2b(0xdd)),Mail_1=require('../models/Mail'),Config_1=require(a3_0x2f8f2b(0xbb)),Useful_1=__importDefault(require('../models/Useful')),app_1=__importDefault(require(a3_0x2f8f2b(0xcc))),jwt=require(a3_0x2f8f2b(0xad)),exec=require(a3_0x2f8f2b(0xd1))[a3_0x2f8f2b(0xa7)],axios=require(a3_0x2f8f2b(0xdf)),validator=require('validator'),bcrypt=require(a3_0x2f8f2b(0xd7)),index=(_0xd72f19,_0x154156)=>{const _0x5584dd=a3_0x2f8f2b;_0x154156['json'](_0x5584dd(0xba));};exports['index']=index;const login=(_0x297680,_0xce5146)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3e3aac=a3_0x2f8f2b;if(!validator['isEmpty'](_0x297680[_0x3e3aac(0xcf)][_0x3e3aac(0xd2)],{'ignore_whitespace':!![]})&&!validator[_0x3e3aac(0xde)](_0x297680[_0x3e3aac(0xcf)]['password'],{'ignore_whitespace':!![]})){if(_0x297680['body'][_0x3e3aac(0xd2)]==app_1[_0x3e3aac(0xc9)][_0x3e3aac(0xaf)]('admin_username')&&_0x297680[_0x3e3aac(0xcf)]['password']==app_1[_0x3e3aac(0xc9)]['get']('admin_password')){const _0x547083=jwt[_0x3e3aac(0xb2)]({'username':_0x297680['body'][_0x3e3aac(0xd2)]},'SQDKEY');_0xce5146['json']({'token':_0x547083});}else return _0xce5146[_0x3e3aac(0xb9)]({'errors':[{'location':_0x3e3aac(0xbc),'msg':'Autenticación\x20fallida'}]});}else return _0xce5146[_0x3e3aac(0xb9)]({'errors':[{'location':_0x3e3aac(0xbc),'msg':_0x3e3aac(0xb3)}]});});exports['login']=login;const loadConfig=(_0x4390ba,_0x5344c1)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x202906=a3_0x2f8f2b;let _0x2c31d5=yield Bot_1[_0x202906(0xb1)]['findOne']()[_0x202906(0xc4)](_0x59e984=>{return _0x59e984;})[_0x202906(0xa6)](_0x41b5e3=>{const _0x37ee03=_0x202906;return{'errors':[{'location':_0x37ee03(0xce),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20bot'}]};}),_0x38334c=yield Proxy_1['Proxy'][_0x202906(0xd3)]()['then'](_0x519bfd=>{return _0x519bfd;})[_0x202906(0xa6)](_0x209666=>{const _0x4203f0=_0x202906;return{'errors':[{'location':_0x4203f0(0xb4),'msg':_0x4203f0(0xb5)}]};}),_0x2f3815=yield Mail_1['Mail'][_0x202906(0xd3)]()[_0x202906(0xc4)](_0x5d33da=>{return _0x5d33da;})[_0x202906(0xa6)](_0xab521f=>{const _0x2992d8=_0x202906;return{'errors':[{'location':_0x2992d8(0xc8),'msg':_0x2992d8(0xdb)}]};}),_0x45a514=yield Config_1['Config'][_0x202906(0xd3)]()[_0x202906(0xc4)](_0x2bca6b=>{return _0x2bca6b;})[_0x202906(0xa6)](_0x2d9256=>{const _0x51b6b0=_0x202906;return{'errors':[{'location':'getConfig','msg':_0x51b6b0(0xc3)}]};});return _0x5344c1[_0x202906(0xb9)]({'bot':_0x2c31d5,'proxy':_0x38334c,'mail':_0x2f3815,'config':_0x45a514});});exports['loadConfig']=loadConfig;const getThemePrefers=(_0x495558,_0x3ac33c)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2ed5e9=a3_0x2f8f2b;let _0x5bb785=yield Config_1[_0x2ed5e9(0xe3)][_0x2ed5e9(0xd3)]()[_0x2ed5e9(0xc4)](_0x1ff160=>{const _0x1be274=_0x2ed5e9;return _0x1ff160&&_0x1ff160[_0x1be274(0xd0)]!=null?_0x1ff160['darktheme']:!![];})[_0x2ed5e9(0xa6)](_0x6a6438=>{const _0x107c6a=_0x2ed5e9;return{'errors':[{'location':_0x107c6a(0xc6),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20obtener\x20la\x20preferencia\x20del\x20tema','param':_0x107c6a(0xbd)}]};});return _0x3ac33c[_0x2ed5e9(0xb9)]({'darktheme':_0x5bb785});});exports[a3_0x2f8f2b(0xc5)]=getThemePrefers;const updateConfig=(_0x53132a,_0x2e7ef7)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x42019b=a3_0x2f8f2b;yield Config_1[_0x42019b(0xe3)][_0x42019b(0xd3)]()[_0x42019b(0xc4)](_0x52f798=>{const _0x507113=_0x42019b;_0x52f798?Config_1[_0x507113(0xe3)][_0x507113(0xe1)](_0x52f798[_0x507113(0xb0)],_0x53132a['body'],{'new':!![]})[_0x507113(0xc4)](_0x142a7a=>{const _0x5c13f1=_0x507113;return _0x2e7ef7[_0x5c13f1(0xb9)](_0x142a7a);})['catch'](_0xd0127b=>{const _0x3a78ce=_0x507113;return _0x2e7ef7['json']({'errors':[{'location':'updateConfig','msg':_0x3a78ce(0xe2)}]});}):Config_1[_0x507113(0xe3)][_0x507113(0xc7)](_0x53132a[_0x507113(0xcf)],(_0x101b16,_0x3180dc)=>{const _0x1e2a37=_0x507113;if(_0x101b16)return _0x2e7ef7['json']({'errors':[{'location':'register','msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20registrar\x20los\x20datos\x20de\x20la\x20configuración','param':_0x1e2a37(0xca)}]});else return _0x2e7ef7[_0x1e2a37(0xb9)](_0x3180dc);});})[_0x42019b(0xa6)](_0x201330=>{const _0x5eb778=_0x42019b;return _0x2e7ef7['json']({'errors':[{'location':_0x5eb778(0xcb),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20configuración'}]});});});exports[a3_0x2f8f2b(0xcb)]=updateConfig;function a3_0x3ae2(){const _0x56b956=['catch','exec','content-length','65240HxGHtw','../models/Bot','__awaiter','3694112hkziut','jsonwebtoken','headers','get','_id','Bot','sign','El\x20usuario\x20y\x20la\x20contraseña\x20son\x20obligatorios','getProxy','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy','139380wQPbSU','4911kUKrat','uri','json','Mostrar\x20aqui\x20una\x20vista\x20de\x20pantalla\x20completa\x20con\x20las\x20direfentes\x20url\x20del\x20api\x20con\x20sus\x20metodos\x20de\x20acceso\x20y\x20una\x20descripcion\x20de\x20lo\x20que\x20devolvera\x20dicha\x20url','../models/Config','login','bot','2nrKeca','apply','228TKKxMr','483912ntusZz','4412370etpMyl','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20configuración','then','getThemePrefers','getConfig','create','getMail','default','savedserver','updateConfig','../app','index','getBot','body','darktheme','child_process','username','findOne','errors','getUriInfo','host','bcryptjs','loadConfig','head','9NeZzEz','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20correo','done','../models/Proxy','isEmpty','axios','next','findByIdAndUpdate','Lo\x20sentimos\x20no\x20se\x20pudieron\x20actualizar\x20los\x20datos\x20de\x20la\x20configuración','Config','password','4037310CpaPfy','45KhyDBI','462BXCEDc','port','value','throw'];a3_0x3ae2=function(){return _0x56b956;};return a3_0x3ae2();}const getUriInfo=(_0x299e15,_0x44d135)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x37f03a=a3_0x2f8f2b;yield Proxy_1['Proxy'][_0x37f03a(0xd3)]()[_0x37f03a(0xc4)](_0x34e9a5=>{const _0x910195=_0x37f03a;if(_0x34e9a5){let _0x270924=null;_0x270924=Useful_1[_0x910195(0xc9)]['extractProxyData'](_0x34e9a5['uri']),_0x270924[_0x910195(0xd2)]!=''?_0x270924={'host':_0x270924[_0x910195(0xd6)],'port':_0x270924[_0x910195(0xe8)],'auth':{'username':_0x270924['username'],'password':_0x270924[_0x910195(0xe4)]}}:_0x270924={'host':_0x270924[_0x910195(0xd6)],'port':_0x270924[_0x910195(0xe8)]},axios[_0x910195(0xd9)](_0x299e15[_0x910195(0xcf)]['uri'],{'proxy':_0x270924,'timeout':0x1388})['then'](function(_0x1ac6bf){const _0x461b8c=_0x910195;if(_0x1ac6bf['headers']['content-length']!==undefined)return _0x44d135[_0x461b8c(0xb9)]({'size':+_0x1ac6bf[_0x461b8c(0xae)][_0x461b8c(0xa8)]});else return _0x44d135['json']({'size':-0x1});})['catch'](function(_0x2f3ed5){const _0x5805cd=_0x910195;return _0x44d135[_0x5805cd(0xb9)]({'errors':[{'location':'getUriInfo','msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20la\x20URI'}]});});}else axios[_0x910195(0xd9)](_0x299e15[_0x910195(0xcf)][_0x910195(0xb8)],{'timeout':0x1388})[_0x910195(0xc4)](function(_0x1cefa5){const _0x4a719f=_0x910195;if(_0x1cefa5[_0x4a719f(0xae)][_0x4a719f(0xa8)]!==undefined)return _0x44d135[_0x4a719f(0xb9)]({'size':+_0x1cefa5[_0x4a719f(0xae)][_0x4a719f(0xa8)]});else return _0x44d135[_0x4a719f(0xb9)]({'size':-0x1});})[_0x910195(0xa6)](function(_0x504342){const _0x169f94=_0x910195;return _0x44d135[_0x169f94(0xb9)]({'errors':[{'location':_0x169f94(0xd5),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20obtener\x20la\x20información\x20de\x20la\x20URI'}]});});})[_0x37f03a(0xa6)](_0x5adf60=>{const _0x20469f=_0x37f03a;return _0x44d135['json']({'errors':[{'location':_0x20469f(0xd5),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy'}]});});});exports[a3_0x2f8f2b(0xd5)]=getUriInfo;function execCommand(_0x3e7155){return new Promise((_0x1dd226,_0x2341e7)=>{exec(_0x3e7155,(_0x583e93,_0x2b1e34,_0x3a8978)=>{const _0x44ff61=a3_0x18d6;if(_0x583e93||_0x3a8978)_0x1dd226(_0x44ff61(0xd4));else _0x1dd226(_0x2b1e34);});});}