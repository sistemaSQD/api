'use strict';const a78_0x3bda07=a78_0x19f4;function a78_0xc8db(){const _0x107027=['toFixed','parse','64523RVSEVz','encrypt','unlinkSync','value','678744pCKpQz','enc','data','737308IHSikH','getEncryptSystemData','usetime','License','decrypt','get','SQDKEY222','next','../models/License','457062fEAqbs','findOne','_id','throw','/.SQD/license.sqdlic','done','1184355jYIwUh','7jRFCYa','3qpjlhz','time','AES','__awaiter','1703728UxXHww','findByIdAndDelete','Utf8','existsSync','SQDKEY333','homedir','apply','__importDefault','410596hMmcrz','systemData','defineProperty','toString','SQDKEY111'];a78_0xc8db=function(){return _0x107027;};return a78_0xc8db();}(function(_0x1d59fb,_0x1f6a2a){const _0x4d5058=a78_0x19f4,_0xa77d9c=_0x1d59fb();while(!![]){try{const _0x4aa860=parseInt(_0x4d5058(0xcd))/0x1+parseInt(_0x4d5058(0xc6))/0x2*(-parseInt(_0x4d5058(0xba))/0x3)+-parseInt(_0x4d5058(0xd4))/0x4+parseInt(_0x4d5058(0xb8))/0x5+parseInt(_0x4d5058(0xdd))/0x6*(parseInt(_0x4d5058(0xb9))/0x7)+parseInt(_0x4d5058(0xbe))/0x8+-parseInt(_0x4d5058(0xd1))/0x9;if(_0x4aa860===_0x1f6a2a)break;else _0xa77d9c['push'](_0xa77d9c['shift']());}catch(_0x222ee6){_0xa77d9c['push'](_0xa77d9c['shift']());}}}(a78_0xc8db,0x1ea38));var __awaiter=this&&this[a78_0x3bda07(0xbd)]||function(_0x3e8384,_0x11f1c0,_0x4bac57,_0x17565c){function _0x49cbac(_0x51ac7b){return _0x51ac7b instanceof _0x4bac57?_0x51ac7b:new _0x4bac57(function(_0x2afa8e){_0x2afa8e(_0x51ac7b);});}return new(_0x4bac57||(_0x4bac57=Promise))(function(_0xb40119,_0x517fc0){const _0x115d67=a78_0x19f4;function _0x597f99(_0x22b9ab){const _0x9dc8aa=a78_0x19f4;try{_0x1b1503(_0x17565c[_0x9dc8aa(0xdb)](_0x22b9ab));}catch(_0xedd9a8){_0x517fc0(_0xedd9a8);}}function _0x530564(_0x3974ac){const _0x3787a7=a78_0x19f4;try{_0x1b1503(_0x17565c[_0x3787a7(0xb5)](_0x3974ac));}catch(_0x1aa34f){_0x517fc0(_0x1aa34f);}}function _0x1b1503(_0x41bcc5){const _0x4686e8=a78_0x19f4;_0x41bcc5[_0x4686e8(0xb7)]?_0xb40119(_0x41bcc5[_0x4686e8(0xd0)]):_0x49cbac(_0x41bcc5['value'])['then'](_0x597f99,_0x530564);}_0x1b1503((_0x17565c=_0x17565c[_0x115d67(0xc4)](_0x3e8384,_0x11f1c0||[]))[_0x115d67(0xdb)]());});},__importDefault=this&&this[a78_0x3bda07(0xc5)]||function(_0x3d961a){return _0x3d961a&&_0x3d961a['__esModule']?_0x3d961a:{'default':_0x3d961a};};Object[a78_0x3bda07(0xc8)](exports,'__esModule',{'value':!![]}),exports['checkLicense']=exports[a78_0x3bda07(0xd5)]=void 0x0;const License_1=require(a78_0x3bda07(0xdc)),app_1=__importDefault(require('../app')),CryptoJS=require('crypto-js'),os=require('os'),fs=require('fs'),getEncryptSystemData=(_0x45e227,_0x9e6083)=>{const _0x21c319=a78_0x3bda07;let _0x41d934=new License_1[(_0x21c319(0xd7))]();return _0x9e6083['json']({'license':_0x41d934['getEncryptSystemData']()});};exports[a78_0x3bda07(0xd5)]=getEncryptSystemData;function a78_0x19f4(_0x3c0dbb,_0x181395){const _0xc8dbc3=a78_0xc8db();return a78_0x19f4=function(_0x19f411,_0x17d487){_0x19f411=_0x19f411-0xb4;let _0x140aec=_0xc8dbc3[_0x19f411];return _0x140aec;},a78_0x19f4(_0x3c0dbb,_0x181395);}const checkLicense=()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xcc59ca=a78_0x3bda07;let _0x2346e4=new License_1[(_0xcc59ca(0xd7))](),_0x3abc60=yield License_1[_0xcc59ca(0xd7)][_0xcc59ca(0xde)]();if(_0x2346e4['getLicenceData']()&&_0x3abc60){let _0x40b2c5=JSON[_0xcc59ca(0xcc)](CryptoJS[_0xcc59ca(0xbc)][_0xcc59ca(0xd8)](CryptoJS['AES']['decrypt'](CryptoJS[_0xcc59ca(0xbc)][_0xcc59ca(0xd8)](_0x2346e4['getLicenceData'](),'SQDKEY333')[_0xcc59ca(0xc9)](CryptoJS[_0xcc59ca(0xd2)][_0xcc59ca(0xc0)]),'SQDKEY222')['toString'](CryptoJS[_0xcc59ca(0xd2)][_0xcc59ca(0xc0)]),'SQDKEY111')[_0xcc59ca(0xc9)](CryptoJS['enc'][_0xcc59ca(0xc0)])),_0x49fe60=JSON[_0xcc59ca(0xcc)](CryptoJS[_0xcc59ca(0xbc)][_0xcc59ca(0xd8)](CryptoJS[_0xcc59ca(0xbc)][_0xcc59ca(0xd8)](CryptoJS['AES'][_0xcc59ca(0xd8)](_0x3abc60['data'],'SQDKEY333')['toString'](CryptoJS['enc']['Utf8']),_0xcc59ca(0xda))[_0xcc59ca(0xc9)](CryptoJS[_0xcc59ca(0xd2)][_0xcc59ca(0xc0)]),_0xcc59ca(0xca))[_0xcc59ca(0xc9)](CryptoJS[_0xcc59ca(0xd2)][_0xcc59ca(0xc0)]));if(_0x40b2c5[_0xcc59ca(0xc7)]==_0x2346e4['getSystemData']()&&_0x49fe60[_0xcc59ca(0xc7)]==_0x2346e4['getSystemData']()&&_0x49fe60[_0xcc59ca(0xbb)]==_0x40b2c5['time']&&_0x49fe60['usetime']<=_0x40b2c5[_0xcc59ca(0xbb)]&&_0x40b2c5[_0xcc59ca(0xd6)]<=_0x49fe60[_0xcc59ca(0xbb)]&&_0x49fe60[_0xcc59ca(0xd6)]<=_0x49fe60[_0xcc59ca(0xbb)]&&_0x40b2c5[_0xcc59ca(0xd6)]<=_0x40b2c5[_0xcc59ca(0xbb)]){_0x49fe60[_0xcc59ca(0xd6)]=_0x49fe60[_0xcc59ca(0xd6)]+0x1/(0x15180/app_1['default'][_0xcc59ca(0xd9)]('refresh_seconds')),_0x3abc60[_0xcc59ca(0xd3)]=CryptoJS['AES'][_0xcc59ca(0xce)](CryptoJS[_0xcc59ca(0xbc)][_0xcc59ca(0xce)](CryptoJS[_0xcc59ca(0xbc)][_0xcc59ca(0xce)](JSON['stringify'](_0x49fe60),_0xcc59ca(0xca))[_0xcc59ca(0xc9)](),_0xcc59ca(0xda))[_0xcc59ca(0xc9)](),_0xcc59ca(0xc2))['toString'](),yield _0x3abc60['save']();let _0x1f1333=Number(_0x49fe60['time'])-Number(_0x49fe60['usetime']);return _0x1f1333=_0x1f1333<0x0?0x0:_0x1f1333,{'status':!![],'timeleft':_0x1f1333[_0xcc59ca(0xcb)](),'company':_0x49fe60['company']};}else return{'status':![],'timeleft':null,'company':null};}else return{'status':![],'timeleft':null,'company':null};});exports['checkLicense']=checkLicense;function deleteLicense(_0x3bb44e){const _0x132bd6=a78_0x3bda07;fs[_0x132bd6(0xc1)](os['homedir']()+_0x132bd6(0xb6))&&fs[_0x132bd6(0xcf)](os[_0x132bd6(0xc3)]()+'/.SQD/license.sqdlic'),_0x3bb44e&&License_1['License'][_0x132bd6(0xbf)](_0x3bb44e[_0x132bd6(0xb4)]);}