'use strict';const a5_0x21e959=a5_0x4a6d;function a5_0x4a6d(_0x47b8d5,_0x46a53e){const _0xd79077=a5_0xd790();return a5_0x4a6d=function(_0x4a6d2f,_0x30b7a9){_0x4a6d2f=_0x4a6d2f-0x93;let _0x636ae0=_0xd79077[_0x4a6d2f];return _0x636ae0;},a5_0x4a6d(_0x47b8d5,_0x46a53e);}(function(_0x440a6f,_0x1f71e6){const _0xda7635=a5_0x4a6d,_0x23488e=_0x440a6f();while(!![]){try{const _0xc656bc=-parseInt(_0xda7635(0xba))/0x1+-parseInt(_0xda7635(0x99))/0x2+parseInt(_0xda7635(0xaa))/0x3*(parseInt(_0xda7635(0xb0))/0x4)+parseInt(_0xda7635(0xa7))/0x5*(-parseInt(_0xda7635(0xa1))/0x6)+parseInt(_0xda7635(0xc2))/0x7+parseInt(_0xda7635(0x97))/0x8*(-parseInt(_0xda7635(0xbd))/0x9)+parseInt(_0xda7635(0xb9))/0xa;if(_0xc656bc===_0x1f71e6)break;else _0x23488e['push'](_0x23488e['shift']());}catch(_0x472d3d){_0x23488e['push'](_0x23488e['shift']());}}}(a5_0xd790,0x7456b));function a5_0xd790(){const _0x569852=['132198aWdSAq','toFixed','homedir','SQDKEY222','findByIdAndDelete','refresh_seconds','80RqbyuB','systemData','decrypt','21kkfwub','save','../models/License','/.SQD/license.sqdlic','License','apply','299528NtBQoB','__esModule','toString','Utf8','json','enc','getSystemData','parse','next','16746860DKaAER','926073ioVLxH','company','SQDKEY333','108TsGiMf','usetime','AES','encrypt','getEncryptSystemData','3705996JAzJMJ','checkLicense','done','stringify','time','337768zjqFHe','default','933024FaMbBA','data','__awaiter','getLicenceData','SQDKEY111','_id','value','existsSync'];a5_0xd790=function(){return _0x569852;};return a5_0xd790();}var __awaiter=this&&this[a5_0x21e959(0x9b)]||function(_0x3c4ad7,_0x3b8bf7,_0x1249db,_0x350f6e){function _0x1429b6(_0x3da143){return _0x3da143 instanceof _0x1249db?_0x3da143:new _0x1249db(function(_0x505da4){_0x505da4(_0x3da143);});}return new(_0x1249db||(_0x1249db=Promise))(function(_0x1b2494,_0xdf83d2){const _0x391966=a5_0x4a6d;function _0x43ff1f(_0x2057b7){try{_0x4633ad(_0x350f6e['next'](_0x2057b7));}catch(_0x5bf208){_0xdf83d2(_0x5bf208);}}function _0x549bcb(_0x5ee8b7){try{_0x4633ad(_0x350f6e['throw'](_0x5ee8b7));}catch(_0x180f67){_0xdf83d2(_0x180f67);}}function _0x4633ad(_0x1f331f){const _0x805f16=a5_0x4a6d;_0x1f331f[_0x805f16(0x94)]?_0x1b2494(_0x1f331f['value']):_0x1429b6(_0x1f331f[_0x805f16(0x9f)])['then'](_0x43ff1f,_0x549bcb);}_0x4633ad((_0x350f6e=_0x350f6e[_0x391966(0xaf)](_0x3c4ad7,_0x3b8bf7||[]))[_0x391966(0xb8)]());});},__importDefault=this&&this['__importDefault']||function(_0x200fdb){const _0xc4ca28=a5_0x21e959;return _0x200fdb&&_0x200fdb[_0xc4ca28(0xb1)]?_0x200fdb:{'default':_0x200fdb};};Object['defineProperty'](exports,a5_0x21e959(0xb1),{'value':!![]}),exports[a5_0x21e959(0x93)]=exports[a5_0x21e959(0xc1)]=void 0x0;const License_1=require(a5_0x21e959(0xac)),app_1=__importDefault(require('../app')),CryptoJS=require('crypto-js'),os=require('os'),fs=require('fs'),getEncryptSystemData=(_0x570d71,_0x77db31)=>{const _0xfdf64=a5_0x21e959;let _0x44ba2e=new License_1[(_0xfdf64(0xae))]();return _0x77db31[_0xfdf64(0xb4)]({'license':_0x44ba2e[_0xfdf64(0xc1)]()});};exports[a5_0x21e959(0xc1)]=getEncryptSystemData;const checkLicense=()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x270880=a5_0x21e959;let _0xa0cfce=new License_1['License'](),_0xf2b50=yield License_1[_0x270880(0xae)]['findOne']();if(_0xa0cfce[_0x270880(0x9c)]()&&_0xf2b50){let _0x477182=JSON[_0x270880(0xb7)](CryptoJS[_0x270880(0xbf)][_0x270880(0xa9)](CryptoJS[_0x270880(0xbf)][_0x270880(0xa9)](CryptoJS[_0x270880(0xbf)][_0x270880(0xa9)](_0xa0cfce[_0x270880(0x9c)](),'SQDKEY333')[_0x270880(0xb2)](CryptoJS[_0x270880(0xb5)]['Utf8']),_0x270880(0xa4))['toString'](CryptoJS[_0x270880(0xb5)]['Utf8']),_0x270880(0x9d))['toString'](CryptoJS[_0x270880(0xb5)][_0x270880(0xb3)])),_0x27e012=JSON[_0x270880(0xb7)](CryptoJS[_0x270880(0xbf)][_0x270880(0xa9)](CryptoJS[_0x270880(0xbf)][_0x270880(0xa9)](CryptoJS[_0x270880(0xbf)][_0x270880(0xa9)](_0xf2b50[_0x270880(0x9a)],_0x270880(0xbc))['toString'](CryptoJS[_0x270880(0xb5)][_0x270880(0xb3)]),_0x270880(0xa4))[_0x270880(0xb2)](CryptoJS[_0x270880(0xb5)][_0x270880(0xb3)]),_0x270880(0x9d))['toString'](CryptoJS[_0x270880(0xb5)][_0x270880(0xb3)]));if(_0x477182[_0x270880(0xa8)]==_0xa0cfce[_0x270880(0xb6)]()&&_0x27e012[_0x270880(0xa8)]==_0xa0cfce['getSystemData']()&&_0x27e012[_0x270880(0x96)]==_0x477182[_0x270880(0x96)]&&_0x27e012[_0x270880(0xbe)]<=_0x477182[_0x270880(0x96)]&&_0x477182['usetime']<=_0x27e012[_0x270880(0x96)]&&_0x27e012[_0x270880(0xbe)]<=_0x27e012[_0x270880(0x96)]&&_0x477182[_0x270880(0xbe)]<=_0x477182[_0x270880(0x96)]){_0x27e012[_0x270880(0xbe)]=_0x27e012[_0x270880(0xbe)]+0x1/(0x15180/app_1[_0x270880(0x98)]['get'](_0x270880(0xa6))),_0xf2b50[_0x270880(0x9a)]=CryptoJS[_0x270880(0xbf)]['encrypt'](CryptoJS[_0x270880(0xbf)][_0x270880(0xc0)](CryptoJS[_0x270880(0xbf)]['encrypt'](JSON[_0x270880(0x95)](_0x27e012),_0x270880(0x9d))[_0x270880(0xb2)](),_0x270880(0xa4))[_0x270880(0xb2)](),_0x270880(0xbc))['toString'](),yield _0xf2b50[_0x270880(0xab)]();let _0x2dbf5c=Number(_0x27e012['time'])-Number(_0x27e012[_0x270880(0xbe)]);return _0x2dbf5c=_0x2dbf5c<0x0?0x0:_0x2dbf5c,{'status':!![],'timeleft':_0x2dbf5c[_0x270880(0xa2)](),'company':_0x27e012[_0x270880(0xbb)]};}else return{'status':![],'timeleft':null,'company':null};}else return{'status':![],'timeleft':null,'company':null};});exports[a5_0x21e959(0x93)]=checkLicense;function deleteLicense(_0x36c89f){const _0x5ac128=a5_0x21e959;fs[_0x5ac128(0xa0)](os[_0x5ac128(0xa3)]()+_0x5ac128(0xad))&&fs['unlinkSync'](os[_0x5ac128(0xa3)]()+'/.SQD/license.sqdlic'),_0x36c89f&&License_1[_0x5ac128(0xae)][_0x5ac128(0xa5)](_0x36c89f[_0x5ac128(0x9e)]);}