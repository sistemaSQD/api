'use strict';function a5_0x4116(_0x7f81b4,_0x218bfc){const _0x4d53f4=a5_0x4d53();return a5_0x4116=function(_0x4116db,_0x4301a8){_0x4116db=_0x4116db-0x169;let _0x5ef33f=_0x4d53f4[_0x4116db];return _0x5ef33f;},a5_0x4116(_0x7f81b4,_0x218bfc);}const a5_0xa7771=a5_0x4116;(function(_0x586680,_0x1be124){const _0x36e38a=a5_0x4116,_0x417ae5=_0x586680();while(!![]){try{const _0x4e0881=-parseInt(_0x36e38a(0x187))/0x1+-parseInt(_0x36e38a(0x18f))/0x2*(-parseInt(_0x36e38a(0x18b))/0x3)+-parseInt(_0x36e38a(0x169))/0x4+-parseInt(_0x36e38a(0x16f))/0x5+parseInt(_0x36e38a(0x177))/0x6+-parseInt(_0x36e38a(0x189))/0x7+-parseInt(_0x36e38a(0x18e))/0x8*(-parseInt(_0x36e38a(0x190))/0x9);if(_0x4e0881===_0x1be124)break;else _0x417ae5['push'](_0x417ae5['shift']());}catch(_0x4de034){_0x417ae5['push'](_0x417ae5['shift']());}}}(a5_0x4d53,0xa7c0a));var __awaiter=this&&this[a5_0xa7771(0x17e)]||function(_0x405fd4,_0x4f1681,_0x1f6256,_0x35ac9c){function _0x583f5f(_0xb97957){return _0xb97957 instanceof _0x1f6256?_0xb97957:new _0x1f6256(function(_0x1072fd){_0x1072fd(_0xb97957);});}return new(_0x1f6256||(_0x1f6256=Promise))(function(_0xe56b6a,_0x479621){const _0x186daf=a5_0x4116;function _0x37e561(_0x2223a5){const _0xf9bfcb=a5_0x4116;try{_0x57780a(_0x35ac9c[_0xf9bfcb(0x182)](_0x2223a5));}catch(_0xb2c911){_0x479621(_0xb2c911);}}function _0x3d88b3(_0x21ab56){try{_0x57780a(_0x35ac9c['throw'](_0x21ab56));}catch(_0x31b0a7){_0x479621(_0x31b0a7);}}function _0x57780a(_0x528540){const _0x56005b=a5_0x4116;_0x528540['done']?_0xe56b6a(_0x528540[_0x56005b(0x188)]):_0x583f5f(_0x528540[_0x56005b(0x188)])[_0x56005b(0x193)](_0x37e561,_0x3d88b3);}_0x57780a((_0x35ac9c=_0x35ac9c[_0x186daf(0x17b)](_0x405fd4,_0x4f1681||[]))[_0x186daf(0x182)]());});},__importDefault=this&&this[a5_0xa7771(0x173)]||function(_0x15d20a){return _0x15d20a&&_0x15d20a['__esModule']?_0x15d20a:{'default':_0x15d20a};};function a5_0x4d53(){const _0x1428d7=['next','json','SQDKEY111','SQDKEY222','_id','322814zBjFqC','value','8334655CQKWfX','homedir','705597gOVrPp','/.SQD/license.sqdlic','data','80ERuZiq','10RMBrcd','2150802sovhyr','AES','existsSync','then','Utf8','__esModule','systemData','SQDKEY333','1643708HBoHKV','company','License','usetime','stringify','refresh_seconds','5156700lUmrTY','time','../app','checkLicense','__importDefault','parse','enc','crypto-js','462510ESEfRp','getSystemData','decrypt','encrypt','apply','getLicenceData','getEncryptSystemData','__awaiter','defineProperty','save','toString'];a5_0x4d53=function(){return _0x1428d7;};return a5_0x4d53();}Object[a5_0xa7771(0x17f)](exports,a5_0xa7771(0x195),{'value':!![]}),exports[a5_0xa7771(0x172)]=exports[a5_0xa7771(0x17d)]=void 0x0;const License_1=require('../models/License'),app_1=__importDefault(require(a5_0xa7771(0x171))),CryptoJS=require(a5_0xa7771(0x176)),os=require('os'),fs=require('fs'),getEncryptSystemData=(_0x1044c4,_0x392f71)=>{const _0x5299a5=a5_0xa7771;let _0x3c0627=new License_1[(_0x5299a5(0x16b))]();return _0x392f71[_0x5299a5(0x183)]({'license':_0x3c0627[_0x5299a5(0x17d)]()});};exports[a5_0xa7771(0x17d)]=getEncryptSystemData;const checkLicense=()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x40e362=a5_0xa7771;let _0x21a34e=new License_1[(_0x40e362(0x16b))](),_0x45399e=yield License_1[_0x40e362(0x16b)]['findOne']();if(_0x21a34e[_0x40e362(0x17c)]()&&_0x45399e){let _0x22a6d7=JSON[_0x40e362(0x174)](CryptoJS[_0x40e362(0x191)][_0x40e362(0x179)](CryptoJS[_0x40e362(0x191)][_0x40e362(0x179)](CryptoJS[_0x40e362(0x191)][_0x40e362(0x179)](_0x21a34e['getLicenceData'](),_0x40e362(0x197))[_0x40e362(0x181)](CryptoJS['enc']['Utf8']),_0x40e362(0x185))['toString'](CryptoJS['enc'][_0x40e362(0x194)]),_0x40e362(0x184))[_0x40e362(0x181)](CryptoJS[_0x40e362(0x175)][_0x40e362(0x194)])),_0x3ae128=JSON['parse'](CryptoJS['AES'][_0x40e362(0x179)](CryptoJS['AES'][_0x40e362(0x179)](CryptoJS['AES'][_0x40e362(0x179)](_0x45399e[_0x40e362(0x18d)],_0x40e362(0x197))[_0x40e362(0x181)](CryptoJS['enc'][_0x40e362(0x194)]),'SQDKEY222')[_0x40e362(0x181)](CryptoJS[_0x40e362(0x175)]['Utf8']),_0x40e362(0x184))[_0x40e362(0x181)](CryptoJS[_0x40e362(0x175)]['Utf8']));if(_0x22a6d7[_0x40e362(0x196)][_0x40e362(0x181)]()==_0x21a34e[_0x40e362(0x178)]()[_0x40e362(0x181)]()&&_0x3ae128[_0x40e362(0x196)][_0x40e362(0x181)]()==_0x21a34e[_0x40e362(0x178)]()[_0x40e362(0x181)]()&&_0x3ae128[_0x40e362(0x170)]==_0x22a6d7['time']&&_0x3ae128[_0x40e362(0x16c)]<=_0x22a6d7[_0x40e362(0x170)]&&_0x22a6d7[_0x40e362(0x16c)]<=_0x3ae128[_0x40e362(0x170)]&&_0x3ae128[_0x40e362(0x16c)]<=_0x3ae128['time']&&_0x22a6d7[_0x40e362(0x16c)]<=_0x22a6d7[_0x40e362(0x170)]){_0x3ae128[_0x40e362(0x16c)]=_0x3ae128[_0x40e362(0x16c)]+0x1/(0x15180/app_1['default']['get'](_0x40e362(0x16e))),_0x45399e['data']=CryptoJS[_0x40e362(0x191)][_0x40e362(0x17a)](CryptoJS[_0x40e362(0x191)][_0x40e362(0x17a)](CryptoJS[_0x40e362(0x191)][_0x40e362(0x17a)](JSON[_0x40e362(0x16d)](_0x3ae128),'SQDKEY111')[_0x40e362(0x181)](),_0x40e362(0x185))[_0x40e362(0x181)](),_0x40e362(0x197))['toString'](),yield _0x45399e[_0x40e362(0x180)]();let _0x2e2104=Number(_0x3ae128[_0x40e362(0x170)])-Number(_0x3ae128[_0x40e362(0x16c)]);return _0x2e2104=_0x2e2104<0x0?0x0:_0x2e2104,{'status':!![],'timeleft':_0x2e2104['toFixed'](),'company':_0x3ae128[_0x40e362(0x16a)]};}else return{'status':![],'timeleft':null,'company':null};}else return{'status':![],'timeleft':null,'company':null};});exports[a5_0xa7771(0x172)]=checkLicense;function deleteLicense(_0x581d5d){const _0x355383=a5_0xa7771;fs[_0x355383(0x192)](os[_0x355383(0x18a)]()+_0x355383(0x18c))&&fs['unlinkSync'](os[_0x355383(0x18a)]()+_0x355383(0x18c)),_0x581d5d&&License_1[_0x355383(0x16b)]['findByIdAndDelete'](_0x581d5d[_0x355383(0x186)]);}