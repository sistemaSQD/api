'use strict';const a40_0x1a48be=a40_0x25b5;(function(_0x474cda,_0x3c6732){const _0x40210a=a40_0x25b5,_0x158a40=_0x474cda();while(!![]){try{const _0x22ef76=parseInt(_0x40210a(0x161))/0x1*(parseInt(_0x40210a(0x139))/0x2)+-parseInt(_0x40210a(0x126))/0x3+-parseInt(_0x40210a(0x152))/0x4*(-parseInt(_0x40210a(0x153))/0x5)+parseInt(_0x40210a(0x144))/0x6*(parseInt(_0x40210a(0x16d))/0x7)+-parseInt(_0x40210a(0x159))/0x8*(-parseInt(_0x40210a(0x133))/0x9)+-parseInt(_0x40210a(0x163))/0xa+-parseInt(_0x40210a(0x16a))/0xb*(parseInt(_0x40210a(0x13f))/0xc);if(_0x22ef76===_0x3c6732)break;else _0x158a40['push'](_0x158a40['shift']());}catch(_0x45c959){_0x158a40['push'](_0x158a40['shift']());}}}(a40_0x3e77,0x8bc4c));function a40_0x3e77(){const _0x36cdae=['deleteBot','sendMessage','Bot','265446EpyCrL','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20bot','bot','express-validator','findById','body','Listo\x20ya\x20<b>SQD</b>\x20puede\x20atender\x20sus\x20solicitudes,\x20puedes\x20comenzar\x20con\x20el\x20comando\x20/servidores','done','errors','pm2\x20restart\x20SQD-bot','findOne','bottoken','create','then','1050356JiEOiJ','5joWCXH','__esModule','token','withMessage','Lo\x20sentimos\x20no\x20se\x20pudo\x20eliminar\x20el\x20bot','save','16byyuPe','custom','pm2\x20stop\x20SQD-bot','getBot','next','array','Telegraf','register','347ZNDbwE','HTML','1821300vprUAV','defineProperty','host','registerChat','catch','json','child_process','21087BzTuOT','connection','deleteChat','70DDwTsG','map','Lo\x20sentimos\x20este\x20ID\x20ya\x20se\x20encuentra\x20registrado','363963dMmrId','__awaiter','findone','value','name','proxy-agent','getMe','chat','chats','uri','../models/Proxy','findByIdAndDelete','telegram','1632186mQaiOa','push','run','../models/Bot','delete','params','1436nzOmaH','check','Lo\x20sentimos\x20el\x20token\x20es\x20incorrecto','validationResult','Proxy','throw','2760HvfbYY','Lo\x20sentimos\x20no\x20se\x20pudo\x20registrar\x20el\x20bot'];a40_0x3e77=function(){return _0x36cdae;};return a40_0x3e77();}var __awaiter=this&&this[a40_0x1a48be(0x127)]||function(_0x14fed7,_0x185071,_0x49f94f,_0x3fd0ea){function _0x4b1096(_0x302a25){return _0x302a25 instanceof _0x49f94f?_0x302a25:new _0x49f94f(function(_0x1b3b8a){_0x1b3b8a(_0x302a25);});}return new(_0x49f94f||(_0x49f94f=Promise))(function(_0x9c1e2a,_0x2236a0){const _0xa45e11=a40_0x25b5;function _0x12e836(_0x9c2c0b){const _0x4a375a=a40_0x25b5;try{_0x3bcde7(_0x3fd0ea[_0x4a375a(0x15d)](_0x9c2c0b));}catch(_0xf8612f){_0x2236a0(_0xf8612f);}}function _0x1019ea(_0x179913){const _0x30e003=a40_0x25b5;try{_0x3bcde7(_0x3fd0ea[_0x30e003(0x13e)](_0x179913));}catch(_0x3f289a){_0x2236a0(_0x3f289a);}}function _0x3bcde7(_0x99ffa5){const _0x42f223=a40_0x25b5;_0x99ffa5[_0x42f223(0x14b)]?_0x9c1e2a(_0x99ffa5[_0x42f223(0x129)]):_0x4b1096(_0x99ffa5[_0x42f223(0x129)])[_0x42f223(0x151)](_0x12e836,_0x1019ea);}_0x3bcde7((_0x3fd0ea=_0x3fd0ea['apply'](_0x14fed7,_0x185071||[]))[_0xa45e11(0x15d)]());});};Object[a40_0x1a48be(0x164)](exports,a40_0x1a48be(0x154),{'value':!![]}),exports[a40_0x1a48be(0x141)]=exports[a40_0x1a48be(0x16c)]=exports[a40_0x1a48be(0x166)]=exports[a40_0x1a48be(0x160)]=exports[a40_0x1a48be(0x15c)]=void 0x0;const Bot_1=require(a40_0x1a48be(0x136)),Proxy_1=require(a40_0x1a48be(0x130)),express_validator_1=require(a40_0x1a48be(0x147)),telegraf_1=require('telegraf'),exec=require(a40_0x1a48be(0x169))['exec'],ProxyAgent=require(a40_0x1a48be(0x12b)),getBot=(_0x207dce,_0x18bc62)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x7fbea=a40_0x1a48be;let _0x34e71b=yield Bot_1[_0x7fbea(0x143)][_0x7fbea(0x14e)]()[_0x7fbea(0x151)](_0x57f395=>{return _0x57f395;})[_0x7fbea(0x167)](_0x349cf9=>{const _0x2228a0=_0x7fbea;return{'errors':[{'location':'getBot','msg':_0x2228a0(0x145),'param':_0x2228a0(0x146)}]};});return _0x18bc62[_0x7fbea(0x168)](_0x34e71b);});exports['getBot']=getBot;const register=(_0x5c0481,_0x272b03)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5247eb=a40_0x1a48be;yield express_validator_1[_0x5247eb(0x13a)](_0x5247eb(0x14f))['notEmpty']()[_0x5247eb(0x156)]('token_empty')[_0x5247eb(0x135)](_0x5c0481);const _0x3e45eb=_0x1a143b=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5df0de=_0x5247eb;return Bot_1[_0x5df0de(0x143)][_0x5df0de(0x14e)]()[_0x5df0de(0x151)](_0x43a2c4=>{if(_0x43a2c4)return Promise['reject']('bot_found');});});yield express_validator_1['check']('bottoken')[_0x5247eb(0x15a)](_0x3e45eb)[_0x5247eb(0x135)](_0x5c0481);const _0x1f39a3=express_validator_1[_0x5247eb(0x13c)](_0x5c0481);if(!_0x1f39a3['isEmpty']())return _0x272b03[_0x5247eb(0x168)]({'errors':_0x1f39a3[_0x5247eb(0x15e)]()});let _0x4a711a=yield Proxy_1[_0x5247eb(0x13d)][_0x5247eb(0x14e)]()[_0x5247eb(0x151)](_0x4e72a7=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){return _0x4e72a7;}));const _0x26dbae=_0x4a711a!==null?new ProxyAgent(_0x4a711a['uri']):null,_0x3678c2=new telegraf_1[(_0x5247eb(0x15f))](_0x5c0481[_0x5247eb(0x149)][_0x5247eb(0x14f)],{'telegram':{'agent':_0x26dbae}});yield _0x3678c2[_0x5247eb(0x132)][_0x5247eb(0x12c)]()[_0x5247eb(0x151)](_0x48fb56=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5af623=_0x5247eb;let _0x591e18=new Bot_1['BotInterface']({'token':_0x5c0481['body'][_0x5af623(0x14f)]});yield Bot_1[_0x5af623(0x143)][_0x5af623(0x150)](_0x591e18,(_0x1ceda0,_0x32d701)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x189ea4=_0x5af623;if(_0x1ceda0)return _0x272b03[_0x189ea4(0x168)]({'errors':[{'location':_0x189ea4(0x160),'msg':_0x189ea4(0x140),'param':_0x189ea4(0x150)}]});else{const _0x1cd65b=yield execCommand(_0x189ea4(0x14d));return _0x272b03[_0x189ea4(0x168)](_0x32d701);}}));}))[_0x5247eb(0x167)](_0x39d2ae=>{const _0x52be14=_0x5247eb;return _0x272b03[_0x52be14(0x168)]({'errors':[{'location':'register','msg':_0x52be14(0x13b)}]});});});exports[a40_0x1a48be(0x160)]=register;const registerChat=(_0x50f00d,_0x486414)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x526228=a40_0x1a48be;yield Bot_1['Bot'][_0x526228(0x14e)]()['then'](_0x44cc4a=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2d19ae=_0x526228;let _0x2d9821=![];_0x44cc4a[_0x2d19ae(0x12e)][_0x2d19ae(0x16e)](_0x572a31=>{const _0x3bde7c=_0x2d19ae;if(_0x572a31['id']==_0x50f00d[_0x3bde7c(0x149)]['id'])_0x2d9821=!![];});if(!_0x2d9821){let _0x275478=yield Proxy_1[_0x2d19ae(0x13d)][_0x2d19ae(0x14e)]()[_0x2d19ae(0x151)](_0x4e7ab5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){return _0x4e7ab5;}));const _0x5dc8ac=_0x275478!==null?new ProxyAgent(_0x275478[_0x2d19ae(0x12f)]):null,_0x3341f1=new telegraf_1['Telegraf'](_0x44cc4a[_0x2d19ae(0x155)],{'telegram':{'agent':_0x5dc8ac}});_0x44cc4a[_0x2d19ae(0x12e)][_0x2d19ae(0x134)]({'id':_0x50f00d[_0x2d19ae(0x149)]['id'],'name':_0x50f00d['body'][_0x2d19ae(0x12a)]}),yield _0x44cc4a['save']();const _0x5aeaa2=yield execCommand('pm2\x20restart\x20SQD-bot');return _0x3341f1[_0x2d19ae(0x132)][_0x2d19ae(0x142)](_0x50f00d[_0x2d19ae(0x149)]['id'],_0x2d19ae(0x14a),{'parse_mode':_0x2d19ae(0x162)}),_0x486414['json'](_0x44cc4a);}return _0x486414[_0x2d19ae(0x168)]({'errors':[{'location':_0x2d19ae(0x166),'msg':_0x2d19ae(0x125),'param':_0x2d19ae(0x12d)}]});}))[_0x526228(0x167)](_0x555257=>{const _0x2da078=_0x526228;return _0x486414[_0x2da078(0x168)]({'errors':[{'location':_0x2da078(0x166),'msg':_0x2da078(0x145),'param':_0x2da078(0x128)}]});});});exports[a40_0x1a48be(0x166)]=registerChat;const deleteChat=(_0x2485b7,_0x4a8b89)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x18b7c4=a40_0x1a48be;yield Bot_1[_0x18b7c4(0x143)][_0x18b7c4(0x14e)]()[_0x18b7c4(0x151)](_0x54d472=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x256c43=_0x18b7c4;return _0x54d472['chats']=_0x54d472[_0x256c43(0x12e)]['filter'](function(_0x508c46){const _0x234380=_0x256c43;return _0x508c46['id']!=_0x2485b7[_0x234380(0x149)]['id'];}),yield _0x54d472[_0x256c43(0x158)](),_0x4a8b89['json'](_0x54d472);}))['catch'](_0x438325=>{const _0x3b7c6d=_0x18b7c4;return _0x4a8b89[_0x3b7c6d(0x168)]({'errors':[{'location':_0x3b7c6d(0x16c),'msg':_0x3b7c6d(0x145),'param':_0x3b7c6d(0x128)}]});});});exports['deleteChat']=deleteChat;function a40_0x25b5(_0x293ac0,_0x66d8e9){const _0x3e77c9=a40_0x3e77();return a40_0x25b5=function(_0x25b527,_0x28d04d){_0x25b527=_0x25b527-0x125;let _0x26b024=_0x3e77c9[_0x25b527];return _0x26b024;},a40_0x25b5(_0x293ac0,_0x66d8e9);}const deleteBot=(_0x78ba4e,_0x5ea34d)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4d3256=a40_0x1a48be;yield Bot_1[_0x4d3256(0x143)][_0x4d3256(0x148)](_0x78ba4e['params']['id'])['then'](_0x504ac5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2c1cfb=_0x4d3256;if(_0x504ac5){const _0x333294=yield execCommand(_0x2c1cfb(0x15b));Bot_1[_0x2c1cfb(0x143)][_0x2c1cfb(0x131)](_0x78ba4e[_0x2c1cfb(0x138)]['id'])['then'](()=>{const _0x26e43c=_0x2c1cfb;return _0x5ea34d[_0x26e43c(0x168)](_0x504ac5);})[_0x2c1cfb(0x167)](_0x580bad=>{const _0xe8d9bb=_0x2c1cfb;return _0x5ea34d['json']({'errors':[{'location':'update','msg':_0xe8d9bb(0x157),'param':_0xe8d9bb(0x16b)}]});});}else return _0x5ea34d['json']({'errors':[{'location':_0x2c1cfb(0x137),'msg':'Lo\x20sentimos\x20este\x20bot\x20no\x20se\x20encuentra\x20registrado','param':_0x2c1cfb(0x165)}]});}))[_0x4d3256(0x167)](_0xb7d4f9=>{const _0x3802ca=_0x4d3256;return _0x5ea34d[_0x3802ca(0x168)]({'errors':[{'location':_0x3802ca(0x137),'msg':_0x3802ca(0x145),'param':'findserver'}]});});});exports['deleteBot']=deleteBot;function execCommand(_0x122726){return new Promise((_0x842e59,_0x13b0eb)=>{exec(_0x122726,(_0x2b3201,_0x570a40,_0x477b2c)=>{const _0xac61c8=a40_0x25b5;if(_0x2b3201||_0x477b2c)_0x842e59(_0xac61c8(0x14c));else _0x842e59(_0x570a40);});});}