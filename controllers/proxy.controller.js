'use strict';const a7_0x3044fa=a7_0x8d4a;(function(_0x3dfc92,_0x28a625){const _0x4630c9=a7_0x8d4a,_0x262a45=_0x3dfc92();while(!![]){try{const _0x3bb362=parseInt(_0x4630c9(0xd7))/0x1+-parseInt(_0x4630c9(0xbe))/0x2*(parseInt(_0x4630c9(0xe6))/0x3)+-parseInt(_0x4630c9(0xba))/0x4*(parseInt(_0x4630c9(0xf0))/0x5)+parseInt(_0x4630c9(0xbf))/0x6*(-parseInt(_0x4630c9(0xeb))/0x7)+parseInt(_0x4630c9(0xf5))/0x8+parseInt(_0x4630c9(0xce))/0x9*(-parseInt(_0x4630c9(0xe2))/0xa)+-parseInt(_0x4630c9(0xe5))/0xb*(-parseInt(_0x4630c9(0xcd))/0xc);if(_0x3bb362===_0x28a625)break;else _0x262a45['push'](_0x262a45['shift']());}catch(_0x3768e9){_0x262a45['push'](_0x262a45['shift']());}}}(a7_0x1132,0x384e6));var __awaiter=this&&this['__awaiter']||function(_0x4ce1d7,_0x475d63,_0x4999f9,_0x3f1e3c){function _0x3279cd(_0x19a067){return _0x19a067 instanceof _0x4999f9?_0x19a067:new _0x4999f9(function(_0x3f32e6){_0x3f32e6(_0x19a067);});}return new(_0x4999f9||(_0x4999f9=Promise))(function(_0xd684f2,_0x18a3ad){const _0x44c5d4=a7_0x8d4a;function _0x564234(_0x4703d1){const _0x4128cd=a7_0x8d4a;try{_0x9d7c6(_0x3f1e3c[_0x4128cd(0xee)](_0x4703d1));}catch(_0x20e743){_0x18a3ad(_0x20e743);}}function _0x317421(_0x40fac9){const _0x229329=a7_0x8d4a;try{_0x9d7c6(_0x3f1e3c[_0x229329(0xc8)](_0x40fac9));}catch(_0x4771a7){_0x18a3ad(_0x4771a7);}}function _0x9d7c6(_0x3c9491){const _0x2fea1f=a7_0x8d4a;_0x3c9491[_0x2fea1f(0xd9)]?_0xd684f2(_0x3c9491['value']):_0x3279cd(_0x3c9491[_0x2fea1f(0xbd)])[_0x2fea1f(0xb8)](_0x564234,_0x317421);}_0x9d7c6((_0x3f1e3c=_0x3f1e3c[_0x44c5d4(0xed)](_0x4ce1d7,_0x475d63||[]))[_0x44c5d4(0xee)]());});},__importDefault=this&&this[a7_0x3044fa(0xc7)]||function(_0x48976a){return _0x48976a&&_0x48976a['__esModule']?_0x48976a:{'default':_0x48976a};};function a7_0x1132(){const _0x32dc85=['axios-https-proxy-fix','update','ProxyInterface','uri','../models/Bot','__importDefault','throw','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy','deleteProxy','findone','findOne','1609320vbutbM','111879LUDdBs','Proxy','Lo\x20sentimos\x20este\x20proxy\x20no\x20se\x20encuentra\x20registrado','json','password','delete','Bot','port','params','210454aBYDyQ','proxy','done','pm2\x20restart\x20SQD-bot','default','create','findByIdAndDelete','../models/Useful','save','https://api.telegram.org','collection','240VzwBRM','catch','host','88kCLCnW','6JaKoWM','Lo\x20sentimos\x20no\x20se\x20pudo\x20eliminar\x20el\x20proxy','_id','child_process','updateOne','2332666WiqxmW','errors','apply','next','body','247930ejNeEy','register','message','Lo\x20sentimos\x20no\x20se\x20pudo\x20comprobar\x20el\x20correcto\x20funcionamiento\x20de\x20este\x20proxy','registerProxy','1347008qfpUuZ','findById','__esModule','log','../models/Proxy','get','then','findserver','16MSWluw','username','getProxyUrl','value','391154Biinfm','6dMnYwk','populate','registerChat'];a7_0x1132=function(){return _0x32dc85;};return a7_0x1132();}Object['defineProperty'](exports,a7_0x3044fa(0xf7),{'value':!![]}),exports[a7_0x3044fa(0xca)]=exports[a7_0x3044fa(0xf4)]=void 0x0;const Bot_1=require(a7_0x3044fa(0xc6)),Proxy_1=require(a7_0x3044fa(0xf9)),Useful_1=__importDefault(require(a7_0x3044fa(0xde))),axios_https_proxy_fix_1=__importDefault(require(a7_0x3044fa(0xc2))),exec=require(a7_0x3044fa(0xe9))['exec'],registerProxy=(_0x4352c1,_0x36ed07)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x29d7f7=a7_0x3044fa,_0xbf54d9={'host':_0x4352c1[_0x29d7f7(0xef)]['host'],'port':_0x4352c1['body'][_0x29d7f7(0xd5)],'username':_0x4352c1['body'][_0x29d7f7(0xbb)],'password':_0x4352c1[_0x29d7f7(0xef)][_0x29d7f7(0xd2)]};yield axios_https_proxy_fix_1[_0x29d7f7(0xdb)][_0x29d7f7(0xb7)](_0x29d7f7(0xe0),{'proxy':{'host':_0x4352c1[_0x29d7f7(0xef)][_0x29d7f7(0xe4)],'port':_0x4352c1[_0x29d7f7(0xef)][_0x29d7f7(0xd5)],'auth':{'username':_0x4352c1['body'][_0x29d7f7(0xbb)],'password':_0x4352c1[_0x29d7f7(0xef)][_0x29d7f7(0xd2)]}},'timeout':0x1388})[_0x29d7f7(0xb8)](_0x378caf=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3e35be=_0x29d7f7;yield Proxy_1[_0x3e35be(0xcf)][_0x3e35be(0xcc)]()[_0x3e35be(0xb8)](_0x26fe22=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x43d08f=_0x3e35be;if(_0x26fe22)return _0x26fe22[_0x43d08f(0xc5)]=Useful_1['default'][_0x43d08f(0xbc)](_0xbf54d9),_0x26fe22[_0x43d08f(0xdf)](),_0x36ed07[_0x43d08f(0xd1)](_0x26fe22);else{let _0x2116ae=new Proxy_1[(_0x43d08f(0xc4))]({'uri':Useful_1['default'][_0x43d08f(0xbc)](_0xbf54d9)});return yield Proxy_1[_0x43d08f(0xcf)][_0x43d08f(0xdc)](_0x2116ae,(_0x97a072,_0x5b9c46)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xb23d6e=_0x43d08f;return _0x97a072?_0x36ed07['json']({'errors':[{'location':_0xb23d6e(0xf1),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20registrar\x20el\x20proxy','param':'savedserver'}]}):(yield Bot_1['Bot']['findOne']()[_0xb23d6e(0xb8)](_0x3bb239=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x6c8833=_0xb23d6e;if(_0x3bb239){_0x3bb239[_0x6c8833(0xd8)]=_0x5b9c46[_0x6c8833(0xe8)],yield _0x3bb239[_0x6c8833(0xdf)]();const _0x319a13=yield execCommand(_0x6c8833(0xda));}})),_0x36ed07['json'](_0x5b9c46));}));}}))[_0x3e35be(0xe3)](_0x3d5eeb=>{const _0x568205=_0x3e35be;return _0x36ed07[_0x568205(0xd1)]({'errors':[{'location':_0x568205(0xc1),'msg':_0x568205(0xc9),'param':'findone'}]});});}))[_0x29d7f7(0xe3)](_0x2ad158=>{const _0x4a93fa=_0x29d7f7;return console[_0x4a93fa(0xf8)](_0x2ad158[_0x4a93fa(0xf2)]),_0x36ed07[_0x4a93fa(0xd1)]({'errors':[{'location':'deleteChat','msg':_0x4a93fa(0xf3),'param':_0x4a93fa(0xcb)}]});});});function a7_0x8d4a(_0x6c457d,_0x27a01c){const _0x113297=a7_0x1132();return a7_0x8d4a=function(_0x8d4a72,_0x489944){_0x8d4a72=_0x8d4a72-0xb7;let _0x4fb87e=_0x113297[_0x8d4a72];return _0x4fb87e;},a7_0x8d4a(_0x6c457d,_0x27a01c);}exports['registerProxy']=registerProxy;const deleteProxy=(_0x3850f3,_0x1c3e81)=>{const _0x3cb26c=a7_0x3044fa;Proxy_1[_0x3cb26c(0xcf)][_0x3cb26c(0xf6)](_0x3850f3[_0x3cb26c(0xd6)]['id'])[_0x3cb26c(0xb8)](_0x318440=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4da2bb=_0x3cb26c;if(_0x318440)yield Bot_1[_0x4da2bb(0xd4)][_0x4da2bb(0xcc)]()[_0x4da2bb(0xc0)](_0x4da2bb(0xd8))[_0x4da2bb(0xb8)](_0x4b6c29=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4bd41c=_0x4da2bb;if(_0x4b6c29&&_0x4b6c29[_0x4bd41c(0xd8)]){yield Bot_1[_0x4bd41c(0xd4)][_0x4bd41c(0xe1)][_0x4bd41c(0xea)]({'_id':_0x4b6c29[_0x4bd41c(0xe8)]},{'$unset':{'proxy':0x1}});const _0x2d2362=yield execCommand(_0x4bd41c(0xda));}})),Proxy_1[_0x4da2bb(0xcf)][_0x4da2bb(0xdd)](_0x3850f3[_0x4da2bb(0xd6)]['id'])['then'](()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x9fcc45=_0x4da2bb;return _0x1c3e81[_0x9fcc45(0xd1)](_0x318440);}))[_0x4da2bb(0xe3)](_0x1a8bea=>{const _0xfa0ef3=_0x4da2bb;return _0x1c3e81[_0xfa0ef3(0xd1)]({'errors':[{'location':_0xfa0ef3(0xc3),'msg':_0xfa0ef3(0xe7),'param':'connection'}]});});else return _0x1c3e81[_0x4da2bb(0xd1)]({'errors':[{'location':'delete','msg':_0x4da2bb(0xd0),'param':'host'}]});}))[_0x3cb26c(0xe3)](_0x298b18=>{const _0x32c716=_0x3cb26c;return _0x1c3e81[_0x32c716(0xd1)]({'errors':[{'location':_0x32c716(0xd3),'msg':_0x32c716(0xc9),'param':_0x32c716(0xb9)}]});});};exports[a7_0x3044fa(0xca)]=deleteProxy;function execCommand(_0x80758e){return new Promise((_0x51f7b2,_0x11d759)=>{exec(_0x80758e,(_0xc28723,_0x23193f,_0x897494)=>{const _0x2f1931=a7_0x8d4a;if(_0xc28723||_0x897494)_0x51f7b2(_0x2f1931(0xec));else _0x51f7b2(_0x23193f);});});}