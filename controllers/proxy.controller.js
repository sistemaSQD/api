'use strict';function a7_0x4069(_0xd86cdd,_0xf95345){const _0x2d8613=a7_0x2d86();return a7_0x4069=function(_0x4069b1,_0x533e7b){_0x4069b1=_0x4069b1-0x1ee;let _0x44f04a=_0x2d8613[_0x4069b1];return _0x44f04a;},a7_0x4069(_0xd86cdd,_0xf95345);}const a7_0x3bce63=a7_0x4069;(function(_0x19d7f5,_0x26b361){const _0x33a981=a7_0x4069,_0x30e7a4=_0x19d7f5();while(!![]){try{const _0x334cae=-parseInt(_0x33a981(0x20e))/0x1*(parseInt(_0x33a981(0x225))/0x2)+-parseInt(_0x33a981(0x215))/0x3+parseInt(_0x33a981(0x20f))/0x4+-parseInt(_0x33a981(0x1f0))/0x5+parseInt(_0x33a981(0x226))/0x6+parseInt(_0x33a981(0x21a))/0x7*(-parseInt(_0x33a981(0x213))/0x8)+parseInt(_0x33a981(0x21c))/0x9;if(_0x334cae===_0x26b361)break;else _0x30e7a4['push'](_0x30e7a4['shift']());}catch(_0x1802f5){_0x30e7a4['push'](_0x30e7a4['shift']());}}}(a7_0x2d86,0xb4e78));var __awaiter=this&&this[a7_0x3bce63(0x21b)]||function(_0x56be69,_0x10ef7e,_0x395851,_0x5773fd){function _0x2faaf8(_0x3a109a){return _0x3a109a instanceof _0x395851?_0x3a109a:new _0x395851(function(_0x643a4){_0x643a4(_0x3a109a);});}return new(_0x395851||(_0x395851=Promise))(function(_0x1f2d79,_0x5ba56c){const _0x5bd06b=a7_0x4069;function _0x1a59ac(_0x539e29){const _0x33841f=a7_0x4069;try{_0x47451a(_0x5773fd[_0x33841f(0x20d)](_0x539e29));}catch(_0xea9876){_0x5ba56c(_0xea9876);}}function _0x4fd56c(_0xf9da76){try{_0x47451a(_0x5773fd['throw'](_0xf9da76));}catch(_0x1fafb5){_0x5ba56c(_0x1fafb5);}}function _0x47451a(_0x5d518c){const _0x50832f=a7_0x4069;_0x5d518c[_0x50832f(0x203)]?_0x1f2d79(_0x5d518c[_0x50832f(0x228)]):_0x2faaf8(_0x5d518c[_0x50832f(0x228)])['then'](_0x1a59ac,_0x4fd56c);}_0x47451a((_0x5773fd=_0x5773fd['apply'](_0x56be69,_0x10ef7e||[]))[_0x5bd06b(0x20d)]());});},__importDefault=this&&this[a7_0x3bce63(0x229)]||function(_0x2baac8){return _0x2baac8&&_0x2baac8['__esModule']?_0x2baac8:{'default':_0x2baac8};};function a7_0x2d86(){const _0x4db0af=['password','value','__importDefault','findById','errors','connection','6213530wrWUIv','default','json','axios-https-proxy-fix','proxy','delete','Bot','updateOne','https://api.telegram.org','../models/Proxy','host','catch','params','getProxyUrl','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy','port','body','child_process','then','done','defineProperty','pm2\x20restart\x20SQD-bot','deleteProxy','Lo\x20sentimos\x20este\x20proxy\x20no\x20se\x20encuentra\x20registrado','findByIdAndDelete','Lo\x20sentimos\x20no\x20se\x20pudo\x20eliminar\x20el\x20proxy','registerChat','register','exec','next','789829Aypiba','1479184LKZZgF','findserver','savedserver','ProxyInterface','2792DgEuNk','populate','3609546lVEcOw','deleteChat','registerProxy','_id','__esModule','9758llyCUq','__awaiter','32015016JFWiqx','Lo\x20sentimos\x20no\x20se\x20pudo\x20comprobar\x20el\x20correcto\x20funcionamiento\x20de\x20este\x20proxy','username','findone','save','collection','Lo\x20sentimos\x20no\x20se\x20pudo\x20registrar\x20el\x20proxy','Proxy','findOne','2whQZPn','3217122rHtRBu'];a7_0x2d86=function(){return _0x4db0af;};return a7_0x2d86();}Object[a7_0x3bce63(0x204)](exports,a7_0x3bce63(0x219),{'value':!![]}),exports['deleteProxy']=exports['registerProxy']=void 0x0;const Bot_1=require('../models/Bot'),Proxy_1=require(a7_0x3bce63(0x1f9)),Useful_1=__importDefault(require('../models/Useful')),axios_https_proxy_fix_1=__importDefault(require(a7_0x3bce63(0x1f3))),exec=require(a7_0x3bce63(0x201))[a7_0x3bce63(0x20c)],registerProxy=(_0x5c5919,_0x498b53)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x236936=a7_0x3bce63,_0x126eb2={'host':_0x5c5919[_0x236936(0x200)][_0x236936(0x1fa)],'port':_0x5c5919['body'][_0x236936(0x1ff)],'username':_0x5c5919[_0x236936(0x200)]['username'],'password':_0x5c5919[_0x236936(0x200)][_0x236936(0x227)]};yield axios_https_proxy_fix_1[_0x236936(0x1f1)]['get'](_0x236936(0x1f8),{'proxy':{'host':_0x5c5919['body'][_0x236936(0x1fa)],'port':_0x5c5919[_0x236936(0x200)]['port'],'auth':{'username':_0x5c5919['body'][_0x236936(0x21e)],'password':_0x5c5919[_0x236936(0x200)][_0x236936(0x227)]}},'timeout':0x1388})[_0x236936(0x202)](_0x1cb2da=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3d488d=_0x236936;yield Proxy_1[_0x3d488d(0x223)][_0x3d488d(0x224)]()[_0x3d488d(0x202)](_0x241530=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5e54de=_0x3d488d;if(_0x241530)return _0x241530['uri']=Useful_1[_0x5e54de(0x1f1)]['getProxyUrl'](_0x126eb2),_0x241530[_0x5e54de(0x220)](),_0x498b53[_0x5e54de(0x1f2)](_0x241530);else{let _0x2959b6=new Proxy_1[(_0x5e54de(0x212))]({'uri':Useful_1[_0x5e54de(0x1f1)][_0x5e54de(0x1fd)](_0x126eb2)});return yield Proxy_1[_0x5e54de(0x223)]['create'](_0x2959b6,(_0x55685d,_0x4cb64d)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x38f7e9=_0x5e54de;return _0x55685d?_0x498b53[_0x38f7e9(0x1f2)]({'errors':[{'location':_0x38f7e9(0x20b),'msg':_0x38f7e9(0x222),'param':_0x38f7e9(0x211)}]}):(yield Bot_1[_0x38f7e9(0x1f6)][_0x38f7e9(0x224)]()[_0x38f7e9(0x202)](_0x97e337=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4a646b=_0x38f7e9;if(_0x97e337){_0x97e337[_0x4a646b(0x1f4)]=_0x4cb64d[_0x4a646b(0x218)],yield _0x97e337['save']();const _0xbd983c=yield execCommand(_0x4a646b(0x205));}})),_0x498b53[_0x38f7e9(0x1f2)](_0x4cb64d));}));}}))[_0x3d488d(0x1fb)](_0x35f808=>{const _0x8220b5=_0x3d488d;return _0x498b53[_0x8220b5(0x1f2)]({'errors':[{'location':_0x8220b5(0x20a),'msg':_0x8220b5(0x1fe),'param':_0x8220b5(0x21f)}]});});}))[_0x236936(0x1fb)](_0x291712=>{const _0x1c211f=_0x236936;return console['log'](_0x291712['message']),_0x498b53['json']({'errors':[{'location':_0x1c211f(0x216),'msg':_0x1c211f(0x21d),'param':_0x1c211f(0x21f)}]});});});exports[a7_0x3bce63(0x217)]=registerProxy;const deleteProxy=(_0x3e4d68,_0x4ad551)=>{const _0x17122e=a7_0x3bce63;Proxy_1[_0x17122e(0x223)][_0x17122e(0x22a)](_0x3e4d68[_0x17122e(0x1fc)]['id'])[_0x17122e(0x202)](_0x2af6a1=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4b15c0=_0x17122e;if(_0x2af6a1)yield Bot_1[_0x4b15c0(0x1f6)][_0x4b15c0(0x224)]()[_0x4b15c0(0x214)](_0x4b15c0(0x1f4))[_0x4b15c0(0x202)](_0x1a923c=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x31d4ad=_0x4b15c0;if(_0x1a923c&&_0x1a923c[_0x31d4ad(0x1f4)]){yield Bot_1[_0x31d4ad(0x1f6)][_0x31d4ad(0x221)][_0x31d4ad(0x1f7)]({'_id':_0x1a923c[_0x31d4ad(0x218)]},{'$unset':{'proxy':0x1}});const _0x29c555=yield execCommand(_0x31d4ad(0x205));}})),Proxy_1[_0x4b15c0(0x223)][_0x4b15c0(0x208)](_0x3e4d68[_0x4b15c0(0x1fc)]['id'])[_0x4b15c0(0x202)](()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xa5c39c=_0x4b15c0;return _0x4ad551[_0xa5c39c(0x1f2)](_0x2af6a1);}))[_0x4b15c0(0x1fb)](_0x1a2ee=>{const _0x33283a=_0x4b15c0;return _0x4ad551[_0x33283a(0x1f2)]({'errors':[{'location':'update','msg':_0x33283a(0x209),'param':_0x33283a(0x1ef)}]});});else return _0x4ad551['json']({'errors':[{'location':_0x4b15c0(0x1f5),'msg':_0x4b15c0(0x207),'param':_0x4b15c0(0x1fa)}]});}))[_0x17122e(0x1fb)](_0x1acc8e=>{const _0x154243=_0x17122e;return _0x4ad551[_0x154243(0x1f2)]({'errors':[{'location':'delete','msg':_0x154243(0x1fe),'param':_0x154243(0x210)}]});});};exports[a7_0x3bce63(0x206)]=deleteProxy;function execCommand(_0x34aee2){return new Promise((_0x56e2d9,_0x377f44)=>{exec(_0x34aee2,(_0xf363e3,_0x5ad0be,_0x51e077)=>{const _0x460920=a7_0x4069;if(_0xf363e3||_0x51e077)_0x56e2d9(_0x460920(0x1ee));else _0x56e2d9(_0x5ad0be);});});}