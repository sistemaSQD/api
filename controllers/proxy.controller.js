'use strict';const a7_0x2e24a9=a7_0x3286;(function(_0x2d60d7,_0x8afb5b){const _0x56a637=a7_0x3286,_0x16bae9=_0x2d60d7();while(!![]){try{const _0x4c0bd7=-parseInt(_0x56a637(0x9f))/0x1*(-parseInt(_0x56a637(0xbd))/0x2)+parseInt(_0x56a637(0xbe))/0x3+-parseInt(_0x56a637(0x92))/0x4*(-parseInt(_0x56a637(0xa3))/0x5)+parseInt(_0x56a637(0xa7))/0x6*(parseInt(_0x56a637(0x98))/0x7)+parseInt(_0x56a637(0x95))/0x8+-parseInt(_0x56a637(0x93))/0x9*(-parseInt(_0x56a637(0xad))/0xa)+-parseInt(_0x56a637(0x9c))/0xb;if(_0x4c0bd7===_0x8afb5b)break;else _0x16bae9['push'](_0x16bae9['shift']());}catch(_0x2e7504){_0x16bae9['push'](_0x16bae9['shift']());}}}(a7_0x1d4d,0x75703));var __awaiter=this&&this[a7_0x2e24a9(0xc1)]||function(_0x1c7de1,_0x571523,_0x2cd3d8,_0x5bad24){function _0x6c46b7(_0x2b114c){return _0x2b114c instanceof _0x2cd3d8?_0x2b114c:new _0x2cd3d8(function(_0x3de7b0){_0x3de7b0(_0x2b114c);});}return new(_0x2cd3d8||(_0x2cd3d8=Promise))(function(_0x51086c,_0x33a0fb){const _0x3ceb4e=a7_0x3286;function _0x25a0f4(_0x3dda34){const _0x51d739=a7_0x3286;try{_0x5d6c82(_0x5bad24[_0x51d739(0xc4)](_0x3dda34));}catch(_0xee2248){_0x33a0fb(_0xee2248);}}function _0x481f31(_0x1d40a8){const _0x56572c=a7_0x3286;try{_0x5d6c82(_0x5bad24[_0x56572c(0x90)](_0x1d40a8));}catch(_0xebe7af){_0x33a0fb(_0xebe7af);}}function _0x5d6c82(_0x50e23b){const _0x74a045=a7_0x3286;_0x50e23b[_0x74a045(0xa8)]?_0x51086c(_0x50e23b[_0x74a045(0x99)]):_0x6c46b7(_0x50e23b['value'])[_0x74a045(0xaa)](_0x25a0f4,_0x481f31);}_0x5d6c82((_0x5bad24=_0x5bad24[_0x3ceb4e(0x8d)](_0x1c7de1,_0x571523||[]))['next']());});},__importDefault=this&&this['__importDefault']||function(_0x1b87dd){return _0x1b87dd&&_0x1b87dd['__esModule']?_0x1b87dd:{'default':_0x1b87dd};};function a7_0x3286(_0x1ad7e7,_0x9b5b2f){const _0x1d4d53=a7_0x1d4d();return a7_0x3286=function(_0x32862,_0x1bff67){_0x32862=_0x32862-0x88;let _0x325628=_0x1d4d53[_0x32862];return _0x325628;},a7_0x3286(_0x1ad7e7,_0x9b5b2f);}Object[a7_0x2e24a9(0x8c)](exports,a7_0x2e24a9(0xbc),{'value':!![]}),exports[a7_0x2e24a9(0xb9)]=exports['registerProxy']=void 0x0;const Bot_1=require(a7_0x2e24a9(0x8e)),Proxy_1=require(a7_0x2e24a9(0xb4)),Useful_1=__importDefault(require(a7_0x2e24a9(0x97))),axios_https_proxy_fix_1=__importDefault(require(a7_0x2e24a9(0xb1))),exec=require(a7_0x2e24a9(0xba))[a7_0x2e24a9(0x8f)],registerProxy=(_0x21311d,_0x2e9c64)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5dff5e=a7_0x2e24a9,_0x1278ee={'host':_0x21311d[_0x5dff5e(0xaf)][_0x5dff5e(0x94)],'port':_0x21311d[_0x5dff5e(0xaf)][_0x5dff5e(0xc8)],'username':_0x21311d[_0x5dff5e(0xaf)][_0x5dff5e(0x91)],'password':_0x21311d[_0x5dff5e(0xaf)][_0x5dff5e(0x96)]};yield axios_https_proxy_fix_1[_0x5dff5e(0xa1)][_0x5dff5e(0xb5)]('https://api.telegram.org',{'proxy':{'host':_0x21311d[_0x5dff5e(0xaf)]['host'],'port':_0x21311d['body'][_0x5dff5e(0xc8)],'auth':{'username':_0x21311d['body'][_0x5dff5e(0x91)],'password':_0x21311d['body']['password']}},'timeout':0x1388})['then'](_0x1c7f6a=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x378e99=_0x5dff5e;yield Proxy_1[_0x378e99(0x8b)][_0x378e99(0xc9)]()[_0x378e99(0xaa)](_0xc49c5e=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x384751=_0x378e99;if(_0xc49c5e)return _0xc49c5e[_0x384751(0xb0)]=Useful_1[_0x384751(0xa1)][_0x384751(0xc7)](_0x1278ee),_0xc49c5e[_0x384751(0x8a)](),_0x2e9c64[_0x384751(0xb3)](_0xc49c5e);else{let _0xc6babd=new Proxy_1[(_0x384751(0xb2))]({'uri':Useful_1[_0x384751(0xa1)]['getProxyUrl'](_0x1278ee)});return yield Proxy_1['Proxy'][_0x384751(0x9e)](_0xc6babd,(_0x24ea0b,_0x40b416)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5de9b9=_0x384751;return _0x24ea0b?_0x2e9c64[_0x5de9b9(0xb3)]({'errors':[{'location':_0x5de9b9(0xb8),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20registrar\x20el\x20proxy','param':_0x5de9b9(0x9a)}]}):(yield Bot_1[_0x5de9b9(0xa0)]['findOne']()[_0x5de9b9(0xaa)](_0x2581f5=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3cf06d=_0x5de9b9;if(_0x2581f5){_0x2581f5[_0x3cf06d(0xc3)]=_0x40b416[_0x3cf06d(0xa5)],yield _0x2581f5[_0x3cf06d(0x8a)]();const _0x3f6998=yield execCommand(_0x3cf06d(0x9d));}})),_0x2e9c64[_0x5de9b9(0xb3)](_0x40b416));}));}}))[_0x378e99(0x89)](_0x13aba6=>{const _0xc35766=_0x378e99;return _0x2e9c64[_0xc35766(0xb3)]({'errors':[{'location':_0xc35766(0xb7),'msg':_0xc35766(0xbb),'param':_0xc35766(0x88)}]});});}))['catch'](_0x194dbd=>{const _0x4d4655=_0x5dff5e;return console[_0x4d4655(0xa2)](_0x194dbd[_0x4d4655(0xa9)]),_0x2e9c64[_0x4d4655(0xb3)]({'errors':[{'location':_0x4d4655(0xc5),'msg':_0x4d4655(0xa6),'param':_0x4d4655(0x88)}]});});});exports[a7_0x2e24a9(0x9b)]=registerProxy;const deleteProxy=(_0x4363f7,_0x4b428c)=>{const _0x514a89=a7_0x2e24a9;Proxy_1[_0x514a89(0x8b)]['findById'](_0x4363f7[_0x514a89(0xc6)]['id'])['then'](_0x432e25=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x531238=_0x514a89;if(_0x432e25)yield Bot_1['Bot'][_0x531238(0xc9)]()[_0x531238(0xab)](_0x531238(0xc3))[_0x531238(0xaa)](_0xd30380=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2c67e5=_0x531238;if(_0xd30380&&_0xd30380[_0x2c67e5(0xc3)]){yield Bot_1[_0x2c67e5(0xa0)][_0x2c67e5(0xae)]['updateOne']({'_id':_0xd30380[_0x2c67e5(0xa5)]},{'$unset':{'proxy':0x1}});const _0x4d0efa=yield execCommand('pm2\x20restart\x20SQD-bot');}})),Proxy_1['Proxy'][_0x531238(0xac)](_0x4363f7['params']['id'])[_0x531238(0xaa)](()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x17c680=_0x531238;return _0x4b428c[_0x17c680(0xb3)](_0x432e25);}))[_0x531238(0x89)](_0x5b027e=>{const _0x7cff7e=_0x531238;return _0x4b428c[_0x7cff7e(0xb3)]({'errors':[{'location':_0x7cff7e(0xb6),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20eliminar\x20el\x20proxy','param':_0x7cff7e(0xc0)}]});});else return _0x4b428c[_0x531238(0xb3)]({'errors':[{'location':_0x531238(0xbf),'msg':'Lo\x20sentimos\x20este\x20proxy\x20no\x20se\x20encuentra\x20registrado','param':_0x531238(0x94)}]});}))[_0x514a89(0x89)](_0x23403b=>{const _0x484143=_0x514a89;return _0x4b428c[_0x484143(0xb3)]({'errors':[{'location':_0x484143(0xbf),'msg':_0x484143(0xbb),'param':_0x484143(0xa4)}]});});};exports['deleteProxy']=deleteProxy;function a7_0x1d4d(){const _0x1b4589=['create','2253qzMjaM','Bot','default','log','35pTiAgG','findserver','_id','Lo\x20sentimos\x20no\x20se\x20pudo\x20comprobar\x20el\x20correcto\x20funcionamiento\x20de\x20este\x20proxy','36RsaEcK','done','message','then','populate','findByIdAndDelete','110iduGzK','collection','body','uri','axios-https-proxy-fix','ProxyInterface','json','../models/Proxy','get','update','registerChat','register','deleteProxy','child_process','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20proxy','__esModule','268XqjNFF','1078320ffqTNe','delete','connection','__awaiter','errors','proxy','next','deleteChat','params','getProxyUrl','port','findOne','findone','catch','save','Proxy','defineProperty','apply','../models/Bot','exec','throw','username','445864jyJkKe','282213hKFxNq','host','237696KdpIHD','password','../models/Useful','213591jLhptz','value','savedserver','registerProxy','16701234sLlgVO','pm2\x20restart\x20SQD-bot'];a7_0x1d4d=function(){return _0x1b4589;};return a7_0x1d4d();}function execCommand(_0x362cce){return new Promise((_0x3589bc,_0x3d2666)=>{exec(_0x362cce,(_0x596ff3,_0x572b11,_0x1a94f9)=>{const _0x358d49=a7_0x3286;if(_0x596ff3||_0x1a94f9)_0x3589bc(_0x358d49(0xc2));else _0x3589bc(_0x572b11);});});}