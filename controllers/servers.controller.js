'use strict';const a46_0x1a6dee=a46_0x5c1f;(function(_0x7c19cc,_0x5db193){const _0x209ce9=a46_0x5c1f,_0x1bcaf8=_0x7c19cc();while(!![]){try{const _0x27d532=-parseInt(_0x209ce9(0x101))/0x1+parseInt(_0x209ce9(0x156))/0x2*(-parseInt(_0x209ce9(0x15f))/0x3)+-parseInt(_0x209ce9(0x106))/0x4+parseInt(_0x209ce9(0xff))/0x5*(-parseInt(_0x209ce9(0xd2))/0x6)+parseInt(_0x209ce9(0x123))/0x7+-parseInt(_0x209ce9(0xca))/0x8*(-parseInt(_0x209ce9(0xd3))/0x9)+parseInt(_0x209ce9(0xf1))/0xa;if(_0x27d532===_0x5db193)break;else _0x1bcaf8['push'](_0x1bcaf8['shift']());}catch(_0x279c12){_0x1bcaf8['push'](_0x1bcaf8['shift']());}}}(a46_0x4fee,0x838c1));var __createBinding=this&&this[a46_0x1a6dee(0xea)]||(Object['create']?function(_0x7c53a9,_0x55103a,_0x2a1cb1,_0x2eec21){const _0x1adff2=a46_0x1a6dee;if(_0x2eec21===undefined)_0x2eec21=_0x2a1cb1;Object[_0x1adff2(0xd1)](_0x7c53a9,_0x2eec21,{'enumerable':!![],'get':function(){return _0x55103a[_0x2a1cb1];}});}:function(_0x4ca1c6,_0x425457,_0x58cccc,_0x222862){if(_0x222862===undefined)_0x222862=_0x58cccc;_0x4ca1c6[_0x222862]=_0x425457[_0x58cccc];}),__setModuleDefault=this&&this[a46_0x1a6dee(0x152)]||(Object[a46_0x1a6dee(0x10e)]?function(_0x2614d9,_0x19b017){const _0x315d6c=a46_0x1a6dee;Object['defineProperty'](_0x2614d9,_0x315d6c(0x138),{'enumerable':!![],'value':_0x19b017});}:function(_0x124f68,_0x54192d){const _0x561341=a46_0x1a6dee;_0x124f68[_0x561341(0x138)]=_0x54192d;}),__importStar=this&&this[a46_0x1a6dee(0x10b)]||function(_0x191e47){const _0xd2d208=a46_0x1a6dee;if(_0x191e47&&_0x191e47[_0xd2d208(0x11d)])return _0x191e47;var _0x1defbd={};if(_0x191e47!=null){for(var _0x392c3d in _0x191e47)if(_0x392c3d!==_0xd2d208(0x138)&&Object[_0xd2d208(0x164)][_0xd2d208(0xb1)][_0xd2d208(0x14a)](_0x191e47,_0x392c3d))__createBinding(_0x1defbd,_0x191e47,_0x392c3d);}return __setModuleDefault(_0x1defbd,_0x191e47),_0x1defbd;},__awaiter=this&&this[a46_0x1a6dee(0xd4)]||function(_0x44e02c,_0x33e1e9,_0x54e430,_0x32c452){function _0x123235(_0x2bc80a){return _0x2bc80a instanceof _0x54e430?_0x2bc80a:new _0x54e430(function(_0x5a67c2){_0x5a67c2(_0x2bc80a);});}return new(_0x54e430||(_0x54e430=Promise))(function(_0x586eed,_0x325d12){const _0x447bdf=a46_0x5c1f;function _0x299dc2(_0x1d23c6){const _0x1daab0=a46_0x5c1f;try{_0x1b1d94(_0x32c452[_0x1daab0(0x116)](_0x1d23c6));}catch(_0x2c664d){_0x325d12(_0x2c664d);}}function _0x29cd45(_0x50af78){const _0x2dfd67=a46_0x5c1f;try{_0x1b1d94(_0x32c452[_0x2dfd67(0x126)](_0x50af78));}catch(_0x1b9085){_0x325d12(_0x1b9085);}}function _0x1b1d94(_0x289c4b){const _0xb2d113=a46_0x5c1f;_0x289c4b['done']?_0x586eed(_0x289c4b[_0xb2d113(0xac)]):_0x123235(_0x289c4b[_0xb2d113(0xac)])[_0xb2d113(0x10c)](_0x299dc2,_0x29cd45);}_0x1b1d94((_0x32c452=_0x32c452[_0x447bdf(0x13b)](_0x44e02c,_0x33e1e9||[]))[_0x447bdf(0x116)]());});},__importDefault=this&&this[a46_0x1a6dee(0x11c)]||function(_0xd86cdb){const _0x5ae304=a46_0x1a6dee;return _0xd86cdb&&_0xd86cdb[_0x5ae304(0x11d)]?_0xd86cdb:{'default':_0xd86cdb};};Object['defineProperty'](exports,a46_0x1a6dee(0x11d),{'value':!![]}),exports[a46_0x1a6dee(0xe4)]=exports['getConnectionsData']=exports['restartServer']=exports[a46_0x1a6dee(0x117)]=exports[a46_0x1a6dee(0x131)]=exports['activate']=exports[a46_0x1a6dee(0xe8)]=exports[a46_0x1a6dee(0xda)]=exports['setSSHConnection']=exports[a46_0x1a6dee(0x104)]=exports[a46_0x1a6dee(0xc8)]=exports[a46_0x1a6dee(0x12d)]=void 0x0;const express_validator_1=require('express-validator'),Server_1=require(a46_0x1a6dee(0x15e)),Source_1=require(a46_0x1a6dee(0x136)),Quota_1=require(a46_0x1a6dee(0x147)),ConnectionNotify_1=require('../models/ConnectionNotify'),LicenseController=__importStar(require(a46_0x1a6dee(0x14d))),handleNotify=__importStar(require(a46_0x1a6dee(0x133))),Useful_1=__importDefault(require('../models/Useful')),Cache_1=__importDefault(require(a46_0x1a6dee(0x140))),{NodeSSH}=require(a46_0x1a6dee(0xdd)),parser=require('node-csv-parse'),exec=require(a46_0x1a6dee(0x145))[a46_0x1a6dee(0xbf)];let serversData=[];const getServers=(_0x5ea8ca,_0x5a45ea)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2043e9=a46_0x1a6dee;let _0x4237ab=yield Server_1[_0x2043e9(0x14e)][_0x2043e9(0xf0)]()[_0x2043e9(0x10c)](_0xa1b7c9=>{return _0xa1b7c9;})[_0x2043e9(0xc1)](_0x420e1b=>{const _0x2b430b=_0x2043e9;return{'errors':[{'location':'getServers','msg':_0x2b430b(0x105),'param':'servers'}]};});return _0x4237ab[_0x2043e9(0xf5)]((_0x41ae1c,_0x427845)=>_0x427845['active']-_0x41ae1c[_0x2043e9(0x12b)]),_0x5a45ea[_0x2043e9(0x128)](_0x4237ab);});exports[a46_0x1a6dee(0x12d)]=getServers;function a46_0x5c1f(_0x46f6c5,_0x21b18d){const _0x4fee1a=a46_0x4fee();return a46_0x5c1f=function(_0x5c1f9b,_0x4dbc1d){_0x5c1f9b=_0x5c1f9b-0xaa;let _0x541888=_0x4fee1a[_0x5c1f9b];return _0x541888;},a46_0x5c1f(_0x46f6c5,_0x21b18d);}const getServersById=(_0x22e764,_0xf8d845)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x461d86=a46_0x1a6dee;let _0x46ba4e=yield Server_1[_0x461d86(0x14e)][_0x461d86(0x141)](_0x22e764['body']['id'])['populate'](_0x461d86(0xc6))[_0x461d86(0x10c)](_0x48bbb1=>{return _0x48bbb1;})[_0x461d86(0xc1)](_0x30d975=>{const _0x3e93ce=_0x461d86;return{'errors':[{'location':_0x3e93ce(0x12d),'msg':_0x3e93ce(0x13e),'param':_0x3e93ce(0xb4)}]};});return _0xf8d845[_0x461d86(0x128)](_0x46ba4e);});exports[a46_0x1a6dee(0xc8)]=getServersById;const register=(_0xbaf6c4,_0x1f8db1)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x35fdbe=a46_0x1a6dee;yield express_validator_1[_0x35fdbe(0x165)]('host')[_0x35fdbe(0xb7)]()['withMessage'](_0x35fdbe(0xd5))['run'](_0xbaf6c4);const _0x381743=_0x24dbab=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x311ab2=_0x35fdbe;if(!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x311ab2(0xab)](_0xbaf6c4[_0x311ab2(0x107)]['host']))return Promise[_0x311ab2(0xb0)]('host_not_is_ip');}),_0xd45642=_0x48bff3=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1ebf33=_0x35fdbe;return yield Server_1[_0x1ebf33(0x14e)][_0x1ebf33(0x13f)]({'host':_0xbaf6c4['body'][_0x1ebf33(0x158)]})[_0x1ebf33(0x10c)](_0xda2f45=>{const _0x5e4ef1=_0x1ebf33;if(_0xda2f45)return Promise[_0x5e4ef1(0xb0)](_0x5e4ef1(0x11f));});});yield express_validator_1['check'](_0x35fdbe(0x158))['custom'](_0x381743)[_0x35fdbe(0x15c)](_0xbaf6c4),yield express_validator_1[_0x35fdbe(0x165)]('host')[_0x35fdbe(0xe7)](_0xd45642)['run'](_0xbaf6c4);const _0x14a756=express_validator_1[_0x35fdbe(0x142)](_0xbaf6c4);if(!_0x14a756[_0x35fdbe(0xb2)]())return _0x1f8db1['json']({'errors':_0x14a756[_0x35fdbe(0xeb)]()});let _0x9e03ab=yield Server_1['Server'][_0x35fdbe(0x13f)]({'active':!![]})[_0x35fdbe(0x10c)](_0x3ff240=>{if(_0x3ff240)return![];else return!![];}),_0x45e8ad=new Server_1['ServerInterface']({'host':_0xbaf6c4[_0x35fdbe(0x107)]['host'],'port':_0xbaf6c4[_0x35fdbe(0x107)]['port'],'cachepass':_0xbaf6c4[_0x35fdbe(0x107)][_0x35fdbe(0x100)],'active':_0x9e03ab});return yield Server_1[_0x35fdbe(0x14e)]['create'](_0x45e8ad,(_0x13c166,_0x5e728f)=>{const _0x58a607=_0x35fdbe;if(_0x13c166)return _0x1f8db1[_0x58a607(0x128)]({'errors':[{'location':_0x58a607(0x104),'msg':_0x58a607(0xbe),'param':'savedserver'}]});else return _0x1f8db1['json'](_0x5e728f);});});exports[a46_0x1a6dee(0x104)]=register;const setSSHConnection=(_0x3a19c2,_0x500763)=>{const _0x40ed0c=a46_0x1a6dee;Server_1[_0x40ed0c(0x14e)][_0x40ed0c(0x141)](_0x3a19c2[_0x40ed0c(0xc3)]['id'])[_0x40ed0c(0x10c)](_0xe21b49=>{const _0xfdf252=_0x40ed0c;if(_0xe21b49){const _0x3bd8d6=new NodeSSH();_0x3bd8d6[_0xfdf252(0x122)]({'host':_0xe21b49[_0xfdf252(0x158)],'port':_0x3a19c2[_0xfdf252(0x107)]['sshport'],'username':_0x3a19c2[_0xfdf252(0x107)][_0xfdf252(0x159)],'password':_0x3a19c2[_0xfdf252(0x107)][_0xfdf252(0x15d)]})['then'](function(){const _0x2fcfe0=_0xfdf252;Server_1[_0x2fcfe0(0x14e)]['findByIdAndUpdate'](_0x3a19c2[_0x2fcfe0(0xc3)]['id'],_0x3a19c2[_0x2fcfe0(0x107)],{'new':!![]})['then'](_0x5e9581=>{const _0x9b49cc=_0x2fcfe0;return _0x500763[_0x9b49cc(0x128)](_0x5e9581);})['catch'](_0x2304d4=>{const _0x2ab50a=_0x2fcfe0;return _0x500763[_0x2ab50a(0x128)]({'errors':[{'location':'update','msg':_0x2ab50a(0xcc),'param':'connection'}]});});})[_0xfdf252(0xc1)](_0x27cd6e=>{const _0x11a12f=_0xfdf252;return _0x500763['json']({'errors':[{'location':_0x11a12f(0xe6),'msg':_0x11a12f(0xbd),'param':'connection'}]});});}else return _0x500763['json']({'errors':[{'location':_0xfdf252(0xf6),'msg':_0xfdf252(0xc2),'param':'host'}]});})[_0x40ed0c(0xc1)](_0x44140c=>{const _0x38f95b=_0x40ed0c;return _0x500763[_0x38f95b(0x128)]({'errors':[{'location':_0x38f95b(0xf6),'msg':_0x38f95b(0x13e),'param':'findserver'}]});});};exports['setSSHConnection']=setSSHConnection;const deleteSSHConnection=(_0x317a52,_0x4397bb)=>{const _0x1bad5b=a46_0x1a6dee;Server_1['Server'][_0x1bad5b(0x141)](_0x317a52['params']['id'])['then'](_0x283619=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x27fbdb=_0x1bad5b;return _0x283619?_0x283619[_0x27fbdb(0x159)]?(yield Server_1[_0x27fbdb(0x14e)][_0x27fbdb(0x132)][_0x27fbdb(0xe1)]({'_id':_0x283619[_0x27fbdb(0xfa)]},{'$unset':{'sshuser':0x1,'sshport':0x1,'sshpass':0x1}}),_0x4397bb[_0x27fbdb(0x128)](_0x283619)):_0x4397bb['json']({'errors':[{'location':_0x27fbdb(0xf6),'msg':_0x27fbdb(0xdb),'param':_0x27fbdb(0x158)}]}):_0x4397bb[_0x27fbdb(0x128)]({'errors':[{'location':_0x27fbdb(0xf6),'msg':_0x27fbdb(0xc2),'param':_0x27fbdb(0x158)}]});}))[_0x1bad5b(0xc1)](_0xefcc0=>{const _0x41cc83=_0x1bad5b;return _0x4397bb[_0x41cc83(0x128)]({'errors':[{'location':_0x41cc83(0xf6),'msg':_0x41cc83(0x13e),'param':_0x41cc83(0xd0)}]});});};exports['deleteSSHConnection']=deleteSSHConnection;const update=(_0x3f5710,_0x5a2334)=>{const _0x2c9dba=a46_0x1a6dee;Server_1[_0x2c9dba(0x14e)]['findById'](_0x3f5710[_0x2c9dba(0xc3)]['id'])[_0x2c9dba(0x10c)](_0x1ad466=>{const _0x29efd0=_0x2c9dba;if(_0x1ad466)Server_1[_0x29efd0(0x14e)][_0x29efd0(0xf8)](_0x3f5710[_0x29efd0(0xc3)]['id'],_0x3f5710[_0x29efd0(0x107)],{'new':!![]})[_0x29efd0(0x10c)](_0x106d68=>{return _0x5a2334['json'](_0x106d68);})['catch'](_0x3c851e=>{const _0x518a78=_0x29efd0;return _0x5a2334[_0x518a78(0x128)]({'errors':[{'location':_0x518a78(0xe8),'msg':_0x518a78(0x127),'param':'connection'}]});});else return _0x5a2334['json']({'errors':[{'location':_0x29efd0(0xe8),'msg':_0x29efd0(0xc2),'param':'host'}]});})[_0x2c9dba(0xc1)](_0x3a5539=>{const _0x343a43=_0x2c9dba;return _0x5a2334[_0x343a43(0x128)]({'errors':[{'location':_0x343a43(0xe8),'msg':_0x343a43(0x13e),'param':_0x343a43(0xd0)}]});});};exports[a46_0x1a6dee(0xe8)]=update;const activate=(_0x1e4d03,_0x197833)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2984b1=a46_0x1a6dee;yield Server_1[_0x2984b1(0x14e)][_0x2984b1(0x141)](_0x1e4d03[_0x2984b1(0xc3)]['id'])[_0x2984b1(0x10c)](_0x7fcccf=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x310689=_0x2984b1;if(_0x7fcccf)yield Server_1[_0x310689(0x14e)][_0x310689(0x13f)]({'active':!![]})[_0x310689(0x10c)](_0x52ed46=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2d801c=_0x310689;_0x52ed46&&_0x52ed46[_0x2d801c(0xfa)]!=_0x7fcccf[_0x2d801c(0xfa)]&&(yield Server_1[_0x2d801c(0x14e)]['findByIdAndUpdate'](_0x52ed46['id'],{'active':![]},{'new':!![]}));})),yield Server_1[_0x310689(0x14e)][_0x310689(0xf8)](_0x1e4d03[_0x310689(0xc3)]['id'],{'active':!![]},{'new':!![]})['then'](_0x55cdae=>{const _0x146895=_0x310689;return _0x197833[_0x146895(0x128)](_0x55cdae);});else return _0x197833['json']({'errors':[{'location':'activate','msg':_0x310689(0x139),'param':'host'}]});}))[_0x2984b1(0xc1)](_0x9293ce=>{const _0x32a0a6=_0x2984b1;return _0x197833[_0x32a0a6(0x128)]({'errors':[{'location':_0x32a0a6(0xf2),'msg':_0x32a0a6(0x13e),'param':_0x32a0a6(0xd0)}]});});});exports['activate']=activate;function a46_0x4fee(){const _0x48f554=['3488xSRfxH','connection_notifies','Lo\x20sentimos\x20no\x20se\x20pudieron\x20actualizar\x20los\x20datos\x20SSH\x20del\x20servidor','\x20mgr:active_requests@','sshport','speed_value','findserver','defineProperty','1770CgZzFV','3141RFtQXY','__awaiter','host_empty','uris','squidclient\x20-h\x20','checkLicense','delete','deleteSSHConnection','Lo\x20sentimos\x20este\x20servidor\x20no\x20tiene\x20conexión\x20SSH\x20registrada','refreshSourcesLock','node-ssh','execPopulate','systemctl\x20reload\x20squid','populate','updateOne','proxyConnections','is_lock','getConnections','Lo\x20sentimos\x20no\x20se\x20pudo\x20comprobar\x20el\x20estado\x20del\x20servidor','ssh','custom','update','</b>\x20ha\x20comenzado\x20a\x20ejecutarse\x20correctamente','__createBinding','array','</b>\x20ha\x20sido\x20automaticamente\x20bloqueado\x20por\x20exceder\x20el\x20límite\x20de\x20cuota\x20de\x20<b>','restartServer','convertQuotaType','findOneAndDelete','find','20762510NifiHX','activate','updateLicense','echo\x20\x22','sort','setSSHConnection','Se\x20ha\x20perdido\x20la\x20conexión\x20al\x20proxy\x20<b>','findByIdAndUpdate','site','_id','</b>,\x20por\x20favor\x20compruebe\x20la\x20conexión','sendNotify','usersSize','killed','5375AfjjFM','cachepass','721367jCniQm','systemctl\x20restart\x20squid','shift','register','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20de\x20los\x20servidores','2746728OywwCu','body','usersConnections','<b>','bytes','__importStar','then','status','create','\x20detalles\x20de\x20los\x20sitios:\x20','sources','stdout','app','includes','get','\x22\x20>>\x20','next','statusServer','</b>\x20se\x20ha\x20conectado\x20a\x20sitios\x20que\x20contienen\x20','request','port','parseSource','__importDefault','__esModule','getSize','host_found','username','Active:\x20','connect','4610424ZEbFdL','getConnectionsData','El\x20servicio\x20en\x20el\x20proxy\x20<b>','throw','Lo\x20sentimos\x20no\x20se\x20pudieron\x20actualizar\x20los\x20datos\x20del\x20servidor','json','execCommand','forEach','active','Se\x20ha\x20recuperado\x20la\x20conexión\x20al\x20proxy\x20<b>','getServers','cat\x20','splice','map','deleteServer','collection','../handlers/handleNotify','Lo\x20sentimos\x20no\x20se\x20pudo\x20eliminar\x20el\x20servidor','Error\x20en\x20la\x20conexión\x20ssh\x20del\x20servidor\x20','../models/Source','\x20mgr:delay@','default','Lo\x20sentimos\x20este\x20servidor\x20no\x20se\x20encuentra\x20regostrado','isIPAddress','apply','routelockpc','split','Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20servidor','findOne','../models/Cache','findById','validationResult','Estado\x20del\x20servidor\x20','usersSpeed','child_process','errors','../models/Quota','connection','</b>','call','usersConnected','push','../controllers/license.controller','Server','stop','filter','server','__setModuleDefault','Quota','receive\x20new\x20connections','length','8kdRFav','indexOf','host','sshuser','identifier','countbytediff','run','sshpass','../models/Server','467292ruBlsS','Conexión\x20a\x20sitio','extractConnections','shutdown','Source','prototype','check','emit','Se\x20ha\x20detenido\x20el\x20servicio\x20en\x20el\x20proxy\x20<b>','\x20al\x20intentar\x20bloquear\x20a\x20','byteDiff','test','value','quota_consumed','ConnectionNotify','Lo\x20sentimos\x20no\x20se\x20encuentran\x20servidores\x20registrados','reject','hasOwnProperty','isEmpty','stderr','servers','systemctl\x20status\x20squid','quota','notEmpty','Lo\x20sentimos\x20no\x20se\x20pudo\x20reiniciar\x20el\x20servidor','SourceInterface','remote','notified','log','Lo\x20sentimos\x20no\x20se\x20pudo\x20establecer\x20conexión\x20SSH\x20con\x20el\x20servidor','Lo\x20sentimos\x20no\x20se\x20pudo\x20registrar\x20el\x20servidor','exec','routelockuser','catch','Lo\x20sentimos\x20este\x20servidor\x20no\x20se\x20encuentra\x20registrado','params','limit','uri','serverldap','last_connection','getServersById','save'];a46_0x4fee=function(){return _0x48f554;};return a46_0x4fee();}const deleteServer=(_0x4df057,_0x41a2ad)=>{const _0x4b1285=a46_0x1a6dee;Server_1[_0x4b1285(0x14e)]['findById'](_0x4df057[_0x4b1285(0xc3)]['id'])[_0x4b1285(0xe0)](_0x4b1285(0x110))[_0x4b1285(0x10c)](_0x2ec196=>{const _0x4cd7f0=_0x4b1285;if(_0x2ec196)_0x2ec196[_0x4cd7f0(0x110)]&&_0x2ec196[_0x4cd7f0(0x110)][_0x4cd7f0(0x130)]((_0x25a3a0,_0x13b851)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x6da47f=_0x4cd7f0;yield _0x25a3a0[_0x6da47f(0xe0)]('quota')['populate']('connection_notifies')[_0x6da47f(0xde)]();_0x25a3a0[_0x6da47f(0xcb)]['length']>0x0&&(console[_0x6da47f(0xbc)](_0x25a3a0[_0x6da47f(0xcb)][_0x6da47f(0x155)]),_0x25a3a0[_0x6da47f(0xcb)][_0x6da47f(0x130)]((_0x1bc654,_0x24c14c)=>{const _0x2c09e9=_0x6da47f;ConnectionNotify_1[_0x2c09e9(0xae)][_0x2c09e9(0x132)][_0x2c09e9(0xef)]({'_id':_0x1bc654[_0x2c09e9(0xfa)]});}));if(_0x25a3a0[_0x6da47f(0xb6)]){let _0x808d63=yield _0x25a3a0[_0x6da47f(0xb6)][_0x6da47f(0xe0)](_0x6da47f(0x110))[_0x6da47f(0xde)]();_0x808d63[_0x6da47f(0x110)][_0x6da47f(0x130)]((_0x3abfa8,_0x46064a)=>{const _0x3a4ff3=_0x6da47f;if(_0x3abfa8[_0x3a4ff3(0x15a)]==_0x25a3a0[_0x3a4ff3(0x15a)]){let _0x19a407=_0x808d63['sources'][_0x3a4ff3(0x12f)](_0x46064a,0x0);Quota_1['Quota'][_0x3a4ff3(0x132)][_0x3a4ff3(0xe1)]({'_id':_0x25a3a0['quota'][_0x3a4ff3(0xfa)]},{'$set':{'sources':_0x19a407}});}return _0x3abfa8;});}return Source_1[_0x6da47f(0x163)][_0x6da47f(0x132)][_0x6da47f(0xef)]({'_id':_0x25a3a0['_id']}),_0x25a3a0;})),Server_1['Server']['findByIdAndDelete'](_0x4df057['params']['id'])[_0x4cd7f0(0x10c)](()=>{const _0x391000=_0x4cd7f0;return _0x41a2ad[_0x391000(0x128)](_0x2ec196);})[_0x4cd7f0(0xc1)](_0x3be877=>{const _0x5c1d29=_0x4cd7f0;return _0x41a2ad[_0x5c1d29(0x128)]({'errors':[{'location':_0x5c1d29(0xe8),'msg':_0x5c1d29(0x134),'param':_0x5c1d29(0x148)}]});});else return _0x41a2ad[_0x4cd7f0(0x128)]({'errors':[{'location':_0x4cd7f0(0xd9),'msg':_0x4cd7f0(0xc2),'param':_0x4cd7f0(0x158)}]});})[_0x4b1285(0xc1)](_0x31d68=>{const _0x314fd5=_0x4b1285;return _0x41a2ad[_0x314fd5(0x128)]({'errors':[{'location':_0x314fd5(0xd9),'msg':_0x314fd5(0x13e),'param':_0x314fd5(0xd0)}]});});};exports[a46_0x1a6dee(0x131)]=deleteServer;const statusServer=(_0x10bb97,_0x133223)=>{const _0x274a84=a46_0x1a6dee;Server_1[_0x274a84(0x14e)][_0x274a84(0x141)](_0x10bb97[_0x274a84(0xc3)]['id'])[_0x274a84(0x10c)](_0xcf67d7=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x55d114=_0x274a84;if(_0xcf67d7){if(_0xcf67d7[_0x55d114(0x159)]){const _0x23d505=new NodeSSH();yield _0x23d505[_0x55d114(0x122)]({'host':_0xcf67d7[_0x55d114(0x158)],'port':_0xcf67d7[_0x55d114(0xce)],'username':_0xcf67d7[_0x55d114(0x159)],'password':_0xcf67d7[_0x55d114(0x15d)]})[_0x55d114(0x10c)](function(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2efc3b=a46_0x5c1f;yield _0x23d505[_0x2efc3b(0x129)](_0x2efc3b(0xb5))[_0x2efc3b(0x10c)](function(_0x5b45df){const _0x3d4150=_0x2efc3b;if(_0x5b45df[_0x3d4150(0xb3)]!='')return _0x133223[_0x3d4150(0x128)]({'errors':[{'location':_0x3d4150(0x117),'msg':_0x3d4150(0xe5),'param':_0x3d4150(0x148)}]});else{let _0x490063=_0x5b45df[_0x3d4150(0x111)]['split'](_0x3d4150(0x121))[0x1]['split']('\x20')[0x0];return _0x133223[_0x3d4150(0x128)]({'status':_0x490063,'detail':_0x5b45df[_0x3d4150(0x111)]});}})[_0x2efc3b(0xc1)](_0x5cb86a=>{const _0x110f4e=_0x2efc3b;return _0x133223['json']({'errors':[{'location':'statusServer','msg':_0x110f4e(0xe5),'param':_0x110f4e(0x148)}]});});});})['catch'](_0x2e02e4=>{const _0x266be1=_0x55d114;return _0x133223[_0x266be1(0x128)]({'errors':[{'location':_0x266be1(0x117),'msg':_0x266be1(0xbd),'param':'connection'}]});});}else return _0x133223[_0x55d114(0x128)]({'errors':[{'location':_0x55d114(0x117),'msg':_0x55d114(0xdb),'param':_0x55d114(0x148)}]});}else return _0x133223[_0x55d114(0x128)]({'errors':[{'location':_0x55d114(0x117),'msg':_0x55d114(0xc2),'param':_0x55d114(0x158)}]});}))['catch'](_0x30407c=>{const _0x39f85a=_0x274a84;return _0x133223[_0x39f85a(0x128)]({'errors':[{'location':'statusServer','msg':_0x39f85a(0x13e),'param':_0x39f85a(0xd0)}]});});};exports[a46_0x1a6dee(0x117)]=statusServer;const restartServer=(_0x3c6205,_0x2db003)=>{const _0x451234=a46_0x1a6dee;Server_1[_0x451234(0x14e)]['findById'](_0x3c6205[_0x451234(0xc3)]['id'])['then'](_0x48c3a8=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x14dfa4=_0x451234;if(_0x48c3a8){if(_0x48c3a8[_0x14dfa4(0x159)]){const _0x4cab39=new NodeSSH();yield _0x4cab39[_0x14dfa4(0x122)]({'host':_0x48c3a8['host'],'port':_0x48c3a8[_0x14dfa4(0xce)],'username':_0x48c3a8[_0x14dfa4(0x159)],'password':_0x48c3a8['sshpass']})[_0x14dfa4(0x10c)](function(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x240127=a46_0x5c1f;yield _0x4cab39[_0x240127(0x129)](_0x240127(0x102))[_0x240127(0x10c)](function(_0x535dd4){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3a73d9=a46_0x5c1f;if(_0x535dd4['stderr']!='')return _0x2db003['json']({'errors':[{'location':_0x3a73d9(0xed),'msg':_0x3a73d9(0xb8),'param':'connection'}]});else yield _0x4cab39[_0x3a73d9(0x129)](_0x3a73d9(0xb5))['then'](function(_0x51713a){const _0xba1b22=_0x3a73d9;if(_0x51713a[_0xba1b22(0xb3)]!='')return _0x2db003[_0xba1b22(0x128)]({'errors':[{'location':_0xba1b22(0xed),'msg':_0xba1b22(0xe5),'param':_0xba1b22(0x148)}]});else{let _0x5a8a12=_0x51713a[_0xba1b22(0x111)][_0xba1b22(0x13d)](_0xba1b22(0x121))[0x1]['split']('\x20')[0x0];return _0x2db003[_0xba1b22(0x128)]({'status':_0x5a8a12,'detail':_0x51713a[_0xba1b22(0x111)]});}})[_0x3a73d9(0xc1)](_0x5c2794=>{const _0x758c1a=_0x3a73d9;return _0x2db003[_0x758c1a(0x128)]({'errors':[{'location':_0x758c1a(0xed),'msg':'Lo\x20sentimos\x20no\x20se\x20pudo\x20comprobar\x20el\x20estado\x20del\x20servidor','param':'connection'}]});});});})[_0x240127(0xc1)](_0x4390f9=>{const _0x6b5f13=_0x240127;return _0x2db003['json']({'errors':[{'location':'restartServer','msg':_0x6b5f13(0xb8),'param':_0x6b5f13(0x148)}]});});});})[_0x14dfa4(0xc1)](_0x277561=>{const _0x8d73ac=_0x14dfa4;return _0x2db003['json']({'errors':[{'location':_0x8d73ac(0xed),'msg':_0x8d73ac(0xbd),'param':_0x8d73ac(0x148)}]});});}else return _0x2db003['json']({'errors':[{'location':_0x14dfa4(0x117),'msg':_0x14dfa4(0xdb),'param':_0x14dfa4(0x148)}]});}else return _0x2db003[_0x14dfa4(0x128)]({'errors':[{'location':_0x14dfa4(0xed),'msg':'Lo\x20sentimos\x20este\x20servidor\x20no\x20se\x20encuentra\x20registrado','param':'host'}]});}))[_0x451234(0xc1)](_0x225878=>{const _0x4f2608=_0x451234;return _0x2db003[_0x4f2608(0x128)]({'errors':[{'location':_0x4f2608(0xed),'msg':'Lo\x20sentimos\x20no\x20se\x20pudieron\x20obtener\x20los\x20datos\x20del\x20servidor','param':'findserver'}]});});};exports[a46_0x1a6dee(0xed)]=restartServer;const getConnectionsData=(_0x50eedf,_0x146aa9)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1b9de3=a46_0x1a6dee,_0x37be1d=_0x50eedf[_0x1b9de3(0x112)][_0x1b9de3(0x114)]('socketio');return yield exports[_0x1b9de3(0xe4)](_0x37be1d),_0x146aa9['json'](serversData);});exports[a46_0x1a6dee(0x124)]=getConnectionsData;const getConnections=_0x4808e0=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x28d788=a46_0x1a6dee;let _0x19e71e=yield LicenseController[_0x28d788(0xd8)]();_0x4808e0['in'](_0x28d788(0x154))[_0x28d788(0x166)](_0x28d788(0xf3),{'license':_0x19e71e});if(_0x19e71e[_0x28d788(0x10d)]){let _0x58fcf2=yield Server_1['Server']['find']()[_0x28d788(0xe0)]('sources')['then'](_0x432f4f=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){return _0x432f4f;}));if(_0x58fcf2[_0x28d788(0x155)]>0x0){const _0x1897ae=new Cache_1['default']();return _0x58fcf2[_0x28d788(0x130)]((_0x596800,_0x493a1f)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x9dbfe3=_0x28d788,_0x205889=yield execCommand(_0x9dbfe3(0xd7)+_0x596800[_0x9dbfe3(0x158)]+'\x20-p\x20'+_0x596800[_0x9dbfe3(0x11a)]+_0x9dbfe3(0xcd)+_0x596800[_0x9dbfe3(0x100)]),_0x2ab92c=yield execCommand(_0x9dbfe3(0xd7)+_0x596800[_0x9dbfe3(0x158)]+'\x20-p\x20'+_0x596800[_0x9dbfe3(0x11a)]+_0x9dbfe3(0x137)+_0x596800[_0x9dbfe3(0x100)]),_0x35c692=_0x1897ae[_0x9dbfe3(0x161)](_0x205889,_0x2ab92c);let _0x1e259f=_0x205889==_0x9dbfe3(0x162)||_0x205889==_0x9dbfe3(0x14f)?_0x205889:_0x9dbfe3(0x12b),_0x3a7c5f=_0x596800[_0x9dbfe3(0x10d)]!==undefined&&_0x596800[_0x9dbfe3(0x10d)]==_0x9dbfe3(0x14f)&&_0x1e259f=='active';if(_0x596800[_0x9dbfe3(0x10d)]==undefined||_0x596800[_0x9dbfe3(0x10d)]!==_0x1e259f){yield Server_1[_0x9dbfe3(0x14e)][_0x9dbfe3(0x132)][_0x9dbfe3(0xe1)]({'_id':_0x596800['_id']},{'$set':{'status':_0x1e259f}});let _0x5c4640=_0x1e259f=='shutdown'?_0x9dbfe3(0xf7)+_0x596800['host']+_0x9dbfe3(0xfb):_0x1e259f==_0x9dbfe3(0x14f)?_0x9dbfe3(0x167)+_0x596800['host']+_0x9dbfe3(0x149):_0x3a7c5f?_0x9dbfe3(0x125)+_0x596800[_0x9dbfe3(0x158)]+_0x9dbfe3(0xe9):_0x9dbfe3(0x12c)+_0x596800['host']+_0x9dbfe3(0x149);handleNotify[_0x9dbfe3(0xfc)]({'subject':_0x9dbfe3(0x143)+_0x596800['host'],'msg':_0x5c4640});}let _0x2c3e61={'usersConnected':[0x0,0x0],'usersConnections':[0x0,0x0],'usersSize':[0x0,0x0],'usersSpeed':[0x0,0x0]},_0x29e247=serversData[_0x9dbfe3(0x150)](function(_0x29bdec){const _0xd77a25=_0x9dbfe3;return _0x29bdec[_0xd77a25(0x151)]['host']==_0x596800[_0xd77a25(0x158)];});_0x29e247[_0x9dbfe3(0x155)]>0x0&&(_0x2c3e61={'usersConnected':_0x29e247[0x0][_0x9dbfe3(0x14b)],'usersConnections':_0x29e247[0x0][_0x9dbfe3(0x108)],'usersSize':_0x29e247[0x0]['usersSize'],'usersSpeed':_0x29e247[0x0][_0x9dbfe3(0x144)]});if(_0x35c692[0x0]&&_0x35c692[0x0][_0x9dbfe3(0x146)])_0x2c3e61['usersConnections'][_0x9dbfe3(0x14c)](0x0),_0x2c3e61[_0x9dbfe3(0x14b)][_0x9dbfe3(0x14c)](0x0),_0x2c3e61[_0x9dbfe3(0xfd)][_0x9dbfe3(0x14c)](0x0),_0x2c3e61[_0x9dbfe3(0x144)]['push'](0x0);else{let _0x230a3e=[],_0x513190=[],_0x40721c=0x0,_0x5bea48=0x0;_0x35c692[_0x9dbfe3(0x12a)]((_0xfc2381,_0x53210f)=>{const _0x433a59=_0x9dbfe3;let _0xc72358=_0xfc2381[_0x433a59(0x120)]=='-'?_0xfc2381[_0x433a59(0xba)]:_0xfc2381['username'];_0x230a3e[_0x433a59(0x157)](_0xc72358)==-0x1?(_0x230a3e[_0x433a59(0x14c)](_0xc72358),_0x513190[_0x433a59(0x14c)]({'identifier':_0xc72358,'last_connection':new Date(),'is_lock':![],'server':_0x596800,'countbytediff':0x0,'uris':[_0xfc2381['uri']]})):(_0x513190[_0x230a3e['indexOf'](_0xc72358)][_0x433a59(0x15b)]+=_0xfc2381[_0x433a59(0xaa)],_0x513190[_0x230a3e[_0x433a59(0x157)](_0xc72358)][_0x433a59(0xd6)][_0x433a59(0x14c)](_0xfc2381[_0x433a59(0xc5)])),_0x40721c+=_0xfc2381[_0x433a59(0x10a)],_0x5bea48+=_0xfc2381[_0x433a59(0xcf)];}),updateSources(_0x513190,_0x4808e0),_0x2c3e61[_0x9dbfe3(0x108)][_0x9dbfe3(0x14c)](_0x35c692[_0x9dbfe3(0x155)]),_0x2c3e61[_0x9dbfe3(0x14b)][_0x9dbfe3(0x14c)](_0x230a3e[_0x9dbfe3(0x155)]),_0x2c3e61[_0x9dbfe3(0xfd)]['push'](_0x40721c),_0x2c3e61['usersSpeed'][_0x9dbfe3(0x14c)](_0x5bea48),_0x2c3e61[_0x9dbfe3(0x108)][_0x9dbfe3(0x155)]>0x1e&&(_0x2c3e61[_0x9dbfe3(0x108)][_0x9dbfe3(0x103)](),_0x2c3e61['usersConnected'][_0x9dbfe3(0x103)](),_0x2c3e61[_0x9dbfe3(0xfd)][_0x9dbfe3(0x103)](),_0x2c3e61[_0x9dbfe3(0x144)][_0x9dbfe3(0x103)]());}_0x29e247[_0x9dbfe3(0x155)]>0x0&&(serversData=serversData[_0x9dbfe3(0x150)](function(_0x2f8e80){return _0x2f8e80['server']['host']!==_0x596800['host'];})),serversData[_0x9dbfe3(0x14c)]({'server':_0x596800,'connections':_0x35c692,'usersConnected':_0x2c3e61['usersConnected'],'usersConnections':_0x2c3e61['usersConnections'],'usersSize':_0x2c3e61[_0x9dbfe3(0xfd)],'usersSpeed':_0x2c3e61[_0x9dbfe3(0x144)]}),_0x596800[_0x9dbfe3(0x12b)]&&_0x4808e0['in'](_0x9dbfe3(0x154))[_0x9dbfe3(0x166)](_0x9dbfe3(0xe2),{'server':_0x596800,'connections':_0x35c692,'usersConnected':_0x2c3e61[_0x9dbfe3(0x14b)],'usersConnections':_0x2c3e61[_0x9dbfe3(0x108)],'usersSize':_0x2c3e61[_0x9dbfe3(0xfd)],'usersSpeed':_0x2c3e61[_0x9dbfe3(0x144)]});})),serversData;}else return[{'errors':[{'location':_0x28d788(0xe4),'msg':_0x28d788(0xaf),'param':_0x28d788(0x119)}]}];}});exports[a46_0x1a6dee(0xe4)]=getConnections;function execCommand(_0x84a5b8){return new Promise((_0x2c1ee8,_0x433a19)=>{exec(_0x84a5b8,{'timeout':0x1388},(_0x5fdf41,_0x32bea6,_0x2c8d2e)=>{const _0x43e361=a46_0x5c1f;if(_0x5fdf41){if(_0x5fdf41[_0x43e361(0xfe)])_0x2c1ee8(_0x43e361(0x162));else _0x2c1ee8('stop');}else{if(_0x2c8d2e)_0x2c1ee8(_0x43e361(0x14f));else _0x2c1ee8(_0x32bea6);}});});}function updateSources(_0x51466a,_0x292c51){return __awaiter(this,void 0x0,void 0x0,function*(){const _0xff86b0=a46_0x5c1f;let _0x34aa07=yield Quota_1[_0xff86b0(0x153)][_0xff86b0(0x13f)]({'isdefault':!![]})[_0xff86b0(0xe0)]('sources')[_0xff86b0(0x10c)](_0x5df15c=>__awaiter(this,void 0x0,void 0x0,function*(){return _0x5df15c;}))[_0xff86b0(0xc1)](_0x1fd33a=>{return null;});_0x51466a[_0xff86b0(0x130)]((_0x2c16b1,_0xce9a96)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x26e376=_0xff86b0;let _0x4b92ce=_0x2c16b1[_0x26e376(0x151)]['sources'][_0x26e376(0x150)](function(_0x588a09){const _0x585b90=_0x26e376;return _0x588a09[_0x585b90(0x15a)]==_0x2c16b1[_0x585b90(0x15a)];})[0x0];if(_0x4b92ce){yield _0x4b92ce[_0x26e376(0xe0)]('server')[_0x26e376(0xe0)]('quota')['populate'](_0x26e376(0xcb))[_0x26e376(0xde)]();_0x4b92ce[_0x26e376(0xcb)]&&_0x4b92ce['connection_notifies'][_0x26e376(0x130)]((_0x53b634,_0x3bcd9e)=>{const _0x396d68=_0x26e376;if(_0x53b634[_0x396d68(0xbb)]==undefined){let _0x1b53e4='';_0x2c16b1[_0x396d68(0xd6)][_0x396d68(0x130)](_0x1b20aa=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x2e0b70=_0x396d68;_0x1b20aa[_0x2e0b70(0x113)](_0x53b634[_0x2e0b70(0xf9)])&&(_0x1b53e4+='\x0a'+_0x1b20aa,yield ConnectionNotify_1[_0x2e0b70(0xae)][_0x2e0b70(0x132)][_0x2e0b70(0xe1)]({'_id':_0x53b634[_0x2e0b70(0xfa)]},{'$set':{'notified':new Date()}}));})),_0x1b53e4[_0x396d68(0x155)]>0x0&&handleNotify[_0x396d68(0xfc)]({'subject':_0x396d68(0x160),'msg':_0x396d68(0x109)+Useful_1[_0x396d68(0x138)][_0x396d68(0x11b)](_0x4b92ce['identifier'])+_0x396d68(0x118)+_0x53b634[_0x396d68(0xf9)]+_0x396d68(0x10f)+_0x1b53e4});}});let _0xde7232=_0x4b92ce['quota']?_0x4b92ce[_0x26e376(0xb6)]:_0x34aa07,_0x2bfa2e=_0x4b92ce[_0x26e376(0xad)]?_0x4b92ce['quota_consumed']+_0x2c16b1['countbytediff']:_0x2c16b1[_0x26e376(0x15b)],_0x5cfa15={'last_connection':_0x2c16b1[_0x26e376(0xc7)],'quota_consumed':_0x2bfa2e};!_0x4b92ce[_0x26e376(0xe3)]&&_0xde7232!=null&&(_0x2bfa2e>=_0xde7232[_0x26e376(0xc4)]&&(_0x5cfa15={'last_connection':_0x2c16b1['last_connection'],'quota_consumed':_0x2bfa2e,'is_lock':!![],'lock_date':new Date(),'lock_from':'auto'})),yield Source_1[_0x26e376(0x163)]['findByIdAndUpdate'](_0x4b92ce[_0x26e376(0xfa)],_0x5cfa15,{'new':!![]})[_0x26e376(0x10c)](_0x43b431=>{const _0x33b0e8=_0x26e376;if(_0x5cfa15[_0x33b0e8(0xe3)]&&_0x4b92ce['server'][_0x33b0e8(0x159)]){let _0x5a3eae='';if(Useful_1[_0x33b0e8(0x138)][_0x33b0e8(0x13a)](_0x2c16b1))_0x5a3eae=_0x4b92ce['server'][_0x33b0e8(0x13c)]?_0x4b92ce[_0x33b0e8(0x151)]['routelockpc']:null;else _0x5a3eae=_0x4b92ce[_0x33b0e8(0x151)][_0x33b0e8(0xc0)]?_0x4b92ce['server']['routelockuser']:null;if(_0x5a3eae!=null){const _0x5a5926=new NodeSSH();_0x5a5926[_0x33b0e8(0x122)]({'host':_0x4b92ce[_0x33b0e8(0x151)][_0x33b0e8(0x158)],'port':_0x4b92ce[_0x33b0e8(0x151)][_0x33b0e8(0xce)],'username':_0x4b92ce[_0x33b0e8(0x151)]['sshuser'],'password':_0x4b92ce[_0x33b0e8(0x151)][_0x33b0e8(0x15d)]})[_0x33b0e8(0x10c)](function(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x499f79=a46_0x5c1f;yield _0x5a5926[_0x499f79(0x129)](_0x499f79(0x12e)+_0x5a3eae)[_0x499f79(0x10c)](function(_0x21d3d3){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1f9417=a46_0x5c1f;if(_0x21d3d3['stderr']==''){let _0x27916e=_0x21d3d3[_0x1f9417(0x111)][_0x1f9417(0x13d)]('\x0a'),_0x290cbb=_0x27916e[_0x1f9417(0x150)](function(_0x40cbc1){const _0x5ef972=_0x1f9417;return _0x40cbc1!=''&&_0x40cbc1==_0x4b92ce[_0x5ef972(0x15a)];});_0x290cbb[_0x1f9417(0x155)]==0x0&&(yield _0x5a5926[_0x1f9417(0x129)](_0x1f9417(0xf4)+_0x4b92ce['identifier']+_0x1f9417(0x115)+_0x5a3eae)[_0x1f9417(0x10c)](function(_0x222ae3){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x121496=a46_0x5c1f;_0x222ae3['stderr']==''&&(yield _0x5a5926[_0x121496(0x129)](_0x121496(0xdf))[_0x121496(0x10c)](function(_0x26546e){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x22aa07=a46_0x5c1f;handleNotify['sendNotify']({'subject':'Nueva\x20cuota\x20excedida','msg':_0x22aa07(0x109)+Useful_1[_0x22aa07(0x138)][_0x22aa07(0x11b)](_0x4b92ce['identifier'])+_0x22aa07(0xec)+Useful_1[_0x22aa07(0x138)][_0x22aa07(0x11e)](_0xde7232[_0x22aa07(0xc4)])+'\x20'+Useful_1[_0x22aa07(0x138)][_0x22aa07(0xee)](_0xde7232['type'])+_0x22aa07(0x149)}),_0x292c51['emit'](_0x22aa07(0xdc));return;});}));});}));}});});});})[_0x33b0e8(0xc1)](_0x758f63=>{const _0x1c9b2a=_0x33b0e8;handleNotify[_0x1c9b2a(0xfc)]({'subject':_0x1c9b2a(0x135)+_0x4b92ce[_0x1c9b2a(0x151)]['host'],'msg':'Ha\x20ocurrido\x20un\x20error\x20en\x20la\x20conexión\x20ssh\x20\x20del\x20servidor\x20'+_0x4b92ce[_0x1c9b2a(0x151)]['host']+_0x1c9b2a(0x168)+_0x4b92ce[_0x1c9b2a(0x15a)]+'\x20por\x20exceder\x20el\x20límite\x20de\x20cuota,\x20este\x20es\x20el\x20motivo\x20del\x20error:\x20'+_0x758f63['message']});});}}})[_0x26e376(0xc1)](_0x2db574=>{return;});}else{let _0x54f9fb=new Source_1[(_0x26e376(0xb9))]({'identifier':_0x2c16b1[_0x26e376(0x15a)],'last_connection':_0x2c16b1[_0x26e376(0xc7)],'is_lock':![]});_0x54f9fb[_0x26e376(0x151)]=_0x2c16b1[_0x26e376(0x151)][_0x26e376(0xfa)];const _0x3c2f2f=new Source_1[(_0x26e376(0x163))](_0x54f9fb);_0x3c2f2f[_0x26e376(0xc9)]((_0x340cd6,_0x3decf9)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x3e4a39=_0x26e376;_0x2c16b1[_0x3e4a39(0x151)][_0x3e4a39(0x110)][_0x3e4a39(0x14c)](_0x3decf9),yield Server_1[_0x3e4a39(0x14e)][_0x3e4a39(0xf8)](_0x2c16b1[_0x3e4a39(0x151)][_0x3e4a39(0xfa)],_0x2c16b1[_0x3e4a39(0x151)],{'new':!![]});}));}}));});}